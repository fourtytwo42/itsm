{"version":3,"sources":["../../../../app/global/organizations/%5Bid%5D/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { useRouter, useParams } from 'next/navigation'\nimport Link from 'next/link'\n\ninterface Organization {\n  id: string\n  name: string\n  slug: string\n  logo?: string\n  description?: string\n  isActive: boolean\n  createdAt: string\n  _count: {\n    users: number\n    tenants: number\n    tickets: number\n    kbArticles: number\n    assets: number\n    changes: number\n  }\n}\n\nexport default function OrganizationDetailPage() {\n  const router = useRouter()\n  const params = useParams()\n  const organizationId = params.id as string\n\n  const [organization, setOrganization] = useState<Organization | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState('')\n\n  useEffect(() => {\n    if (organizationId) {\n      fetchOrganization()\n    }\n  }, [organizationId])\n\n  const fetchOrganization = async () => {\n    try {\n      const token = localStorage.getItem('accessToken')\n      const response = await fetch(`/api/v1/global/organizations/${organizationId}`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n\n      if (!response.ok) {\n        throw new Error('Failed to fetch organization')\n      }\n\n      const data = await response.json()\n      setOrganization(data)\n    } catch (err: any) {\n      setError(err.message)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  if (loading) {\n    return <div>Loading organization...</div>\n  }\n\n  if (error || !organization) {\n    return <div>Error: {error || 'Organization not found'}</div>\n  }\n\n  return (\n    <div style={{ padding: '2rem' }}>\n      <div style={{ marginBottom: '1.5rem' }}>\n        <Link href=\"/global/organizations\" className=\"btn\">\n          ‚Üê Back to Organizations\n        </Link>\n      </div>\n\n      <div className=\"card\" style={{ padding: '2rem' }}>\n        <div style={{ display: 'flex', alignItems: 'center', gap: '1rem', marginBottom: '2rem' }}>\n          {organization.logo && (\n            <img\n              src={organization.logo}\n              alt={organization.name}\n              style={{ width: '80px', height: '80px', objectFit: 'contain', borderRadius: '0.5rem' }}\n            />\n          )}\n          <div style={{ flex: 1 }}>\n            <h1 style={{ margin: 0, marginBottom: '0.5rem' }}>{organization.name}</h1>\n            <p style={{ margin: 0, color: 'var(--text-secondary)' }}>{organization.slug}</p>\n          </div>\n          <span\n            style={{\n              padding: '0.5rem 1rem',\n              borderRadius: '0.5rem',\n              backgroundColor: organization.isActive ? 'var(--success)' : 'var(--error)',\n              color: 'white',\n            }}\n          >\n            {organization.isActive ? 'Active' : 'Inactive'}\n          </span>\n        </div>\n\n        {organization.description && (\n          <div style={{ marginBottom: '2rem' }}>\n            <h3 style={{ marginBottom: '0.5rem' }}>Description</h3>\n            <p style={{ color: 'var(--text-secondary)' }}>{organization.description}</p>\n          </div>\n        )}\n\n        <div style={{ marginBottom: '2rem' }}>\n          <h3 style={{ marginBottom: '1rem' }}>Statistics</h3>\n          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(150px, 1fr))', gap: '1rem' }}>\n            <div style={{ padding: '1rem', backgroundColor: 'var(--bg-secondary)', borderRadius: '0.5rem' }}>\n              <div style={{ fontSize: '2rem', fontWeight: 'bold' }}>{organization._count.users}</div>\n              <div style={{ color: 'var(--text-secondary)' }}>Users</div>\n            </div>\n            <div style={{ padding: '1rem', backgroundColor: 'var(--bg-secondary)', borderRadius: '0.5rem' }}>\n              <div style={{ fontSize: '2rem', fontWeight: 'bold' }}>{organization._count.tenants}</div>\n              <div style={{ color: 'var(--text-secondary)' }}>Tenants</div>\n            </div>\n            <div style={{ padding: '1rem', backgroundColor: 'var(--bg-secondary)', borderRadius: '0.5rem' }}>\n              <div style={{ fontSize: '2rem', fontWeight: 'bold' }}>{organization._count.tickets}</div>\n              <div style={{ color: 'var(--text-secondary)' }}>Tickets</div>\n            </div>\n            <div style={{ padding: '1rem', backgroundColor: 'var(--bg-secondary)', borderRadius: '0.5rem' }}>\n              <div style={{ fontSize: '2rem', fontWeight: 'bold' }}>{organization._count.kbArticles}</div>\n              <div style={{ color: 'var(--text-secondary)' }}>KB Articles</div>\n            </div>\n            <div style={{ padding: '1rem', backgroundColor: 'var(--bg-secondary)', borderRadius: '0.5rem' }}>\n              <div style={{ fontSize: '2rem', fontWeight: 'bold' }}>{organization._count.assets}</div>\n              <div style={{ color: 'var(--text-secondary)' }}>Assets</div>\n            </div>\n            <div style={{ padding: '1rem', backgroundColor: 'var(--bg-secondary)', borderRadius: '0.5rem' }}>\n              <div style={{ fontSize: '2rem', fontWeight: 'bold' }}>{organization._count.changes}</div>\n              <div style={{ color: 'var(--text-secondary)' }}>Changes</div>\n            </div>\n          </div>\n        </div>\n\n        <div style={{ display: 'flex', gap: '1rem' }}>\n          <Link href={`/admin/tenants?organizationId=${organization.id}`} className=\"btn btn-primary\">\n            View Tenants\n          </Link>\n          <Link href={`/admin/users?organizationId=${organization.id}`} className=\"btn btn-primary\">\n            View Users\n          </Link>\n          <Link href={`/organization/audit?organizationId=${organization.id}`} className=\"btn\">\n            View Audit Logs\n          </Link>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"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"}