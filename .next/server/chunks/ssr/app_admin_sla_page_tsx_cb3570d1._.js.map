{"version":3,"sources":["../../../../app/admin/sla/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\n\ninterface SLAPolicy {\n  id: string\n  name: string\n  description?: string\n  priority: string\n  firstResponseTime: number\n  resolutionTime: number\n  active: boolean\n}\n\ninterface ComplianceStats {\n  total: number\n  firstResponseBreached: number\n  resolutionBreached: number\n  firstResponseMet: number\n  resolutionMet: number\n  firstResponseCompliance: number\n  resolutionCompliance: number\n}\n\nexport default function SLAPage() {\n  const [policies, setPolicies] = useState<SLAPolicy[]>([])\n  const [stats, setStats] = useState<ComplianceStats | null>(null)\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    loadData()\n  }, [])\n\n  const loadData = async () => {\n    try {\n      setLoading(true)\n      const token = localStorage.getItem('accessToken')\n\n      const [policiesRes, statsRes] = await Promise.all([\n        fetch('/api/v1/sla/policies', {\n          headers: token ? { Authorization: `Bearer ${token}` } : {},\n        }),\n        fetch('/api/v1/sla/compliance', {\n          headers: token ? { Authorization: `Bearer ${token}` } : {},\n        }),\n      ])\n\n      const policiesData = await policiesRes.json()\n      const statsData = await statsRes.json()\n\n      if (policiesData.success) {\n        setPolicies(policiesData.data.policies)\n      }\n\n      if (statsData.success) {\n        setStats(statsData.data.stats)\n      }\n    } catch (error) {\n      console.error('Failed to load SLA data:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  if (loading) {\n    return <div style={{ padding: '2rem' }}>Loading SLA data...</div>\n  }\n\n  return (\n    <div style={{ padding: '2rem', maxWidth: '1400px', margin: '0 auto' }}>\n      <h1 style={{ marginBottom: '2rem' }}>SLA Management</h1>\n\n      {stats && (\n        <div style={{ marginBottom: '2rem', display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '1rem' }}>\n          <div\n            style={{\n              padding: '1.5rem',\n              border: '1px solid var(--border-color)',\n              borderRadius: '8px',\n              backgroundColor: 'var(--bg-secondary)',\n            }}\n          >\n            <h3 style={{ marginTop: 0, marginBottom: '0.5rem' }}>Total Tickets</h3>\n            <div style={{ fontSize: '2rem', fontWeight: 'bold' }}>{stats.total}</div>\n          </div>\n\n          <div\n            style={{\n              padding: '1.5rem',\n              border: '1px solid var(--border-color)',\n              borderRadius: '8px',\n              backgroundColor: 'var(--bg-secondary)',\n            }}\n          >\n            <h3 style={{ marginTop: 0, marginBottom: '0.5rem' }}>First Response Compliance</h3>\n            <div style={{ fontSize: '2rem', fontWeight: 'bold', color: stats.firstResponseCompliance >= 90 ? 'green' : 'orange' }}>\n              {stats.firstResponseCompliance.toFixed(1)}%\n            </div>\n            <div style={{ fontSize: '0.875rem', color: 'var(--text-secondary)', marginTop: '0.5rem' }}>\n              {stats.firstResponseMet} met, {stats.firstResponseBreached} breached\n            </div>\n          </div>\n\n          <div\n            style={{\n              padding: '1.5rem',\n              border: '1px solid var(--border-color)',\n              borderRadius: '8px',\n              backgroundColor: 'var(--bg-secondary)',\n            }}\n          >\n            <h3 style={{ marginTop: 0, marginBottom: '0.5rem' }}>Resolution Compliance</h3>\n            <div style={{ fontSize: '2rem', fontWeight: 'bold', color: stats.resolutionCompliance >= 90 ? 'green' : 'orange' }}>\n              {stats.resolutionCompliance.toFixed(1)}%\n            </div>\n            <div style={{ fontSize: '0.875rem', color: 'var(--text-secondary)', marginTop: '0.5rem' }}>\n              {stats.resolutionMet} met, {stats.resolutionBreached} breached\n            </div>\n          </div>\n        </div>\n      )}\n\n      <div style={{ marginBottom: '2rem' }}>\n        <h2 style={{ marginBottom: '1rem' }}>SLA Policies</h2>\n        <div\n          style={{\n            border: '1px solid var(--border-color)',\n            borderRadius: '8px',\n            overflow: 'hidden',\n          }}\n        >\n          <table style={{ width: '100%', borderCollapse: 'collapse' }}>\n            <thead>\n              <tr style={{ backgroundColor: 'var(--bg-secondary)', borderBottom: '1px solid var(--border-color)' }}>\n                <th style={{ padding: '1rem', textAlign: 'left' }}>Name</th>\n                <th style={{ padding: '1rem', textAlign: 'left' }}>Priority</th>\n                <th style={{ padding: '1rem', textAlign: 'left' }}>First Response (min)</th>\n                <th style={{ padding: '1rem', textAlign: 'left' }}>Resolution (min)</th>\n                <th style={{ padding: '1rem', textAlign: 'left' }}>Status</th>\n              </tr>\n            </thead>\n            <tbody>\n              {policies.length === 0 ? (\n                <tr>\n                  <td colSpan={5} style={{ padding: '2rem', textAlign: 'center', color: 'var(--text-secondary)' }}>\n                    No SLA policies found\n                  </td>\n                </tr>\n              ) : (\n                policies.map((policy) => (\n                  <tr key={policy.id} style={{ borderBottom: '1px solid var(--border-color)' }}>\n                    <td style={{ padding: '1rem' }}>{policy.name}</td>\n                    <td style={{ padding: '1rem' }}>{policy.priority}</td>\n                    <td style={{ padding: '1rem' }}>{policy.firstResponseTime}</td>\n                    <td style={{ padding: '1rem' }}>{policy.resolutionTime}</td>\n                    <td style={{ padding: '1rem' }}>\n                      <span\n                        style={{\n                          padding: '0.25rem 0.5rem',\n                          borderRadius: '4px',\n                          backgroundColor: policy.active ? 'green' : 'gray',\n                          color: 'white',\n                          fontSize: '0.875rem',\n                        }}\n                      >\n                        {policy.active ? 'Active' : 'Inactive'}\n                      </span>\n                    </td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"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"}