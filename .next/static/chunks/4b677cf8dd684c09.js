(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,28928,e=>{"use strict";var t=e.i(18050),i=e.i(71645),r=e.i(18566),s=e.i(22016);function n(){let e=(0,r.useRouter)(),[n,a]=(0,i.useState)([]),[o,l]=(0,i.useState)(!0),[c,d]=(0,i.useState)("");(0,i.useEffect)(()=>{g()},[]);let g=async()=>{try{let e=localStorage.getItem("accessToken"),t=await fetch("/api/v1/global/organizations",{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw Error("Failed to fetch organizations");let i=await t.json();a(i)}catch(e){d(e.message)}finally{l(!1)}};return o?(0,t.jsx)("div",{children:"Loading organizations..."}):c?(0,t.jsxs)("div",{children:["Error: ",c]}):(0,t.jsxs)("div",{style:{padding:"2rem"},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[(0,t.jsx)("h1",{children:"Organizations"}),(0,t.jsx)(s.default,{href:"/global/organizations/new",className:"btn btn-primary",children:"Create Organization"})]}),(0,t.jsx)("div",{style:{display:"grid",gap:"1rem"},children:n.map(i=>(0,t.jsx)("div",{className:"card",style:{padding:"1.5rem",cursor:"pointer"},onClick:()=>e.push(`/global/organizations/${i.id}`),children:(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[i.logo&&(0,t.jsx)("img",{src:i.logo,alt:i.name,style:{width:"60px",height:"60px",objectFit:"contain",borderRadius:"0.5rem"}}),(0,t.jsxs)("div",{style:{flex:1},children:[(0,t.jsx)("h3",{style:{margin:0,marginBottom:"0.5rem"},children:i.name}),(0,t.jsx)("p",{style:{margin:0,color:"var(--text-secondary)",fontSize:"0.875rem"},children:i.description||"No description"}),(0,t.jsxs)("div",{style:{display:"flex",gap:"1rem",marginTop:"0.5rem",fontSize:"0.875rem",color:"var(--text-secondary)"},children:[(0,t.jsxs)("span",{children:[i._count.users," users"]}),(0,t.jsxs)("span",{children:[i._count.tenants," tenants"]}),(0,t.jsxs)("span",{children:[i._count.tickets," tickets"]})]})]}),(0,t.jsx)("div",{children:(0,t.jsx)("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"0.25rem",fontSize:"0.875rem",backgroundColor:i.isActive?"var(--success)":"var(--error)",color:"white"},children:i.isActive?"Active":"Inactive"})})]})},i.id))}),0===n.length&&(0,t.jsx)("div",{style:{textAlign:"center",padding:"3rem",color:"var(--text-secondary)"},children:"No organizations found. Create your first organization to get started."})]})}e.s(["default",()=>n])}]);