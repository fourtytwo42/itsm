{"version":3,"sources":["../../../../app/changes/new/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport Link from 'next/link'\n\nexport default function NewChangePage() {\n  const router = useRouter()\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState('')\n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    type: 'STANDARD',\n    priority: 'MEDIUM',\n    riskLevel: 'MEDIUM',\n    plannedStartDate: '',\n    plannedEndDate: '',\n  })\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setError('')\n    setLoading(true)\n\n    try {\n      const token = localStorage.getItem('accessToken')\n      const response = await fetch('/api/v1/changes', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify({\n          ...formData,\n          plannedStartDate: formData.plannedStartDate ? new Date(formData.plannedStartDate).toISOString() : undefined,\n          plannedEndDate: formData.plannedEndDate ? new Date(formData.plannedEndDate).toISOString() : undefined,\n        }),\n      })\n\n      const data = await response.json()\n      if (data.success) {\n        router.push(`/changes/${data.data.changeRequest.id}`)\n      } else {\n        setError(data.error?.message || 'Failed to create change request')\n        setLoading(false)\n      }\n    } catch (err) {\n      setError('An unexpected error occurred')\n      setLoading(false)\n    }\n  }\n\n  return (\n    <div style={{ padding: '2rem', maxWidth: '800px', margin: '0 auto' }}>\n      <div style={{ marginBottom: '2rem' }}>\n        <Link href=\"/changes\" style={{ color: 'var(--accent-primary)', textDecoration: 'none' }}>\n          ‚Üê Back to Changes\n        </Link>\n      </div>\n\n      <h1 style={{ marginBottom: '2rem' }}>Create New Change Request</h1>\n\n      {error && (\n        <div\n          style={{\n            padding: '0.75rem',\n            backgroundColor: 'rgba(239, 68, 68, 0.1)',\n            border: '1px solid var(--error)',\n            borderRadius: '0.5rem',\n            marginBottom: '1rem',\n            color: 'var(--error)',\n          }}\n        >\n          {error}\n        </div>\n      )}\n\n      <form onSubmit={handleSubmit} style={{ display: 'grid', gap: '1.5rem' }}>\n        <div>\n          <label style={{ display: 'block', marginBottom: '0.5rem', fontWeight: 500 }}>\n            Title <span style={{ color: 'var(--error)' }}>*</span>\n          </label>\n          <input\n            type=\"text\"\n            className=\"input\"\n            value={formData.title}\n            onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n            required\n            disabled={loading}\n          />\n        </div>\n\n        <div>\n          <label style={{ display: 'block', marginBottom: '0.5rem', fontWeight: 500 }}>\n            Description <span style={{ color: 'var(--error)' }}>*</span>\n          </label>\n          <textarea\n            className=\"input\"\n            value={formData.description}\n            onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n            required\n            rows={6}\n            disabled={loading}\n          />\n        </div>\n\n        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr 1fr', gap: '1rem' }}>\n          <div>\n            <label style={{ display: 'block', marginBottom: '0.5rem', fontWeight: 500 }}>\n              Type <span style={{ color: 'var(--error)' }}>*</span>\n            </label>\n            <select\n              className=\"input\"\n              value={formData.type}\n              onChange={(e) => setFormData({ ...formData, type: e.target.value })}\n              required\n              disabled={loading}\n            >\n              <option value=\"STANDARD\">Standard</option>\n              <option value=\"NORMAL\">Normal</option>\n              <option value=\"EMERGENCY\">Emergency</option>\n            </select>\n          </div>\n\n          <div>\n            <label style={{ display: 'block', marginBottom: '0.5rem', fontWeight: 500 }}>Priority</label>\n            <select\n              className=\"input\"\n              value={formData.priority}\n              onChange={(e) => setFormData({ ...formData, priority: e.target.value })}\n              disabled={loading}\n            >\n              <option value=\"LOW\">Low</option>\n              <option value=\"MEDIUM\">Medium</option>\n              <option value=\"HIGH\">High</option>\n              <option value=\"CRITICAL\">Critical</option>\n            </select>\n          </div>\n\n          <div>\n            <label style={{ display: 'block', marginBottom: '0.5rem', fontWeight: 500 }}>Risk Level</label>\n            <select\n              className=\"input\"\n              value={formData.riskLevel}\n              onChange={(e) => setFormData({ ...formData, riskLevel: e.target.value })}\n              disabled={loading}\n            >\n              <option value=\"LOW\">Low</option>\n              <option value=\"MEDIUM\">Medium</option>\n              <option value=\"HIGH\">High</option>\n              <option value=\"CRITICAL\">Critical</option>\n            </select>\n          </div>\n        </div>\n\n        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '1rem' }}>\n          <div>\n            <label style={{ display: 'block', marginBottom: '0.5rem', fontWeight: 500 }}>Planned Start Date</label>\n            <input\n              type=\"datetime-local\"\n              className=\"input\"\n              value={formData.plannedStartDate}\n              onChange={(e) => setFormData({ ...formData, plannedStartDate: e.target.value })}\n              disabled={loading}\n            />\n          </div>\n\n          <div>\n            <label style={{ display: 'block', marginBottom: '0.5rem', fontWeight: 500 }}>Planned End Date</label>\n            <input\n              type=\"datetime-local\"\n              className=\"input\"\n              value={formData.plannedEndDate}\n              onChange={(e) => setFormData({ ...formData, plannedEndDate: e.target.value })}\n              disabled={loading}\n            />\n          </div>\n        </div>\n\n        <div style={{ display: 'flex', gap: '1rem', justifyContent: 'flex-end' }}>\n          <Link\n            href=\"/changes\"\n            style={{\n              padding: '0.75rem 1.5rem',\n              backgroundColor: 'var(--bg-secondary)',\n              border: '1px solid var(--border-color)',\n              borderRadius: '6px',\n              textDecoration: 'none',\n              color: 'var(--text-primary)',\n            }}\n          >\n            Cancel\n          </Link>\n          <button type=\"submit\" className=\"btn btn-primary\" disabled={loading}>\n            {loading ? 'Creating...' : 'Create Change Request'}\n          </button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"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"}