{"version":3,"sources":["../../../../app/manager/tenants/%5Bid%5D/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { useRouter, useParams } from 'next/navigation'\nimport Link from 'next/link'\n\ninterface Tenant {\n  id: string\n  name: string\n  slug: string\n  logo?: string\n  description?: string\n  requiresLogin: boolean\n  isActive: boolean\n  categories: Array<{ id: string; category: string }>\n  kbArticles: Array<{ id: string; article: { id: string; title: string; slug: string } }>\n  customFields: Array<{\n    id: string\n    label: string\n    fieldType: string\n    required: boolean\n    options?: string[]\n    placeholder?: string\n    order: number\n  }>\n  assignments: Array<{\n    id: string\n    userId: string\n    category: string | null\n    user: {\n      id: string\n      email: string\n      firstName: string | null\n      lastName: string | null\n    }\n  }>\n}\n\nexport default function ManagerTenantDetailPage() {\n  const router = useRouter()\n  const params = useParams()\n  const tenantId = params?.id as string\n\n  const [tenant, setTenant] = useState<Tenant | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState('')\n\n  useEffect(() => {\n    loadTenant()\n  }, [tenantId])\n\n  const loadTenant = async () => {\n    try {\n      setLoading(true)\n      const token = localStorage.getItem('accessToken')\n      const response = await fetch(`/api/v1/manager/tenants/${tenantId}`, {\n        headers: token ? { Authorization: `Bearer ${token}` } : {},\n      })\n\n      const data = await response.json()\n\n      if (data.success) {\n        setTenant(data.data.tenant || data.data)\n      } else {\n        setError(data.error?.message || 'Failed to load tenant')\n      }\n    } catch (err) {\n      setError('An unexpected error occurred')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  if (loading) {\n    return (\n      <div style={{ padding: '2rem' }}>\n        <p>Loading tenant...</p>\n      </div>\n    )\n  }\n\n  if (!tenant) {\n    return (\n      <div style={{ padding: '2rem' }}>\n        <p>Tenant not found</p>\n      </div>\n    )\n  }\n\n  return (\n    <div style={{ padding: '2rem', maxWidth: '1200px', margin: '0 auto' }}>\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '2rem' }}>\n        <h1 style={{ fontSize: '2rem', margin: 0 }}>{tenant.name}</h1>\n        <button\n          onClick={() => router.back()}\n          style={{\n            padding: '0.5rem 1rem',\n            backgroundColor: 'var(--bg-tertiary)',\n            color: 'var(--text-primary)',\n            border: 'none',\n            borderRadius: '0.5rem',\n            cursor: 'pointer',\n          }}\n        >\n          Back\n        </button>\n      </div>\n\n      {error && (\n        <div\n          style={{\n            padding: '1rem',\n            backgroundColor: 'var(--error-bg)',\n            color: 'var(--error-text)',\n            borderRadius: '0.5rem',\n            marginBottom: '1rem',\n          }}\n        >\n          {error}\n        </div>\n      )}\n\n      <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '2rem', marginBottom: '2rem' }}>\n        <div style={{ padding: '1.5rem', backgroundColor: 'var(--bg-secondary)', borderRadius: '0.5rem' }}>\n          <h2 style={{ fontSize: '1.25rem', marginBottom: '1rem' }}>Basic Information</h2>\n          <div style={{ display: 'grid', gap: '0.75rem' }}>\n            <div>\n              <strong>Slug:</strong> {tenant.slug}\n            </div>\n            {tenant.description && (\n              <div>\n                <strong>Description:</strong> {tenant.description}\n              </div>\n            )}\n            <div>\n              <strong>Status:</strong>{' '}\n              <span\n                style={{\n                  padding: '0.25rem 0.75rem',\n                  borderRadius: '1rem',\n                  fontSize: '0.75rem',\n                  backgroundColor: tenant.isActive ? 'var(--success-bg)' : 'var(--error-bg)',\n                  color: tenant.isActive ? 'var(--success-text)' : 'var(--error-text)',\n                }}\n              >\n                {tenant.isActive ? 'Active' : 'Inactive'}\n              </span>\n            </div>\n            <div>\n              <strong>Requires Login:</strong> {tenant.requiresLogin ? 'Yes' : 'No'}\n            </div>\n          </div>\n        </div>\n\n        <div style={{ padding: '1.5rem', backgroundColor: 'var(--bg-secondary)', borderRadius: '0.5rem' }}>\n          <h2 style={{ fontSize: '1.25rem', marginBottom: '1rem' }}>Statistics</h2>\n          <div style={{ display: 'grid', gap: '0.75rem' }}>\n            <div>\n              <strong>Categories:</strong> {tenant.categories.length}\n            </div>\n            <div>\n              <strong>KB Articles:</strong> {tenant.kbArticles.length}\n            </div>\n            <div>\n              <strong>Custom Fields:</strong> {tenant.customFields.length}\n            </div>\n            <div>\n              <strong>Assignments:</strong> {tenant.assignments.length}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div style={{ marginBottom: '2rem' }}>\n        <h2 style={{ fontSize: '1.25rem', marginBottom: '1rem' }}>Categories</h2>\n        {tenant.categories.length === 0 ? (\n          <p style={{ color: 'var(--text-secondary)' }}>No categories configured</p>\n        ) : (\n          <div style={{ display: 'flex', flexWrap: 'wrap', gap: '0.5rem' }}>\n            {tenant.categories.map((cat) => (\n              <span\n                key={cat.id}\n                style={{\n                  padding: '0.5rem 1rem',\n                  backgroundColor: 'var(--bg-tertiary)',\n                  borderRadius: '0.5rem',\n                  fontSize: '0.875rem',\n                }}\n              >\n                {cat.category}\n              </span>\n            ))}\n          </div>\n        )}\n      </div>\n\n      <div style={{ marginBottom: '2rem' }}>\n        <h2 style={{ fontSize: '1.25rem', marginBottom: '1rem' }}>Assigned Users</h2>\n        {tenant.assignments.length === 0 ? (\n          <p style={{ color: 'var(--text-secondary)' }}>No users assigned</p>\n        ) : (\n          <div style={{ display: 'grid', gap: '0.5rem' }}>\n            {tenant.assignments.map((assignment) => (\n              <div\n                key={assignment.id}\n                style={{\n                  padding: '1rem',\n                  backgroundColor: 'var(--bg-secondary)',\n                  borderRadius: '0.5rem',\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center',\n                }}\n              >\n                <div>\n                  <div style={{ fontWeight: 500 }}>\n                    {assignment.user.firstName || assignment.user.lastName\n                      ? `${assignment.user.firstName || ''} ${assignment.user.lastName || ''}`.trim()\n                      : assignment.user.email}\n                  </div>\n                  <div style={{ fontSize: '0.875rem', color: 'var(--text-secondary)' }}>\n                    {assignment.user.email}\n                  </div>\n                </div>\n                <div style={{ fontSize: '0.875rem', color: 'var(--text-secondary)' }}>\n                  {assignment.category || 'All Categories'}\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      <div style={{ display: 'flex', gap: '1rem' }}>\n        <Link\n          href={`/manager/agents/new?tenantId=${tenantId}`}\n          style={{\n            padding: '0.75rem 1.5rem',\n            backgroundColor: 'var(--accent-primary)',\n            color: 'white',\n            textDecoration: 'none',\n            borderRadius: '0.5rem',\n            fontSize: '0.875rem',\n            fontWeight: 600,\n          }}\n        >\n          Register Agent for This Tenant\n        </Link>\n      </div>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"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"}