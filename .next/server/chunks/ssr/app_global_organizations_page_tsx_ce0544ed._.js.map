{"version":3,"sources":["../../../../app/global/organizations/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport Link from 'next/link'\n\ninterface Organization {\n  id: string\n  name: string\n  slug: string\n  logo?: string\n  description?: string\n  isActive: boolean\n  createdAt: string\n  _count: {\n    users: number\n    tenants: number\n    tickets: number\n  }\n}\n\nexport default function OrganizationsPage() {\n  const router = useRouter()\n  const [organizations, setOrganizations] = useState<Organization[]>([])\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState('')\n\n  useEffect(() => {\n    fetchOrganizations()\n  }, [])\n\n  const fetchOrganizations = async () => {\n    try {\n      const token = localStorage.getItem('accessToken')\n      const response = await fetch('/api/v1/global/organizations', {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n\n      if (!response.ok) {\n        throw new Error('Failed to fetch organizations')\n      }\n\n      const data = await response.json()\n      setOrganizations(data)\n    } catch (err: any) {\n      setError(err.message)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  if (loading) {\n    return <div>Loading organizations...</div>\n  }\n\n  if (error) {\n    return <div>Error: {error}</div>\n  }\n\n  return (\n    <div style={{ padding: '2rem' }}>\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '2rem' }}>\n        <h1>Organizations</h1>\n        <Link href=\"/global/organizations/new\" className=\"btn btn-primary\">\n          Create Organization\n        </Link>\n      </div>\n\n      <div style={{ display: 'grid', gap: '1rem' }}>\n        {organizations.map((org) => (\n          <div\n            key={org.id}\n            className=\"card\"\n            style={{ padding: '1.5rem', cursor: 'pointer' }}\n            onClick={() => router.push(`/global/organizations/${org.id}`)}\n          >\n            <div style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>\n              {org.logo && (\n                <img\n                  src={org.logo}\n                  alt={org.name}\n                  style={{ width: '60px', height: '60px', objectFit: 'contain', borderRadius: '0.5rem' }}\n                />\n              )}\n              <div style={{ flex: 1 }}>\n                <h3 style={{ margin: 0, marginBottom: '0.5rem' }}>{org.name}</h3>\n                <p style={{ margin: 0, color: 'var(--text-secondary)', fontSize: '0.875rem' }}>\n                  {org.description || 'No description'}\n                </p>\n                <div style={{ display: 'flex', gap: '1rem', marginTop: '0.5rem', fontSize: '0.875rem', color: 'var(--text-secondary)' }}>\n                  <span>{org._count.users} users</span>\n                  <span>{org._count.tenants} tenants</span>\n                  <span>{org._count.tickets} tickets</span>\n                </div>\n              </div>\n              <div>\n                <span\n                  style={{\n                    padding: '0.25rem 0.75rem',\n                    borderRadius: '0.25rem',\n                    fontSize: '0.875rem',\n                    backgroundColor: org.isActive ? 'var(--success)' : 'var(--error)',\n                    color: 'white',\n                  }}\n                >\n                  {org.isActive ? 'Active' : 'Inactive'}\n                </span>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {organizations.length === 0 && (\n        <div style={{ textAlign: 'center', padding: '3rem', color: 'var(--text-secondary)' }}>\n          No organizations found. Create your first organization to get started.\n        </div>\n      )}\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAiBe,SAAS,IACtB,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAiB,EAAE,EAC/D,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjC,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAEnC,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GACF,EAAG,EAAE,EAEL,IAAM,EAAqB,UACzB,GAAI,CACF,IAAM,EAAQ,aAAa,OAAO,CAAC,eAC7B,EAAW,MAAM,MAAM,+BAAgC,CAC3D,QAAS,CACP,cAAe,CAAC,OAAO,EAAE,EAAA,CAAO,AAClC,CACF,GAEA,GAAI,CAAC,EAAS,EAAE,CACd,CADgB,KACN,AAAJ,MAAU,iCAGlB,IAAM,EAAO,MAAM,EAAS,IAAI,GAChC,EAAiB,EACnB,CAAE,MAAO,EAAU,CACjB,EAAS,EAAI,OAAO,CACtB,QAAU,CACR,GAAW,EACb,CACF,SAEA,AAAI,EACK,CAAA,EAAA,EAAA,EADI,CACJ,EAAC,MAAA,UAAI,6BAGV,EACK,CAAA,EAAA,EADE,AACF,IAAA,EAAC,MAAA,WAAI,UAAQ,KAIpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,MAAO,CAAE,QAAS,MAAO,YAC5B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,eAAgB,gBAAiB,WAAY,SAAU,aAAc,MAAO,YACzG,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,kBACJ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAK,4BAA4B,UAAU,2BAAkB,2BAKrE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,IAAK,MAAO,WACxC,EAAc,GAAG,CAAC,AAAC,GAClB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAEC,UAAU,OACV,MAAO,CAAE,QAAS,SAAU,OAAQ,SAAU,EAC9C,QAAS,IAAM,EAAO,IAAI,CAAC,CAAC,sBAAsB,EAAE,EAAI,EAAE,CAAA,CAAE,WAE5D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,WAAY,SAAU,IAAK,MAAO,YAC9D,EAAI,IAAI,EACP,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,IAAK,EAAI,IAAI,CACb,IAAK,EAAI,IAAI,CACb,MAAO,CAAE,MAAO,OAAQ,OAAQ,OAAQ,UAAW,UAAW,aAAc,QAAS,IAGzF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,MAAO,CAAE,KAAM,CAAE,YACpB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,MAAO,CAAE,OAAQ,EAAG,aAAc,QAAS,WAAI,EAAI,IAAI,GAC3D,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,MAAO,CAAE,OAAQ,EAAG,MAAO,wBAAyB,SAAU,UAAW,WACzE,EAAI,WAAW,EAAI,mBAEtB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,IAAK,OAAQ,UAAW,SAAU,SAAU,WAAY,MAAO,uBAAwB,YACpH,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,WAAM,EAAI,MAAM,CAAC,KAAK,CAAC,YACxB,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,WAAM,EAAI,MAAM,CAAC,OAAO,CAAC,cAC1B,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,WAAM,EAAI,MAAM,CAAC,OAAO,CAAC,oBAG9B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,UACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,MAAO,CACL,QAAS,kBACT,aAAc,UACd,SAAU,WACV,gBAAiB,EAAI,QAAQ,CAAG,iBAAmB,eACnD,MAAO,OACT,WAEC,EAAI,QAAQ,CAAG,SAAW,mBAlC5B,EAAI,EAAE,KA0CS,IAAzB,EAAc,MAAM,EACnB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,MAAO,CAAE,UAAW,SAAU,QAAS,OAAQ,MAAO,uBAAwB,WAAG,6EAM9F"}