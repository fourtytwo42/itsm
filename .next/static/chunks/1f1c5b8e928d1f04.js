(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,54084,e=>{"use strict";var a=e.i(18050),r=e.i(71645),i=e.i(18566),t=e.i(22016);function s(){(0,i.useRouter)();let[e,s]=(0,r.useState)({name:"",slug:"",description:"",isActive:!0}),[n,l]=(0,r.useState)(!1),[o,d]=(0,r.useState)(""),[m,c]=(0,r.useState)(null),g=async a=>{a.preventDefault(),d(""),l(!0);try{let a=localStorage.getItem("accessToken"),r=await fetch("/api/v1/global/organizations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(e)}),i=await r.json();if(!r.ok)throw Error(i.error||"Failed to create organization");c({email:i.orgAdmin.email,defaultPassword:i.orgAdmin.defaultPassword})}catch(e){d(e.message)}finally{l(!1)}};return m?(0,a.jsx)("div",{style:{padding:"2rem",maxWidth:"600px",margin:"0 auto"},children:(0,a.jsxs)("div",{className:"card",style:{padding:"2rem"},children:[(0,a.jsx)("h1",{style:{marginBottom:"1rem"},children:"Organization Created"}),(0,a.jsxs)("p",{style:{marginBottom:"1.5rem"},children:["Organization ",(0,a.jsx)("strong",{children:e.name})," has been created successfully."]}),(0,a.jsxs)("div",{style:{backgroundColor:"var(--bg-secondary)",padding:"1rem",borderRadius:"0.5rem",marginBottom:"1.5rem"},children:[(0,a.jsx)("h3",{style:{marginBottom:"0.5rem"},children:"Organization Admin Credentials"}),(0,a.jsxs)("p",{style:{margin:0,marginBottom:"0.5rem"},children:[(0,a.jsx)("strong",{children:"Email:"})," ",m.email]}),(0,a.jsxs)("p",{style:{margin:0},children:[(0,a.jsx)("strong",{children:"Default Password:"})," ",m.defaultPassword]}),(0,a.jsx)("p",{style:{marginTop:"0.5rem",fontSize:"0.875rem",color:"var(--text-secondary)"},children:"Please save these credentials. The admin will be required to change their password on first login."})]}),(0,a.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,a.jsx)(t.default,{href:"/global/organizations",className:"btn btn-primary",children:"View Organizations"}),(0,a.jsx)("button",{className:"btn",onClick:()=>{c(null),s({name:"",slug:"",description:"",isActive:!0})},children:"Create Another"})]})]})}):(0,a.jsxs)("div",{style:{padding:"2rem",maxWidth:"600px",margin:"0 auto"},children:[(0,a.jsx)("div",{style:{marginBottom:"1.5rem"},children:(0,a.jsx)(t.default,{href:"/global/organizations",className:"btn",children:"â† Back to Organizations"})}),(0,a.jsxs)("div",{className:"card",style:{padding:"2rem"},children:[(0,a.jsx)("h1",{style:{marginBottom:"1.5rem"},children:"Create Organization"}),o&&(0,a.jsx)("div",{style:{padding:"0.75rem",backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid var(--error)",borderRadius:"0.5rem",marginBottom:"1rem",color:"var(--error)"},children:o}),(0,a.jsxs)("form",{onSubmit:g,children:[(0,a.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,a.jsx)("label",{className:"label",htmlFor:"name",children:"Organization Name *"}),(0,a.jsx)("input",{id:"name",type:"text",className:"input",value:e.name,onChange:a=>s({...e,name:a.target.value}),required:!0,disabled:n})]}),(0,a.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,a.jsx)("label",{className:"label",htmlFor:"slug",children:"Slug *"}),(0,a.jsx)("input",{id:"slug",type:"text",className:"input",value:e.slug,onChange:a=>{let r=a.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"");s({...e,slug:r})},required:!0,pattern:"[a-z0-9-]+",disabled:n}),(0,a.jsx)("p",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",marginTop:"0.25rem"},children:"Lowercase letters, numbers, and hyphens only. Used for organization admin email: admin@[slug].demo"})]}),(0,a.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,a.jsx)("label",{className:"label",htmlFor:"description",children:"Description"}),(0,a.jsx)("textarea",{id:"description",className:"input",value:e.description,onChange:a=>s({...e,description:a.target.value}),rows:3,disabled:n})]}),(0,a.jsx)("div",{style:{marginBottom:"1.5rem"},children:(0,a.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,a.jsx)("input",{type:"checkbox",checked:e.isActive,onChange:a=>s({...e,isActive:a.target.checked}),disabled:n}),(0,a.jsx)("span",{children:"Active"})]})}),(0,a.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,a.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:n,children:n?"Creating...":"Create Organization"}),(0,a.jsx)(t.default,{href:"/global/organizations",className:"btn",children:"Cancel"})]})]})]})]})}e.s(["default",()=>s])}]);