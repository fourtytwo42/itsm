module.exports=[93955,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246);function f(){let a=(0,d.useParams)(),f=a?.slug,[g,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(!0),[k,l]=(0,c.useState)(""),[m,n]=(0,c.useState)(!1);(0,c.useEffect)(()=>{n(!!localStorage.getItem("accessToken")),o()},[f]);let o=async()=>{try{j(!0);let a=localStorage.getItem("accessToken"),b=localStorage.getItem("publicToken"),c={"Content-Type":"application/json"};a?c.Authorization=`Bearer ${a}`:b&&(c.Authorization=`Bearer ${b}`);let d=await fetch(`/api/v1/tenants/${f}/tickets`,{headers:c}),e=await d.json();e.success?h(e.data):l(e.error?.message||"Failed to load tickets")}catch(a){l("An unexpected error occurred")}finally{j(!1)}};return i?(0,b.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,b.jsx)("p",{children:"Loading tickets..."})}):(0,b.jsx)("div",{style:{minHeight:"100vh",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},children:(0,b.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"2rem"},children:[(0,b.jsx)(e.default,{href:`/tenant/${f}`,style:{color:"var(--text-secondary)",textDecoration:"none",marginBottom:"2rem",display:"inline-block"},children:"â† Back"}),(0,b.jsx)("h1",{style:{fontSize:"2rem",marginBottom:"2rem"},children:"My Tickets"}),k&&(0,b.jsx)("div",{style:{padding:"1rem",backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid var(--error)",borderRadius:"8px",marginBottom:"1rem",color:"var(--error)"},children:k}),0===g.length?(0,b.jsxs)("div",{style:{textAlign:"center",padding:"4rem",color:"var(--text-secondary)"},children:[(0,b.jsx)("p",{children:"No tickets found."}),(0,b.jsx)(e.default,{href:`/tenant/${f}/submit`,style:{display:"inline-block",marginTop:"1rem",padding:"0.75rem 1.5rem",backgroundColor:"var(--accent-primary)",color:"white",textDecoration:"none",borderRadius:"8px"},children:"Submit a Ticket"})]}):(0,b.jsx)("div",{style:{display:"grid",gap:"1rem"},children:g.map(a=>(0,b.jsxs)(e.default,{href:`/tenant/${f}/tickets/${a.id}`,style:{padding:"1.5rem",backgroundColor:"var(--bg-secondary)",borderRadius:"8px",border:"1px solid var(--border-color)",textDecoration:"none",color:"var(--text-primary)",display:"block"},children:[(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"0.5rem"},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{style:{margin:0,marginBottom:"0.25rem"},children:a.subject}),(0,b.jsx)("p",{style:{margin:0,color:"var(--text-secondary)",fontSize:"0.875rem"},children:a.ticketNumber})]}),(0,b.jsx)("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:600,backgroundColor:"OPEN"===a.status||"NEW"===a.status?"rgba(59, 130, 246, 0.1)":"RESOLVED"===a.status||"CLOSED"===a.status?"rgba(16, 185, 129, 0.1)":"rgba(156, 163, 175, 0.1)",color:"OPEN"===a.status||"NEW"===a.status?"rgb(59, 130, 246)":"RESOLVED"===a.status||"CLOSED"===a.status?"rgb(16, 185, 129)":"rgb(156, 163, 175)"},children:a.status})]}),(0,b.jsxs)("p",{style:{margin:"0.5rem 0",color:"var(--text-secondary)",fontSize:"0.875rem"},children:[a.description.substring(0,150),"..."]}),(0,b.jsxs)("div",{style:{display:"flex",gap:"1rem",color:"var(--text-secondary)",fontSize:"0.75rem",marginTop:"0.5rem"},children:[(0,b.jsxs)("span",{children:["Created: ",new Date(a.createdAt).toLocaleDateString()]}),a.category&&(0,b.jsxs)("span",{children:["Category: ",a.category]})]})]},a.id))})]})})}a.s(["default",()=>f])}];

//# sourceMappingURL=app_tenant_%5Bslug%5D_tickets_page_tsx_294f212f._.js.map