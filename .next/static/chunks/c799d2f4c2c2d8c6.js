(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,72637,e=>{"use strict";var a=e.i(43476),r=e.i(71645),t=e.i(18566),s=e.i(22016);function i(){(0,t.useRouter)();let[e,i]=(0,r.useState)({email:"",password:"",confirmPassword:"",firstName:"",lastName:""}),[l,o]=(0,r.useState)(""),[n,d]=(0,r.useState)(!1),m=a=>{i({...e,[a.target.name]:a.target.value})},c=async a=>{if(a.preventDefault(),o(""),e.password!==e.confirmPassword)return void o("Passwords do not match");if(e.password.length<8)return void o("Password must be at least 8 characters");d(!0);try{let a=localStorage.getItem("publicToken"),r=await fetch("/api/v1/auth/register",{method:"POST",headers:{"Content-Type":"application/json",...a&&{"x-public-token":a}},body:JSON.stringify({email:e.email,password:e.password,firstName:e.firstName||void 0,lastName:e.lastName||void 0})}),t=await r.json();if(!t.success){o(t.error?.message||"Registration failed"),d(!1);return}localStorage.setItem("accessToken",t.data.accessToken),localStorage.setItem("refreshToken",t.data.refreshToken),localStorage.setItem("user",JSON.stringify(t.data.user)),localStorage.removeItem("publicToken"),localStorage.removeItem("publicTokenId");let s=new URLSearchParams(window.location.search).get("redirect")||"/dashboard";window.location.href=s}catch(e){o("An unexpected error occurred"),d(!1)}};return(0,a.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:(0,a.jsxs)("div",{className:"card",style:{width:"100%",maxWidth:"400px"},children:[(0,a.jsx)("h1",{style:{fontSize:"2rem",fontWeight:"bold",marginBottom:"0.5rem",textAlign:"center"},children:"Create Account"}),(0,a.jsx)("p",{style:{textAlign:"center",color:"var(--text-secondary)",marginBottom:"2rem"},children:"Sign up for a new account"}),l&&(0,a.jsx)("div",{style:{padding:"0.75rem",backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid var(--error)",borderRadius:"0.5rem",marginBottom:"1rem",color:"var(--error)"},children:l}),(0,a.jsxs)("form",{onSubmit:c,children:[(0,a.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,a.jsx)("label",{className:"label",htmlFor:"email",children:"Email *"}),(0,a.jsx)("input",{id:"email",name:"email",type:"email",className:"input",value:e.email,onChange:m,required:!0,disabled:n})]}),(0,a.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"label",htmlFor:"firstName",children:"First Name"}),(0,a.jsx)("input",{id:"firstName",name:"firstName",type:"text",className:"input",value:e.firstName,onChange:m,disabled:n})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"label",htmlFor:"lastName",children:"Last Name"}),(0,a.jsx)("input",{id:"lastName",name:"lastName",type:"text",className:"input",value:e.lastName,onChange:m,disabled:n})]})]}),(0,a.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,a.jsx)("label",{className:"label",htmlFor:"password",children:"Password *"}),(0,a.jsx)("input",{id:"password",name:"password",type:"password",className:"input",value:e.password,onChange:m,required:!0,disabled:n,minLength:8}),(0,a.jsx)("p",{style:{fontSize:"0.75rem",color:"var(--text-tertiary)",marginTop:"0.25rem"},children:"Must be at least 8 characters"})]}),(0,a.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,a.jsx)("label",{className:"label",htmlFor:"confirmPassword",children:"Confirm Password *"}),(0,a.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",className:"input",value:e.confirmPassword,onChange:m,required:!0,disabled:n})]}),(0,a.jsx)("button",{type:"submit",className:"btn btn-primary",style:{width:"100%",marginBottom:"1rem"},disabled:n,children:n?"Creating account...":"Create account"})]}),(0,a.jsx)("div",{style:{textAlign:"center",marginTop:"1.5rem"},children:(0,a.jsx)(s.default,{href:"/login",style:{color:"var(--accent-primary)",fontSize:"0.875rem"},children:"Already have an account? Sign in"})})]})})}e.s(["default",()=>i])}]);