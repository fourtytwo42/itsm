(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,91380,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(18566),l=e.i(22016);function i(){let e=(0,r.useRouter)(),[i,n]=(0,a.useState)(!1),[s,d]=(0,a.useState)(""),[o,c]=(0,a.useState)({title:"",description:"",type:"STANDARD",priority:"MEDIUM",riskLevel:"MEDIUM",plannedStartDate:"",plannedEndDate:""}),p=async t=>{t.preventDefault(),d(""),n(!0);try{let t=localStorage.getItem("accessToken"),a=await fetch("/api/v1/changes",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({...o,plannedStartDate:o.plannedStartDate?new Date(o.plannedStartDate).toISOString():void 0,plannedEndDate:o.plannedEndDate?new Date(o.plannedEndDate).toISOString():void 0})}),r=await a.json();r.success?e.push(`/changes/${r.data.changeRequest.id}`):(d(r.error?.message||"Failed to create change request"),n(!1))}catch(e){d("An unexpected error occurred"),n(!1)}};return(0,t.jsxs)("div",{style:{padding:"2rem",maxWidth:"800px",margin:"0 auto"},children:[(0,t.jsx)("div",{style:{marginBottom:"2rem"},children:(0,t.jsx)(l.default,{href:"/changes",style:{color:"var(--accent-primary)",textDecoration:"none"},children:"â† Back to Changes"})}),(0,t.jsx)("h1",{style:{marginBottom:"2rem"},children:"Create New Change Request"}),s&&(0,t.jsx)("div",{style:{padding:"0.75rem",backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid var(--error)",borderRadius:"0.5rem",marginBottom:"1rem",color:"var(--error)"},children:s}),(0,t.jsxs)("form",{onSubmit:p,style:{display:"grid",gap:"1.5rem"},children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:["Title ",(0,t.jsx)("span",{style:{color:"var(--error)"},children:"*"})]}),(0,t.jsx)("input",{type:"text",className:"input",value:o.title,onChange:e=>c({...o,title:e.target.value}),required:!0,disabled:i})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:["Description ",(0,t.jsx)("span",{style:{color:"var(--error)"},children:"*"})]}),(0,t.jsx)("textarea",{className:"input",value:o.description,onChange:e=>c({...o,description:e.target.value}),required:!0,rows:6,disabled:i})]}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"1rem"},children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:["Type ",(0,t.jsx)("span",{style:{color:"var(--error)"},children:"*"})]}),(0,t.jsxs)("select",{className:"input",value:o.type,onChange:e=>c({...o,type:e.target.value}),required:!0,disabled:i,children:[(0,t.jsx)("option",{value:"STANDARD",children:"Standard"}),(0,t.jsx)("option",{value:"NORMAL",children:"Normal"}),(0,t.jsx)("option",{value:"EMERGENCY",children:"Emergency"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:"Priority"}),(0,t.jsxs)("select",{className:"input",value:o.priority,onChange:e=>c({...o,priority:e.target.value}),disabled:i,children:[(0,t.jsx)("option",{value:"LOW",children:"Low"}),(0,t.jsx)("option",{value:"MEDIUM",children:"Medium"}),(0,t.jsx)("option",{value:"HIGH",children:"High"}),(0,t.jsx)("option",{value:"CRITICAL",children:"Critical"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:"Risk Level"}),(0,t.jsxs)("select",{className:"input",value:o.riskLevel,onChange:e=>c({...o,riskLevel:e.target.value}),disabled:i,children:[(0,t.jsx)("option",{value:"LOW",children:"Low"}),(0,t.jsx)("option",{value:"MEDIUM",children:"Medium"}),(0,t.jsx)("option",{value:"HIGH",children:"High"}),(0,t.jsx)("option",{value:"CRITICAL",children:"Critical"})]})]})]}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:"Planned Start Date"}),(0,t.jsx)("input",{type:"datetime-local",className:"input",value:o.plannedStartDate,onChange:e=>c({...o,plannedStartDate:e.target.value}),disabled:i})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:"Planned End Date"}),(0,t.jsx)("input",{type:"datetime-local",className:"input",value:o.plannedEndDate,onChange:e=>c({...o,plannedEndDate:e.target.value}),disabled:i})]})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[(0,t.jsx)(l.default,{href:"/changes",style:{padding:"0.75rem 1.5rem",backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"6px",textDecoration:"none",color:"var(--text-primary)"},children:"Cancel"}),(0,t.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:i,children:i?"Creating...":"Create Change Request"})]})]})]})}e.s(["default",()=>i])}]);