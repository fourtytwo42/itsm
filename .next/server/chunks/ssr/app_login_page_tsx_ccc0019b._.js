module.exports=[83694,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246);let f=[{email:"admin@demo.com",password:"demo123",label:"Admin"},{email:"manager@demo.com",password:"demo123",label:"IT Manager"},{email:"agent@demo.com",password:"demo123",label:"Agent"},{email:"user@demo.com",password:"demo123",label:"End User"}];function g(){(0,d.useRouter)();let[a,g]=(0,c.useState)(""),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(!1),n=async b=>{b.preventDefault(),k(""),m(!0);try{let b,c=await fetch("/api/v1/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:h})});try{b=await c.json()}catch(a){k("Invalid response from server"),m(!1);return}if(!c.ok||!b.success){k(b.error?.message||`Login failed: ${c.statusText||"Unknown error"}`),m(!1);return}if(!b.data?.accessToken||!b.data?.refreshToken||!b.data?.user){k("Invalid response structure from server"),m(!1);return}try{localStorage.setItem("accessToken",b.data.accessToken),localStorage.setItem("refreshToken",b.data.refreshToken),localStorage.setItem("user",JSON.stringify(b.data.user))}catch(a){k("Failed to save login credentials"),m(!1);return}m(!1),window.location.href="/dashboard"}catch(a){console.error("Login error:",a),k(a.message||"An unexpected error occurred. Please try again."),m(!1)}};return(0,b.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:(0,b.jsxs)("div",{className:"card",style:{width:"100%",maxWidth:"400px"},children:[(0,b.jsx)("h1",{style:{fontSize:"2rem",fontWeight:"bold",marginBottom:"0.5rem",textAlign:"center"},children:"ITSM Helpdesk"}),(0,b.jsx)("p",{style:{textAlign:"center",color:"var(--text-secondary)",marginBottom:"2rem"},children:"Sign in to your account"}),j&&(0,b.jsx)("div",{style:{padding:"0.75rem",backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid var(--error)",borderRadius:"0.5rem",marginBottom:"1rem",color:"var(--error)"},children:j}),(0,b.jsxs)("form",{onSubmit:n,children:[(0,b.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,b.jsx)("label",{className:"label",htmlFor:"email",children:"Email"}),(0,b.jsx)("input",{id:"email",type:"email",className:"input",value:a,onChange:a=>g(a.target.value),required:!0,disabled:l})]}),(0,b.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,b.jsx)("label",{className:"label",htmlFor:"password",children:"Password"}),(0,b.jsx)("input",{id:"password",type:"password",className:"input",value:h,onChange:a=>i(a.target.value),required:!0,disabled:l})]}),(0,b.jsx)("button",{type:"submit",className:"btn btn-primary",style:{width:"100%",marginBottom:"1rem"},disabled:l,children:l?"Signing in...":"Sign in"})]}),(0,b.jsxs)("div",{style:{marginTop:"1.5rem",marginBottom:"1rem"},children:[(0,b.jsx)("p",{style:{textAlign:"center",color:"var(--text-secondary)",fontSize:"0.875rem",marginBottom:"0.75rem"},children:"Demo Accounts (Click to auto-fill):"}),(0,b.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:f.map(a=>(0,b.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{var b,c;return b=a.email,c=a.password,void(g(b),i(c))},style:{fontSize:"0.875rem",padding:"0.5rem 1rem"},children:a.label},a.email))})]}),(0,b.jsx)("div",{style:{textAlign:"center",marginTop:"1.5rem"},children:(0,b.jsx)(e.default,{href:"/register",style:{color:"var(--accent-primary)",fontSize:"0.875rem"},children:"Don't have an account? Sign up"})}),(0,b.jsx)("div",{style:{textAlign:"center",marginTop:"0.5rem"},children:(0,b.jsx)(e.default,{href:"/reset-password",style:{color:"var(--text-secondary)",fontSize:"0.875rem"},children:"Forgot password?"})})]})})}a.s(["default",()=>g])}];

//# sourceMappingURL=app_login_page_tsx_ccc0019b._.js.map