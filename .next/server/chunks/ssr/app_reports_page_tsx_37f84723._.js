module.exports=[77363,a=>{"use strict";var b=a.i(87924),c=a.i(72131);function d(){let[a,d]=(0,c.useState)([]),[e,f]=(0,c.useState)(!0),[g,h]=(0,c.useState)({startDate:"",endDate:""});(0,c.useEffect)(()=>{i()},[g]);let i=async()=>{try{f(!0);let a=localStorage.getItem("accessToken"),b=new URLSearchParams;g.startDate&&b.append("startDate",g.startDate),g.endDate&&b.append("endDate",g.endDate);let c=await fetch(`/api/v1/analytics/agents?${b.toString()}`,{headers:a?{Authorization:`Bearer ${a}`}:{}}),e=await c.json();e.success&&d(e.data.agents)}catch(a){console.error("Failed to load agent performance:",a)}finally{f(!1)}},j=async a=>{try{let b=localStorage.getItem("accessToken"),c=new URLSearchParams;c.append("type",a),c.append("format","csv"),g.startDate&&c.append("startDate",g.startDate),g.endDate&&c.append("endDate",g.endDate);let d=await fetch(`/api/v1/analytics/export?${c.toString()}`,{headers:b?{Authorization:`Bearer ${b}`}:{}}),e=await d.blob(),f=window.URL.createObjectURL(e),h=document.createElement("a");h.href=f,h.download=`${a}-report-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(h),h.click(),window.URL.revokeObjectURL(f),document.body.removeChild(h)}catch(a){console.error("Failed to export report:",a)}};return(0,b.jsxs)("div",{style:{padding:"2rem",maxWidth:"1400px",margin:"0 auto"},children:[(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[(0,b.jsx)("h1",{style:{margin:0},children:"Reports"}),(0,b.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,b.jsx)("button",{onClick:()=>j("tickets"),style:{padding:"0.5rem 1rem",backgroundColor:"var(--accent-primary)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Export Tickets"}),(0,b.jsx)("button",{onClick:()=>j("agents"),style:{padding:"0.5rem 1rem",backgroundColor:"var(--accent-primary)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Export Agents"}),(0,b.jsx)("button",{onClick:()=>j("sla"),style:{padding:"0.5rem 1rem",backgroundColor:"var(--accent-primary)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Export SLA"})]})]}),(0,b.jsxs)("div",{style:{marginBottom:"2rem",display:"flex",gap:"1rem",flexWrap:"wrap"},children:[(0,b.jsx)("input",{type:"date",placeholder:"Start Date",value:g.startDate,onChange:a=>h({...g,startDate:a.target.value}),style:{padding:"0.5rem",border:"1px solid var(--border-color)",borderRadius:"6px"}}),(0,b.jsx)("input",{type:"date",placeholder:"End Date",value:g.endDate,onChange:a=>h({...g,endDate:a.target.value}),style:{padding:"0.5rem",border:"1px solid var(--border-color)",borderRadius:"6px"}})]}),(0,b.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,b.jsx)("h2",{style:{marginBottom:"1rem"},children:"Agent Performance"}),e?(0,b.jsx)("div",{children:"Loading agent performance..."}):(0,b.jsx)("div",{style:{border:"1px solid var(--border-color)",borderRadius:"8px",overflow:"hidden"},children:(0,b.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{style:{backgroundColor:"var(--bg-secondary)",borderBottom:"1px solid var(--border-color)"},children:[(0,b.jsx)("th",{style:{padding:"1rem",textAlign:"left"},children:"Agent"}),(0,b.jsx)("th",{style:{padding:"1rem",textAlign:"left"},children:"Tickets Resolved"}),(0,b.jsx)("th",{style:{padding:"1rem",textAlign:"left"},children:"Tickets Assigned"}),(0,b.jsx)("th",{style:{padding:"1rem",textAlign:"left"},children:"Avg Resolution (min)"}),(0,b.jsx)("th",{style:{padding:"1rem",textAlign:"left"},children:"Avg First Response (min)"}),(0,b.jsx)("th",{style:{padding:"1rem",textAlign:"left"},children:"SLA Compliance"})]})}),(0,b.jsx)("tbody",{children:0===a.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:6,style:{padding:"2rem",textAlign:"center",color:"var(--text-secondary)"},children:"No agent performance data found"})}):a.map(a=>(0,b.jsxs)("tr",{style:{borderBottom:"1px solid var(--border-color)"},children:[(0,b.jsx)("td",{style:{padding:"1rem"},children:a.name}),(0,b.jsx)("td",{style:{padding:"1rem"},children:a.ticketsResolved}),(0,b.jsx)("td",{style:{padding:"1rem"},children:a.ticketsAssigned}),(0,b.jsx)("td",{style:{padding:"1rem"},children:a.averageResolutionTime}),(0,b.jsx)("td",{style:{padding:"1rem"},children:a.firstResponseTime}),(0,b.jsx)("td",{style:{padding:"1rem"},children:(0,b.jsxs)("span",{style:{color:a.slaCompliance>=90?"green":a.slaCompliance>=75?"orange":"red"},children:[a.slaCompliance.toFixed(1),"%"]})})]},a.id))})]})})]})]})}a.s(["default",()=>d])}];

//# sourceMappingURL=app_reports_page_tsx_37f84723._.js.map