{"version":3,"sources":["../../../../app/tenant/%5Bslug%5D/kb/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { useParams } from 'next/navigation'\nimport Link from 'next/link'\n\ninterface KBArticle {\n  id: string\n  title: string\n  slug: string\n}\n\ninterface Tenant {\n  id: string\n  name: string\n  slug: string\n  kbArticles: KBArticle[]\n}\n\nexport default function TenantKBPage() {\n  const params = useParams()\n  const slug = params?.slug as string\n\n  const [tenant, setTenant] = useState<Tenant | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState('')\n  const [search, setSearch] = useState('')\n\n  useEffect(() => {\n    loadTenant()\n  }, [slug])\n\n  const loadTenant = async () => {\n    try {\n      setLoading(true)\n      const response = await fetch(`/api/v1/tenants/${slug}`)\n      const data = await response.json()\n\n      if (data.success) {\n        setTenant(data.data)\n      } else {\n        setError(data.error?.message || 'Tenant not found')\n      }\n    } catch (err) {\n      setError('Failed to load tenant')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const filteredArticles = tenant?.kbArticles.filter((article) =>\n    article.title.toLowerCase().includes(search.toLowerCase())\n  ) || []\n\n  if (loading) {\n    return (\n      <div style={{ minHeight: '100vh', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n        <p>Loading...</p>\n      </div>\n    )\n  }\n\n  if (error || !tenant) {\n    return (\n      <div style={{ minHeight: '100vh', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n        <div style={{ textAlign: 'center' }}>\n          <h1 style={{ fontSize: '2rem', marginBottom: '1rem' }}>Tenant Not Found</h1>\n          <p style={{ color: 'var(--text-secondary)' }}>{error || 'The tenant you are looking for does not exist.'}</p>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div style={{ minHeight: '100vh', backgroundColor: 'var(--bg-primary)', color: 'var(--text-primary)' }}>\n      <div style={{ maxWidth: '1200px', margin: '0 auto', padding: '2rem' }}>\n        <Link\n          href={`/tenant/${slug}`}\n          style={{\n            color: 'var(--text-secondary)',\n            textDecoration: 'none',\n            marginBottom: '2rem',\n            display: 'inline-block',\n          }}\n        >\n          ‚Üê Back\n        </Link>\n\n        <h1 style={{ fontSize: '2rem', marginBottom: '2rem' }}>Knowledge Base</h1>\n\n        {/* Search */}\n        <div style={{ marginBottom: '2rem' }}>\n          <input\n            type=\"text\"\n            placeholder=\"Search articles...\"\n            value={search}\n            onChange={(e) => setSearch(e.target.value)}\n            style={{\n              width: '100%',\n              padding: '0.75rem',\n              borderRadius: '8px',\n              border: '1px solid var(--border-color)',\n              backgroundColor: 'var(--bg-primary)',\n              color: 'var(--text-primary)',\n            }}\n          />\n        </div>\n\n        {/* Articles List */}\n        {filteredArticles.length === 0 ? (\n          <div style={{ textAlign: 'center', padding: '4rem', color: 'var(--text-secondary)' }}>\n            {search ? 'No articles found matching your search.' : 'No articles available.'}\n          </div>\n        ) : (\n          <div style={{ display: 'grid', gap: '1rem' }}>\n            {filteredArticles.map((article) => (\n              <Link\n                key={article.id}\n                href={`/tenant/${slug}/kb/${article.id}`}\n                style={{\n                  padding: '1.5rem',\n                  backgroundColor: 'var(--bg-secondary)',\n                  borderRadius: '8px',\n                  border: '1px solid var(--border-color)',\n                  textDecoration: 'none',\n                  color: 'var(--text-primary)',\n                  display: 'block',\n                  transition: 'all 0.2s',\n                }}\n                onMouseEnter={(e) => {\n                  e.currentTarget.style.backgroundColor = 'var(--bg-tertiary)'\n                  e.currentTarget.style.borderColor = 'var(--accent-primary)'\n                }}\n                onMouseLeave={(e) => {\n                  e.currentTarget.style.backgroundColor = 'var(--bg-secondary)'\n                  e.currentTarget.style.borderColor = 'var(--border-color)'\n                }}\n              >\n                <h3 style={{ margin: 0, fontSize: '1.25rem' }}>{article.title}</h3>\n              </Link>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"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"}