{"version":3,"sources":["../../../../app/assets/%5Bid%5D/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { useParams } from 'next/navigation'\nimport Link from 'next/link'\n\ninterface Asset {\n  id: string\n  assetNumber: string\n  name: string\n  type: string\n  category?: string\n  manufacturer?: string\n  model?: string\n  serialNumber?: string\n  status: string\n  assignedTo?: {\n    id: string\n    email: string\n    firstName?: string\n    lastName?: string\n  }\n  location?: string\n  building?: string\n  floor?: string\n  room?: string\n  purchaseDate?: string\n  purchasePrice?: number\n  warrantyExpiry?: string\n  relationships?: Array<{\n    id: string\n    relationshipType: string\n    targetAsset: {\n      id: string\n      assetNumber: string\n      name: string\n    }\n  }>\n  relatedAssets?: Array<{\n    id: string\n    relationshipType: string\n    sourceAsset: {\n      id: string\n      assetNumber: string\n      name: string\n    }\n  }>\n}\n\nexport default function AssetDetailPage() {\n  const params = useParams()\n  const [asset, setAsset] = useState<Asset | null>(null)\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    if (params.id) {\n      loadAsset(params.id as string)\n    }\n  }, [params.id])\n\n  const loadAsset = async (id: string) => {\n    try {\n      setLoading(true)\n      const token = localStorage.getItem('accessToken')\n      const response = await fetch(`/api/v1/assets/${id}`, {\n        headers: token ? { Authorization: `Bearer ${token}` } : {},\n      })\n\n      const data = await response.json()\n      if (data.success) {\n        setAsset(data.data.asset)\n      }\n    } catch (error) {\n      console.error('Failed to load asset:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  if (loading) {\n    return <div style={{ padding: '2rem' }}>Loading asset...</div>\n  }\n\n  if (!asset) {\n    return (\n      <div style={{ padding: '2rem' }}>\n        <p>Asset not found</p>\n        <Link href=\"/assets\">Back to Assets</Link>\n      </div>\n    )\n  }\n\n  return (\n    <div style={{ padding: '2rem', maxWidth: '1200px', margin: '0 auto' }}>\n      <div style={{ marginBottom: '2rem' }}>\n        <Link href=\"/assets\" style={{ color: 'var(--accent-primary)', textDecoration: 'none' }}>\n          ‚Üê Back to Assets\n        </Link>\n      </div>\n\n      <h1 style={{ marginBottom: '2rem' }}>{asset.name}</h1>\n\n      <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '2rem', marginBottom: '2rem' }}>\n        <div\n          style={{\n            padding: '1.5rem',\n            border: '1px solid var(--border-color)',\n            borderRadius: '8px',\n            backgroundColor: 'var(--bg-secondary)',\n          }}\n        >\n          <h2 style={{ marginTop: 0, marginBottom: '1rem' }}>Basic Information</h2>\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>\n            <div>\n              <strong>Asset Number:</strong> {asset.assetNumber}\n            </div>\n            <div>\n              <strong>Type:</strong> {asset.type}\n            </div>\n            <div>\n              <strong>Category:</strong> {asset.category || 'N/A'}\n            </div>\n            <div>\n              <strong>Status:</strong> {asset.status}\n            </div>\n            <div>\n              <strong>Manufacturer:</strong> {asset.manufacturer || 'N/A'}\n            </div>\n            <div>\n              <strong>Model:</strong> {asset.model || 'N/A'}\n            </div>\n            <div>\n              <strong>Serial Number:</strong> {asset.serialNumber || 'N/A'}\n            </div>\n          </div>\n        </div>\n\n        <div\n          style={{\n            padding: '1.5rem',\n            border: '1px solid var(--border-color)',\n            borderRadius: '8px',\n            backgroundColor: 'var(--bg-secondary)',\n          }}\n        >\n          <h2 style={{ marginTop: 0, marginBottom: '1rem' }}>Assignment & Location</h2>\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>\n            <div>\n              <strong>Assigned To:</strong>{' '}\n              {asset.assignedTo\n                ? `${asset.assignedTo.firstName || ''} ${asset.assignedTo.lastName || ''}`.trim() ||\n                  asset.assignedTo.email\n                : 'Unassigned'}\n            </div>\n            <div>\n              <strong>Location:</strong> {asset.location || 'N/A'}\n            </div>\n            <div>\n              <strong>Building:</strong> {asset.building || 'N/A'}\n            </div>\n            <div>\n              <strong>Floor:</strong> {asset.floor || 'N/A'}\n            </div>\n            <div>\n              <strong>Room:</strong> {asset.room || 'N/A'}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {(asset.relationships && asset.relationships.length > 0) ||\n      (asset.relatedAssets && asset.relatedAssets.length > 0) ? (\n        <div\n          style={{\n            padding: '1.5rem',\n            border: '1px solid var(--border-color)',\n            borderRadius: '8px',\n            backgroundColor: 'var(--bg-secondary)',\n            marginBottom: '2rem',\n          }}\n        >\n          <h2 style={{ marginTop: 0, marginBottom: '1rem' }}>Relationships</h2>\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\n            {asset.relationships?.map((rel) => (\n              <div key={rel.id}>\n                <strong>{rel.relationshipType}:</strong>{' '}\n                <Link href={`/assets/${rel.targetAsset.id}`} style={{ color: 'var(--accent-primary)' }}>\n                  {rel.targetAsset.assetNumber} - {rel.targetAsset.name}\n                </Link>\n              </div>\n            ))}\n            {asset.relatedAssets?.map((rel) => (\n              <div key={rel.id}>\n                <strong>{rel.relationshipType}:</strong>{' '}\n                <Link href={`/assets/${rel.sourceAsset.id}`} style={{ color: 'var(--accent-primary)' }}>\n                  {rel.sourceAsset.assetNumber} - {rel.sourceAsset.name}\n                </Link>\n              </div>\n            ))}\n          </div>\n        </div>\n      ) : null}\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"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"}