module.exports=[70406,(e,r,t)=>{r.exports=e.x("next/dist/compiled/@opentelemetry/api",()=>require("next/dist/compiled/@opentelemetry/api"))},18622,(e,r,t)=>{r.exports=e.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(e,r,t)=>{r.exports=e.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(e,r,t)=>{r.exports=e.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},24725,(e,r,t)=>{r.exports=e.x("next/dist/server/app-render/after-task-async-storage.external.js",()=>require("next/dist/server/app-render/after-task-async-storage.external.js"))},24361,(e,r,t)=>{r.exports=e.x("util",()=>require("util"))},93695,(e,r,t)=>{r.exports=e.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},29173,(e,r,t)=>{r.exports=e.x("@prisma/client",()=>require("@prisma/client"))},15270,e=>{"use strict";var r=e.i(29173);let t=globalThis.prisma??new r.PrismaClient({log:["error"]});e.s(["default",0,t])},32932,e=>{"use strict";var r=e.i(86687),t=e.i(68105);async function s(e){try{let s=e.headers.get("authorization");if(!s||!s.startsWith("Bearer "))return null;let i=s.substring(7),n=(0,r.verifyToken)(i),o=await (0,t.getUserById)(n.userId);if(!o||!o.isActive)return null;let a=o.roles.map(e=>e.role.name),u=a.includes("GLOBAL_ADMIN");return{user:{id:o.id,email:o.email,roles:a,organizationId:o.organizationId||void 0,isGlobalAdmin:u},organizationId:o.organizationId||void 0}}catch(e){return null}}function i(e){if(!e)throw Error("Unauthorized")}function n(e,r){if(i(e),!e.user.roles.includes(r))throw Error("Forbidden: Insufficient permissions")}function o(e,r){if(i(e),!r.some(r=>e.user.roles.includes(r)))throw Error("Forbidden: Insufficient permissions")}e.s(["getAuthContext",()=>s,"requireAnyRole",()=>o,"requireAuth",()=>i,"requireRole",()=>n])},14747,(e,r,t)=>{r.exports=e.x("path",()=>require("path"))},27699,(e,r,t)=>{r.exports=e.x("events",()=>require("events"))},92509,(e,r,t)=>{r.exports=e.x("url",()=>require("url"))},21517,(e,r,t)=>{r.exports=e.x("http",()=>require("http"))},24836,(e,r,t)=>{r.exports=e.x("https",()=>require("https"))},6461,(e,r,t)=>{r.exports=e.x("zlib",()=>require("zlib"))},4446,(e,r,t)=>{r.exports=e.x("net",()=>require("net"))},55004,(e,r,t)=>{r.exports=e.x("tls",()=>require("tls"))},22734,(e,r,t)=>{r.exports=e.x("fs",()=>require("fs"))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__46c6b269._.js.map