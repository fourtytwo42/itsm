{"version":3,"sources":["../../../../app/admin/tenants/%5Bid%5D/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect, useRef } from 'react'\nimport { useRouter, useParams } from 'next/navigation'\nimport Link from 'next/link'\nimport { DocumentDuplicateIcon, CheckIcon } from '@heroicons/react/24/outline'\n\ninterface Tenant {\n  id: string\n  name: string\n  slug: string\n  logo?: string\n  description?: string\n  requiresLogin: boolean\n  isActive: boolean\n  categories: Array<{ id: string; category: string }>\n  kbArticles: Array<{ id: string; article: { id: string; title: string; slug: string } }>\n  customFields: Array<{\n    id: string\n    label: string\n    fieldType: string\n    required: boolean\n    options?: string[]\n    placeholder?: string\n    order: number\n  }>\n  assignments: Array<{\n    id: string\n    userId: string\n    category: string | null\n    user: {\n      id: string\n      email: string\n      firstName: string | null\n      lastName: string | null\n    }\n  }>\n}\n\ninterface KBArticle {\n  id: string\n  title: string\n  slug: string\n}\n\ninterface User {\n  id: string\n  email: string\n  firstName?: string\n  lastName?: string\n}\n\nexport default function EditTenantPage() {\n  const router = useRouter()\n  const params = useParams()\n  const tenantId = params?.id as string\n  const fileInputRef = useRef<HTMLInputElement>(null)\n\n  const [tenant, setTenant] = useState<Tenant | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [saving, setSaving] = useState(false)\n  const [uploadingLogo, setUploadingLogo] = useState(false)\n  const [error, setError] = useState('')\n  const [logoPreview, setLogoPreview] = useState<string | null>(null)\n  const [activeTab, setActiveTab] = useState<'basic' | 'categories' | 'kb' | 'fields' | 'assignments'>('basic')\n  const [allKBArticles, setAllKBArticles] = useState<KBArticle[]>([])\n  const [allUsers, setAllUsers] = useState<User[]>([])\n  const [selectedCategories, setSelectedCategories] = useState<string[]>([])\n  const [categoryInput, setCategoryInput] = useState('')\n  const [selectedKBArticles, setSelectedKBArticles] = useState<string[]>([])\n  const [selectedUser, setSelectedUser] = useState('')\n  const [selectedCategory, setSelectedCategory] = useState<string>('')\n  const [assignAllCategories, setAssignAllCategories] = useState(false)\n  const [copiedUrl, setCopiedUrl] = useState(false)\n\n  const [formData, setFormData] = useState({\n    name: '',\n    slug: '',\n    description: '',\n    logo: '',\n    requiresLogin: false,\n    isActive: true,\n  })\n\n  useEffect(() => {\n    loadTenant()\n    loadKBArticles()\n    loadUsers()\n  }, [tenantId])\n\n  const loadTenant = async () => {\n    try {\n      setLoading(true)\n      const token = localStorage.getItem('accessToken')\n      const response = await fetch(`/api/v1/admin/tenants/${tenantId}`, {\n        headers: token ? { Authorization: `Bearer ${token}` } : {},\n      })\n\n      const data = await response.json()\n\n      if (data.success) {\n        setTenant(data.data)\n        setFormData({\n          name: data.data.name,\n          slug: data.data.slug,\n          description: data.data.description || '',\n          logo: data.data.logo || '',\n          requiresLogin: data.data.requiresLogin,\n          isActive: data.data.isActive,\n        })\n        setSelectedCategories(data.data.categories.map((c: any) => c.category))\n        setSelectedKBArticles(data.data.kbArticles.map((ka: any) => ka.article.id))\n        if (data.data.logo) {\n          // If logo is a URL path, prepend the base URL\n          const logoUrl = data.data.logo.startsWith('http') \n            ? data.data.logo \n            : `${window.location.origin}${data.data.logo}`\n          setLogoPreview(logoUrl)\n        }\n      } else {\n        setError(data.error?.message || 'Failed to load tenant')\n      }\n    } catch (err) {\n      setError('An unexpected error occurred')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const loadKBArticles = async () => {\n    try {\n      const token = localStorage.getItem('accessToken')\n      const response = await fetch('/api/v1/kb', {\n        headers: token ? { Authorization: `Bearer ${token}` } : {},\n      })\n      const data = await response.json()\n      if (data.success) {\n        setAllKBArticles(data.data)\n      }\n    } catch (err) {\n      // Ignore errors\n    }\n  }\n\n  const loadUsers = async () => {\n    try {\n      const token = localStorage.getItem('accessToken')\n      const response = await fetch('/api/v1/admin/users', {\n        headers: token ? { Authorization: `Bearer ${token}` } : {},\n      })\n      const data = await response.json()\n      if (data.success) {\n        setAllUsers(data.data.users || [])\n      }\n    } catch (err) {\n      // Ignore errors\n    }\n  }\n\n  const handleLogoUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0]\n    if (!file) return\n\n    // Validate file type\n    const validTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/webp']\n    if (!validTypes.includes(file.type)) {\n      setError('Invalid file type. Only images (JPEG, PNG, GIF, WebP) are allowed.')\n      return\n    }\n\n    // Validate file size (max 5MB)\n    const maxSize = 5 * 1024 * 1024 // 5MB\n    if (file.size > maxSize) {\n      setError('File size exceeds 5MB limit.')\n      return\n    }\n\n    // Show preview\n    const reader = new FileReader()\n    reader.onload = (e) => {\n      setLogoPreview(e.target?.result as string)\n    }\n    reader.readAsDataURL(file)\n\n    // Upload file\n    setUploadingLogo(true)\n    setError('')\n    try {\n      const uploadFormData = new FormData()\n      uploadFormData.append('file', file)\n\n      const token = localStorage.getItem('accessToken')\n      const response = await fetch('/api/v1/admin/tenants/upload-logo', {\n        method: 'POST',\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n        body: uploadFormData,\n      })\n\n      const data = await response.json()\n\n      if (data.success) {\n        setFormData({ ...formData, logo: data.data.url })\n      } else {\n        setError(data.error?.message || 'Failed to upload logo')\n        setLogoPreview(null)\n      }\n    } catch (err) {\n      setError('Failed to upload logo')\n      setLogoPreview(null)\n    } finally {\n      setUploadingLogo(false)\n    }\n  }\n\n  const handleRemoveLogo = () => {\n    setLogoPreview(null)\n    setFormData({ ...formData, logo: '' })\n    if (fileInputRef.current) {\n      fileInputRef.current.value = ''\n    }\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setSaving(true)\n    setError('')\n\n    try {\n      const token = localStorage.getItem('accessToken')\n      const response = await fetch(`/api/v1/admin/tenants/${tenantId}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify(formData),\n      })\n\n      const data = await response.json()\n\n      if (data.success) {\n        setError('')\n        // Save categories, KB articles, etc. in separate calls\n        await Promise.all([\n          saveCategories(),\n          saveKBArticles(),\n        ])\n        loadTenant()\n      } else {\n        setError(data.error?.message || 'Failed to update tenant')\n      }\n    } catch (err) {\n      setError('An unexpected error occurred')\n    } finally {\n      setSaving(false)\n    }\n  }\n\n  const saveCategories = async () => {\n    try {\n      const token = localStorage.getItem('accessToken')\n      await fetch(`/api/v1/admin/tenants/${tenantId}/categories`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify({ categories: selectedCategories }),\n      })\n    } catch (err) {\n      // Ignore errors\n    }\n  }\n\n  const saveKBArticles = async () => {\n    try {\n      const token = localStorage.getItem('accessToken')\n      await fetch(`/api/v1/admin/tenants/${tenantId}/kb-articles`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify({ articleIds: selectedKBArticles }),\n      })\n    } catch (err) {\n      // Ignore errors\n    }\n  }\n\n  const addCategory = () => {\n    if (categoryInput.trim() && !selectedCategories.includes(categoryInput.trim())) {\n      setSelectedCategories([...selectedCategories, categoryInput.trim()])\n      setCategoryInput('')\n    }\n  }\n\n  const removeCategory = (category: string) => {\n    setSelectedCategories(selectedCategories.filter((c) => c !== category))\n  }\n\n  const getTenantUrl = () => {\n    if (typeof window === 'undefined' || !tenant) return ''\n    return `${window.location.origin}/tenant/${tenant.slug}`\n  }\n\n  const copyToClipboard = async () => {\n    const url = getTenantUrl()\n    try {\n      await navigator.clipboard.writeText(url)\n      setCopiedUrl(true)\n      setTimeout(() => setCopiedUrl(false), 2000)\n    } catch (err) {\n      console.error('Failed to copy:', err)\n    }\n  }\n\n  const addAssignment = async () => {\n    if (!selectedUser) return\n\n    try {\n      const token = localStorage.getItem('accessToken')\n      const response = await fetch(`/api/v1/admin/tenants/${tenantId}/assignments`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify({\n          userId: selectedUser,\n          category: assignAllCategories ? null : selectedCategory || null,\n        }),\n      })\n\n      const data = await response.json()\n\n      if (data.success) {\n        setSelectedUser('')\n        setSelectedCategory('')\n        setAssignAllCategories(false)\n        loadTenant()\n      } else {\n        setError(data.error?.message || 'Failed to add assignment')\n      }\n    } catch (err) {\n      setError('An unexpected error occurred')\n    }\n  }\n\n  const removeAssignment = async (assignmentId: string) => {\n    try {\n      const token = localStorage.getItem('accessToken')\n      const response = await fetch(`/api/v1/admin/tenants/${tenantId}/assignments?assignmentId=${assignmentId}`, {\n        method: 'DELETE',\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n\n      if (response.ok) {\n        loadTenant()\n      }\n    } catch (err) {\n      setError('Failed to remove assignment')\n    }\n  }\n\n  if (loading) {\n    return (\n      <div style={{ padding: '2rem' }}>\n        <p>Loading tenant...</p>\n      </div>\n    )\n  }\n\n  if (!tenant) {\n    return (\n      <div style={{ padding: '2rem' }}>\n        <p>Tenant not found</p>\n        <Link href=\"/admin/tenants\">Back to Tenants</Link>\n      </div>\n    )\n  }\n\n  return (\n    <div style={{ padding: '2rem', maxWidth: '1400px', margin: '0 auto' }}>\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '2rem' }}>\n        <h1 style={{ fontSize: '2rem', margin: 0 }}>Edit Tenant: {tenant.name}</h1>\n        <Link\n          href=\"/admin/tenants\"\n          style={{\n            padding: '0.75rem 1.5rem',\n            backgroundColor: 'var(--bg-tertiary)',\n            color: 'var(--text-primary)',\n            textDecoration: 'none',\n            borderRadius: '8px',\n          }}\n        >\n          Back to Tenants\n        </Link>\n      </div>\n\n      {error && (\n        <div\n          style={{\n            padding: '1rem',\n            backgroundColor: 'rgba(239, 68, 68, 0.1)',\n            color: 'var(--error)',\n            borderRadius: '8px',\n            marginBottom: '1.5rem',\n          }}\n        >\n          {error}\n        </div>\n      )}\n\n      {/* Tabs */}\n      <div style={{ display: 'flex', gap: '0.5rem', marginBottom: '2rem', borderBottom: '1px solid var(--border-color)' }}>\n        {(['basic', 'categories', 'kb', 'fields', 'assignments'] as const).map((tab) => (\n          <button\n            key={tab}\n            onClick={() => setActiveTab(tab)}\n            style={{\n              padding: '0.75rem 1.5rem',\n              backgroundColor: activeTab === tab ? 'var(--bg-tertiary)' : 'transparent',\n              color: 'var(--text-primary)',\n              border: 'none',\n              borderBottom: activeTab === tab ? '2px solid var(--accent-primary)' : '2px solid transparent',\n              cursor: 'pointer',\n              textTransform: 'capitalize',\n            }}\n          >\n            {tab === 'kb' ? 'KB Articles' : tab}\n          </button>\n        ))}\n      </div>\n\n      {/* Basic Info Tab */}\n      {activeTab === 'basic' && (\n        <form onSubmit={handleSubmit} style={{ display: 'grid', gap: '1.5rem' }}>\n          {/* Public URL Section */}\n          {tenant && (\n            <div\n              style={{\n                padding: '1.5rem',\n                backgroundColor: 'var(--bg-secondary)',\n                borderRadius: '8px',\n                border: '1px solid var(--border-color)',\n              }}\n            >\n              <label style={{ display: 'block', marginBottom: '0.75rem', fontWeight: 600, fontSize: '0.875rem' }}>\n                Public URL (Share with customers)\n              </label>\n              <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\n                <code\n                  style={{\n                    flex: 1,\n                    padding: '0.75rem',\n                    backgroundColor: 'var(--bg-primary)',\n                    borderRadius: '6px',\n                    fontSize: '0.875rem',\n                    fontFamily: 'monospace',\n                    color: 'var(--accent-primary)',\n                    border: '1px solid var(--border-color)',\n                    overflow: 'hidden',\n                    textOverflow: 'ellipsis',\n                    whiteSpace: 'nowrap',\n                  }}\n                  title={getTenantUrl()}\n                >\n                  {getTenantUrl()}\n                </code>\n                <button\n                  type=\"button\"\n                  onClick={copyToClipboard}\n                  style={{\n                    padding: '0.75rem 1rem',\n                    backgroundColor: copiedUrl ? 'var(--success)' : 'var(--accent-primary)',\n                    color: 'white',\n                    border: 'none',\n                    borderRadius: '6px',\n                    cursor: 'pointer',\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '0.5rem',\n                    fontSize: '0.875rem',\n                    fontWeight: 500,\n                    transition: 'background-color 0.2s',\n                  }}\n                  title=\"Copy URL\"\n                >\n                  {copiedUrl ? (\n                    <>\n                      <CheckIcon style={{ width: '16px', height: '16px' }} />\n                      Copied!\n                    </>\n                  ) : (\n                    <>\n                      <DocumentDuplicateIcon style={{ width: '16px', height: '16px' }} />\n                      Copy\n                    </>\n                  )}\n                </button>\n                <a\n                  href={`/tenant/${tenant.slug}`}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  style={{\n                    padding: '0.75rem 1rem',\n                    backgroundColor: 'var(--bg-tertiary)',\n                    color: 'var(--text-primary)',\n                    textDecoration: 'none',\n                    borderRadius: '6px',\n                    fontSize: '0.875rem',\n                    fontWeight: 500,\n                    border: '1px solid var(--border-color)',\n                  }}\n                  title=\"Open in new tab\"\n                >\n                  Open\n                </a>\n              </div>\n              <p style={{ marginTop: '0.75rem', fontSize: '0.75rem', color: 'var(--text-secondary)' }}>\n                Customers can use this URL to submit tickets, view knowledge base articles, and chat with AI support.\n              </p>\n            </div>\n          )}\n\n          <div>\n            <label style={{ display: 'block', marginBottom: '0.5rem', fontWeight: 500 }}>\n              Tenant Name *\n            </label>\n            <input\n              type=\"text\"\n              required\n              value={formData.name}\n              onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n              style={{\n                width: '100%',\n                padding: '0.75rem',\n                borderRadius: '8px',\n                border: '1px solid var(--border-color)',\n                backgroundColor: 'var(--bg-primary)',\n                color: 'var(--text-primary)',\n              }}\n            />\n          </div>\n\n          <div>\n            <label style={{ display: 'block', marginBottom: '0.5rem', fontWeight: 500 }}>\n              Slug *\n            </label>\n            <input\n              type=\"text\"\n              required\n              value={formData.slug}\n              onChange={(e) => setFormData({ ...formData, slug: e.target.value })}\n              pattern=\"[a-z0-9-]+\"\n              style={{\n                width: '100%',\n                padding: '0.75rem',\n                borderRadius: '8px',\n                border: '1px solid var(--border-color)',\n                backgroundColor: 'var(--bg-primary)',\n                color: 'var(--text-primary)',\n              }}\n            />\n          </div>\n\n          <div>\n            <label style={{ display: 'block', marginBottom: '0.5rem', fontWeight: 500 }}>\n              Description\n            </label>\n            <textarea\n              value={formData.description}\n              onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n              rows={4}\n              style={{\n                width: '100%',\n                padding: '0.75rem',\n                borderRadius: '8px',\n                border: '1px solid var(--border-color)',\n                backgroundColor: 'var(--bg-primary)',\n                color: 'var(--text-primary)',\n              }}\n            />\n          </div>\n\n          <div>\n            <label style={{ display: 'block', marginBottom: '0.5rem', fontWeight: 500 }}>\n              Logo\n            </label>\n            <input\n              ref={fileInputRef}\n              type=\"file\"\n              accept=\"image/jpeg,image/jpg,image/png,image/gif,image/webp\"\n              onChange={handleLogoUpload}\n              disabled={uploadingLogo}\n              style={{\n                width: '100%',\n                padding: '0.75rem',\n                borderRadius: '8px',\n                border: '1px solid var(--border-color)',\n                backgroundColor: 'var(--bg-primary)',\n                color: 'var(--text-primary)',\n                cursor: uploadingLogo ? 'not-allowed' : 'pointer',\n                opacity: uploadingLogo ? 0.6 : 1,\n              }}\n            />\n            <p style={{ fontSize: '0.75rem', color: 'var(--text-secondary)', marginTop: '0.25rem' }}>\n              Upload an image file (JPEG, PNG, GIF, WebP). Max size: 5MB\n            </p>\n\n            {/* Logo Preview */}\n            {logoPreview && (\n              <div style={{ marginTop: '1rem', position: 'relative', display: 'inline-block' }}>\n                <img\n                  src={logoPreview}\n                  alt=\"Logo preview\"\n                  style={{\n                    maxWidth: '200px',\n                    maxHeight: '200px',\n                    borderRadius: '8px',\n                    border: '1px solid var(--border-color)',\n                    padding: '0.5rem',\n                    backgroundColor: 'var(--bg-secondary)',\n                  }}\n                />\n                <button\n                  type=\"button\"\n                  onClick={handleRemoveLogo}\n                  style={{\n                    position: 'absolute',\n                    top: '0.5rem',\n                    right: '0.5rem',\n                    padding: '0.25rem 0.5rem',\n                    backgroundColor: 'rgba(239, 68, 68, 0.9)',\n                    color: 'white',\n                    border: 'none',\n                    borderRadius: '4px',\n                    cursor: 'pointer',\n                    fontSize: '0.75rem',\n                  }}\n                >\n                  Remove\n                </button>\n              </div>\n            )}\n          </div>\n\n          <div style={{ display: 'flex', gap: '2rem' }}>\n            <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer' }}>\n              <input\n                type=\"checkbox\"\n                checked={formData.requiresLogin}\n                onChange={(e) => setFormData({ ...formData, requiresLogin: e.target.checked })}\n                style={{ width: '18px', height: '18px' }}\n              />\n              <span>Require login to submit tickets</span>\n            </label>\n          </div>\n\n          <div style={{ display: 'flex', gap: '2rem' }}>\n            <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer' }}>\n              <input\n                type=\"checkbox\"\n                checked={formData.isActive}\n                onChange={(e) => setFormData({ ...formData, isActive: e.target.checked })}\n                style={{ width: '18px', height: '18px' }}\n              />\n              <span>Active</span>\n            </label>\n          </div>\n\n          <div style={{ display: 'flex', gap: '1rem', marginTop: '1rem' }}>\n            <button\n              type=\"submit\"\n              disabled={saving}\n              style={{\n                padding: '0.75rem 1.5rem',\n                backgroundColor: 'var(--accent-primary)',\n                color: 'white',\n                border: 'none',\n                borderRadius: '8px',\n                cursor: saving ? 'not-allowed' : 'pointer',\n                fontSize: '0.875rem',\n                fontWeight: 600,\n                opacity: saving ? 0.6 : 1,\n              }}\n            >\n              {saving ? 'Saving...' : 'Save Changes'}\n            </button>\n          </div>\n        </form>\n      )}\n\n      {/* Categories Tab */}\n      {activeTab === 'categories' && (\n        <div style={{ display: 'grid', gap: '1.5rem' }}>\n          <div>\n            <label style={{ display: 'block', marginBottom: '0.5rem', fontWeight: 500 }}>\n              Add Category\n            </label>\n            <div style={{ display: 'flex', gap: '0.5rem' }}>\n              <input\n                type=\"text\"\n                value={categoryInput}\n                onChange={(e) => setCategoryInput(e.target.value)}\n                onKeyPress={(e) => {\n                  if (e.key === 'Enter') {\n                    e.preventDefault()\n                    addCategory()\n                  }\n                }}\n                placeholder=\"Category name\"\n                style={{\n                  flex: 1,\n                  padding: '0.75rem',\n                  borderRadius: '8px',\n                  border: '1px solid var(--border-color)',\n                  backgroundColor: 'var(--bg-primary)',\n                  color: 'var(--text-primary)',\n                }}\n              />\n              <button\n                type=\"button\"\n                onClick={addCategory}\n                style={{\n                  padding: '0.75rem 1.5rem',\n                  backgroundColor: 'var(--accent-primary)',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '8px',\n                  cursor: 'pointer',\n                }}\n              >\n                Add\n              </button>\n            </div>\n          </div>\n\n          <div>\n            <h3 style={{ marginBottom: '1rem' }}>Categories</h3>\n            {selectedCategories.length === 0 ? (\n              <p style={{ color: 'var(--text-secondary)' }}>No categories added yet.</p>\n            ) : (\n              <div style={{ display: 'flex', flexWrap: 'wrap', gap: '0.5rem' }}>\n                {selectedCategories.map((cat) => (\n                  <span\n                    key={cat}\n                    style={{\n                      padding: '0.5rem 1rem',\n                      backgroundColor: 'var(--bg-tertiary)',\n                      borderRadius: '8px',\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: '0.5rem',\n                    }}\n                  >\n                    {cat}\n                    <button\n                      type=\"button\"\n                      onClick={() => removeCategory(cat)}\n                      style={{\n                        background: 'none',\n                        border: 'none',\n                        color: 'var(--error)',\n                        cursor: 'pointer',\n                        padding: '0',\n                        fontSize: '1.25rem',\n                      }}\n                    >\n                      Ã—\n                    </button>\n                  </span>\n                ))}\n              </div>\n            )}\n          </div>\n\n          <button\n            onClick={async () => {\n              await saveCategories()\n              setError('Categories saved!')\n              setTimeout(() => setError(''), 3000)\n            }}\n            style={{\n              padding: '0.75rem 1.5rem',\n              backgroundColor: 'var(--accent-primary)',\n              color: 'white',\n              border: 'none',\n              borderRadius: '8px',\n              cursor: 'pointer',\n            }}\n          >\n            Save Categories\n          </button>\n        </div>\n      )}\n\n      {/* KB Articles Tab */}\n      {activeTab === 'kb' && (\n        <div style={{ display: 'grid', gap: '1.5rem' }}>\n          <div>\n            <h3 style={{ marginBottom: '1rem' }}>Select Knowledge Base Articles</h3>\n            <div style={{ maxHeight: '400px', overflowY: 'auto', border: '1px solid var(--border-color)', borderRadius: '8px', padding: '1rem' }}>\n              {allKBArticles.map((article) => (\n                <label\n                  key={article.id}\n                  style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '0.5rem',\n                    padding: '0.5rem',\n                    cursor: 'pointer',\n                  }}\n                >\n                  <input\n                    type=\"checkbox\"\n                    checked={selectedKBArticles.includes(article.id)}\n                    onChange={(e) => {\n                      if (e.target.checked) {\n                        setSelectedKBArticles([...selectedKBArticles, article.id])\n                      } else {\n                        setSelectedKBArticles(selectedKBArticles.filter((id) => id !== article.id))\n                      }\n                    }}\n                  />\n                  <span>{article.title}</span>\n                </label>\n              ))}\n            </div>\n          </div>\n\n          <button\n            onClick={async () => {\n              await saveKBArticles()\n              setError('KB articles saved!')\n              setTimeout(() => setError(''), 3000)\n            }}\n            style={{\n              padding: '0.75rem 1.5rem',\n              backgroundColor: 'var(--accent-primary)',\n              color: 'white',\n              border: 'none',\n              borderRadius: '8px',\n              cursor: 'pointer',\n            }}\n          >\n            Save KB Articles\n          </button>\n        </div>\n      )}\n\n      {/* Custom Fields Tab */}\n      {activeTab === 'fields' && (\n        <div>\n          <p style={{ color: 'var(--text-secondary)' }}>Custom fields management coming soon...</p>\n        </div>\n      )}\n\n      {/* Assignments Tab */}\n      {activeTab === 'assignments' && (\n        <div style={{ display: 'grid', gap: '1.5rem' }}>\n          <div>\n            <h3 style={{ marginBottom: '1rem' }}>Add Assignment</h3>\n            <div style={{ display: 'grid', gap: '1rem', padding: '1rem', backgroundColor: 'var(--bg-secondary)', borderRadius: '8px' }}>\n              <div>\n                <label style={{ display: 'block', marginBottom: '0.5rem', fontWeight: 500 }}>\n                  User\n                </label>\n                <select\n                  value={selectedUser}\n                  onChange={(e) => setSelectedUser(e.target.value)}\n                  style={{\n                    width: '100%',\n                    padding: '0.75rem',\n                    borderRadius: '8px',\n                    border: '1px solid var(--border-color)',\n                    backgroundColor: 'var(--bg-primary)',\n                    color: 'var(--text-primary)',\n                  }}\n                >\n                  <option value=\"\">Select a user...</option>\n                  {allUsers.map((user) => (\n                    <option key={user.id} value={user.id}>\n                      {user.firstName && user.lastName ? `${user.firstName} ${user.lastName}` : user.email}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              <div>\n                <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer', marginBottom: '0.5rem' }}>\n                  <input\n                    type=\"checkbox\"\n                    checked={assignAllCategories}\n                    onChange={(e) => {\n                      setAssignAllCategories(e.target.checked)\n                      if (e.target.checked) {\n                        setSelectedCategory('')\n                      }\n                    }}\n                  />\n                  <span>Assign to all categories</span>\n                </label>\n                {!assignAllCategories && (\n                  <select\n                    value={selectedCategory}\n                    onChange={(e) => setSelectedCategory(e.target.value)}\n                    style={{\n                      width: '100%',\n                      padding: '0.75rem',\n                      borderRadius: '8px',\n                      border: '1px solid var(--border-color)',\n                      backgroundColor: 'var(--bg-primary)',\n                      color: 'var(--text-primary)',\n                    }}\n                  >\n                    <option value=\"\">All categories</option>\n                    {selectedCategories.map((cat) => (\n                      <option key={cat} value={cat}>\n                        {cat}\n                      </option>\n                    ))}\n                  </select>\n                )}\n              </div>\n\n              <button\n                onClick={addAssignment}\n                disabled={!selectedUser}\n                style={{\n                  padding: '0.75rem 1.5rem',\n                  backgroundColor: 'var(--accent-primary)',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '8px',\n                  cursor: !selectedUser ? 'not-allowed' : 'pointer',\n                  opacity: !selectedUser ? 0.6 : 1,\n                }}\n              >\n                Add Assignment\n              </button>\n            </div>\n          </div>\n\n          <div>\n            <h3 style={{ marginBottom: '1rem' }}>Current Assignments</h3>\n            {tenant.assignments.length === 0 ? (\n              <p style={{ color: 'var(--text-secondary)' }}>No assignments yet.</p>\n            ) : (\n              <div style={{ display: 'grid', gap: '0.5rem' }}>\n                {tenant.assignments.map((assignment) => (\n                  <div\n                    key={assignment.id}\n                    style={{\n                      padding: '1rem',\n                      backgroundColor: 'var(--bg-secondary)',\n                      borderRadius: '8px',\n                      display: 'flex',\n                      justifyContent: 'space-between',\n                      alignItems: 'center',\n                    }}\n                  >\n                    <div>\n                      <div style={{ fontWeight: 500 }}>\n                        {assignment.user.firstName && assignment.user.lastName\n                          ? `${assignment.user.firstName} ${assignment.user.lastName}`\n                          : assignment.user.email}\n                      </div>\n                      <div style={{ fontSize: '0.875rem', color: 'var(--text-secondary)' }}>\n                        {assignment.category || 'All categories'}\n                      </div>\n                    </div>\n                    <button\n                      onClick={() => removeAssignment(assignment.id)}\n                      style={{\n                        padding: '0.5rem 1rem',\n                        backgroundColor: 'rgba(239, 68, 68, 0.1)',\n                        color: 'var(--error)',\n                        border: 'none',\n                        borderRadius: '6px',\n                        cursor: 'pointer',\n                      }}\n                    >\n                      Remove\n                    </button>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"uDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OA+Ce,SAAS,IACP,CAAA,EAAA,EAAA,SAAA,AAAS,IACxB,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,EAAW,GAAQ,GACnB,EAAe,CAAA,EAAA,EAAA,MAAA,AAAM,EAAmB,MAExC,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAC9C,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjC,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,GAAS,GAC/B,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC7C,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAS,IAC7B,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MACxD,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAA2D,SAC/F,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAc,EAAE,EAC5D,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,EAAE,EAC7C,CAAC,EAAoB,EAAsB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAW,EAAE,EACnE,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAS,IAC7C,CAAC,EAAoB,EAAsB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAW,EAAE,EACnE,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC3C,CAAC,EAAkB,EAAoB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,IAC3D,CAAC,EAAqB,EAAuB,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,GAAS,GACzD,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAErC,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,CACvC,KAAM,GACN,KAAM,GACN,YAAa,GACb,KAAM,GACN,eAAe,EACf,UAAU,CACZ,GAEA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,IACA,IACA,GACF,EAAG,CAAC,EAAS,EAEb,IAAM,EAAa,UACjB,GAAI,CACF,GAAW,GACX,IAAM,EAAQ,aAAa,OAAO,CAAC,eAC7B,EAAW,MAAM,MAAM,CAAC,sBAAsB,EAAE,EAAA,CAAU,CAAE,CAChE,QAAS,EAAQ,CAAE,cAAe,CAAC,OAAO,EAAE,EAAA,CAAO,AAAC,EAAI,CAAC,CAC3D,GAEM,EAAO,MAAM,EAAS,IAAI,GAEhC,GAAI,EAAK,OAAO,CAYd,CAZgB,GAChB,EAAU,EAAK,IAAI,EACnB,EAAY,CACV,KAAM,EAAK,IAAI,CAAC,IAAI,CACpB,KAAM,EAAK,IAAI,CAAC,IAAI,CACpB,YAAa,EAAK,IAAI,CAAC,WAAW,EAAI,GACtC,KAAM,EAAK,IAAI,CAAC,IAAI,EAAI,GACxB,cAAe,EAAK,IAAI,CAAC,aAAa,CACtC,SAAU,EAAK,IAAI,CAAC,QAAQ,AAC9B,GACA,EAAsB,EAAK,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,AAAC,GAAW,EAAE,QAAQ,GACrE,EAAsB,EAAK,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,AAAC,GAAY,EAAG,OAAO,CAAC,EAAE,GACrE,EAAK,IAAI,CAAC,IAAI,CAAE,CAElB,IAAM,EAAU,EAAK,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,QACtC,EAAK,IAAI,CAAC,IAAI,CACd,CAAA,EAAG,OAAO,QAAQ,CAAC,MAAM,CAAA,EAAG,EAAK,IAAI,CAAC,IAAI,CAAA,CAAE,CAChD,EAAe,GACjB,MAEA,EAAS,EAAK,KAAK,EAAE,SAAW,wBAEpC,CAAE,MAAO,EAAK,CACZ,EAAS,+BACX,QAAU,CACR,GAAW,EACb,CACF,EAEM,EAAiB,UACrB,GAAI,CACF,IAAM,EAAQ,aAAa,OAAO,CAAC,eAC7B,EAAW,MAAM,MAAM,aAAc,CACzC,QAAS,EAAQ,CAAE,cAAe,CAAC,OAAO,EAAE,EAAA,CAAO,AAAC,EAAI,CAAC,CAC3D,GACM,EAAO,MAAM,EAAS,IAAI,GAC5B,EAAK,OAAO,EAAE,AAChB,EAAiB,EAAK,IAAI,CAE9B,CAAE,MAAO,EAAK,CAEd,CACF,EAEM,EAAY,UAChB,GAAI,CACF,IAAM,EAAQ,aAAa,OAAO,CAAC,eAC7B,EAAW,MAAM,MAAM,sBAAuB,CAClD,QAAS,EAAQ,CAAE,cAAe,CAAC,OAAO,EAAE,EAAA,CAAO,AAAC,EAAI,CAAC,CAC3D,GACM,EAAO,MAAM,EAAS,IAAI,EAC5B,GAAK,OAAO,EAAE,AAChB,EAAY,EAAK,IAAI,CAAC,KAAK,EAAI,EAAE,CAErC,CAAE,MAAO,EAAK,CAEd,CACF,EAEM,EAAmB,MAAO,IAC9B,IAAM,EAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,CAChC,GAAI,CAAC,EAAM,OAIX,GAAI,CADe,AACd,CADe,aAAc,YAAa,YAAa,YAAa,aAAa,CACtE,QAAQ,CAAC,EAAK,IAAI,EAAG,YACnC,EAAS,sEAMX,GAAI,EAAK,IAAI,CADG,EACA,EADI,IACK,GADE,KAAK,IAE9B,EAFoC,AAE3B,gCAKX,IAAM,EAAS,IAAI,WACnB,EAAO,MAAM,CAAG,AAAC,IACf,EAAe,EAAE,MAAM,EAAE,OAC3B,EACA,EAAO,aAAa,CAAC,GAGrB,GAAiB,GACjB,EAAS,IACT,GAAI,CACF,IAAM,EAAiB,IAAI,SAC3B,EAAe,MAAM,CAAC,OAAQ,GAE9B,IAAM,EAAQ,aAAa,OAAO,CAAC,eAC7B,EAAW,MAAM,MAAM,oCAAqC,CAChE,OAAQ,OACR,QAAS,CACP,cAAe,CAAC,OAAO,EAAE,EAAA,CAC3B,AADkC,EAElC,KAAM,CACR,GAEM,EAAO,MAAM,EAAS,IAAI,GAE5B,EAAK,OAAO,CACd,CADgB,CACJ,CAAE,GAAG,CAAQ,CAAE,KAAM,EAAK,IAAI,CAAC,GAAG,AAAC,IAE/C,EAAS,EAAK,KAAK,EAAE,SAAW,yBAChC,EAAe,MAEnB,CAAE,MAAO,EAAK,CACZ,EAAS,yBACT,EAAe,KACjB,QAAU,CACR,GAAiB,EACnB,CACF,EAUM,EAAe,MAAO,IAC1B,EAAE,cAAc,GAChB,GAAU,GACV,EAAS,IAET,GAAI,CACF,IAAM,EAAQ,aAAa,OAAO,CAAC,eAC7B,EAAW,MAAM,MAAM,CAAC,sBAAsB,EAAE,EAAA,CAAU,CAAE,CAChE,OAAQ,MACR,QAAS,CACP,eAAgB,mBAChB,cAAe,CAAC,OAAO,EAAE,EAAA,CAAO,AAClC,EACA,KAAM,KAAK,SAAS,CAAC,EACvB,GAEM,EAAO,MAAM,EAAS,IAAI,EAE5B,GAAK,OAAO,EAAE,AAChB,EAAS,IAET,MAAM,QAAQ,GAAG,CAAC,CAChB,IACA,IACD,EACD,KAEA,EAAS,EAAK,KAAK,EAAE,SAAW,0BAEpC,CAAE,MAAO,EAAK,CACZ,EAAS,+BACX,QAAU,CACR,GAAU,EACZ,CACF,EAEM,EAAiB,UACrB,GAAI,CACF,IAAM,EAAQ,aAAa,OAAO,CAAC,cACnC,OAAM,MAAM,CAAC,sBAAsB,EAAE,EAAS,WAAW,CAAC,CAAE,CAC1D,OAAQ,OACR,QAAS,CACP,eAAgB,mBAChB,cAAe,CAAC,OAAO,EAAE,EAAA,CAAO,AAClC,EACA,KAAM,KAAK,SAAS,CAAC,CAAE,WAAY,CAAmB,EACxD,EACF,CAAE,MAAO,EAAK,CAEd,CACF,EAEM,EAAiB,UACrB,GAAI,CACF,IAAM,EAAQ,aAAa,OAAO,CAAC,cACnC,OAAM,MAAM,CAAC,sBAAsB,EAAE,EAAS,YAAY,CAAC,CAAE,CAC3D,OAAQ,OACR,QAAS,CACP,eAAgB,mBAChB,cAAe,CAAC,OAAO,EAAE,EAAA,CAAO,AAClC,EACA,KAAM,KAAK,SAAS,CAAC,CAAE,WAAY,CAAmB,EACxD,EACF,CAAE,MAAO,EAAK,CAEd,CACF,EAEM,EAAc,KACd,EAAc,IAAI,IAAM,CAAC,EAAmB,QAAQ,CAAC,EAAc,IAAI,KAAK,CAC9E,EAAsB,IAAI,EAAoB,EAAc,IAAI,GAAG,EACnE,EAAiB,IAErB,EAWM,EAAkB,UAEtB,GAAI,CACF,MAAM,UAAU,SAAS,CAAC,SAAS,CAAC,AAPe,IAQnD,GAAa,GACb,WAAW,IAAM,GAAa,GAAQ,IACxC,CAAE,MAAO,EAAK,CACZ,QAAQ,KAAK,CAAC,kBAAmB,EACnC,CACF,EAEM,EAAgB,UACpB,GAAK,CAAD,CAEJ,GAAI,CACF,IAAM,EAAQ,EAHG,WAGU,OAAO,CAAC,eAC7B,EAAW,MAAM,MAAM,CAAC,sBAAsB,EAAE,EAAS,YAAY,CAAC,CAAE,CAC5E,OAAQ,OACR,QAAS,CACP,eAAgB,mBAChB,cAAe,CAAC,OAAO,EAAE,EAAA,CAAO,AAClC,EACA,KAAM,KAAK,SAAS,CAAC,CACnB,OAAQ,EACR,SAAU,EAAsB,KAAO,GAAoB,IAC7D,EACF,GAEM,EAAO,MAAM,EAAS,IAAI,GAE5B,EAAK,OAAO,EAAE,AAChB,EAAgB,IAChB,EAAoB,IACpB,GAAuB,GACvB,KAEA,EAAS,EAAK,KAAK,EAAE,SAAW,2BAEpC,CAAE,MAAO,EAAK,CACZ,EAAS,+BACX,CACF,EAEM,EAAmB,MAAO,IAC9B,GAAI,CACF,IAAM,EAAQ,aAAa,OAAO,CAAC,cAQ/B,EAPa,MAAM,MAAM,CAAC,sBAAsB,EAAE,EAAS,0BAA0B,EAAE,EAAA,CAAc,CAAE,CACzG,OAAQ,SACR,QAAS,CACP,cAAe,CAAC,OAAO,EAAE,EAAA,CAC3B,AADkC,CAEpC,EAAA,EAEa,EAAE,EAAE,AACf,GAEJ,CAAE,MAAO,EAAK,CACZ,EAAS,8BACX,CACF,SAEI,AAAJ,EAEI,CAAA,EAAA,EAAA,EAFS,CAET,EAAC,MAAA,CAAI,MAAO,CAAE,QAAS,MAAO,WAC5B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,UAAE,wBAKJ,EAUH,CAAA,EAAA,EAAA,CAVW,GAUX,EAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,SAAU,SAAU,OAAQ,QAAS,YAClE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,eAAgB,gBAAiB,WAAY,SAAU,aAAc,MAAO,YACzG,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,MAAO,CAAE,SAAU,OAAQ,OAAQ,CAAE,YAAG,gBAAc,EAAO,IAAI,IACrE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CACH,KAAK,iBACL,MAAO,CACL,QAAS,iBACT,gBAAiB,qBACjB,MAAO,sBACP,eAAgB,OAChB,aAAc,KAChB,WACD,uBAKF,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,MAAO,CACL,QAAS,OACT,gBAAiB,yBACjB,MAAO,eACP,aAAc,MACd,aAAc,QAChB,WAEC,IAKL,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,IAAK,SAAU,aAAc,OAAQ,aAAc,+BAAgC,WAC9G,CAAC,QAAS,aAAc,KAAM,SAAU,cAAc,CAAW,GAAG,CAAC,AAAC,GACtE,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAEC,QAAS,IAAM,EAAa,GAC5B,MAAO,CACL,QAAS,iBACT,gBAAiB,IAAc,EAAM,qBAAuB,cAC5D,MAAO,sBACP,OAAQ,OACR,aAAc,IAAc,EAAM,kCAAoC,wBACtE,OAAQ,UACR,cAAe,YACjB,WAEC,AAAQ,SAAO,cAAgB,GAZ3B,MAkBI,UAAd,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,EAAc,MAAO,CAAE,QAAS,OAAQ,IAAK,QAAS,YAEnE,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACC,MAAO,CACL,QAAS,SACT,gBAAiB,sBACjB,aAAc,MACd,OAAQ,+BACV,YAEA,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,MAAO,CAAE,QAAS,QAAS,aAAc,UAAW,WAAY,IAAK,SAAU,UAAW,WAAG,sCAGpG,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,WAAY,SAAU,IAAK,QAAS,YACjE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,MAAO,CACL,KAAM,EACN,QAAS,UACT,gBAAiB,oBACjB,aAAc,MACd,SAAU,WACV,WAAY,YACZ,MAAO,wBACP,OAAQ,gCACR,SAAU,SACV,aAAc,WACd,WAAY,QACd,EACA,OAAO,YAEN,IAEH,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,KAAK,SACL,QAAS,EACT,MAAO,CACL,QAAS,eACT,gBAAiB,EAAY,iBAAmB,wBAChD,MAAO,QACP,OAAQ,OACR,aAAc,MACd,OAAQ,UACR,QAAS,OACT,WAAY,SACZ,IAAK,SACL,SAAU,WACV,WAAY,IACZ,WAAY,uBACd,EACA,MAAM,oBAEL,EACC,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,MAAO,CAAE,MAAO,OAAQ,OAAQ,MAAO,IAAK,aAIzD,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,qBAAqB,CAAA,CAAC,MAAO,CAAE,MAAO,OAAQ,OAAQ,MAAO,IAAK,YAKzE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CACC,KAAM,CAAC,QAAQ,EAAE,EAAO,IAAI,CAAA,CAAE,CAC9B,OAAO,SACP,IAAI,sBACJ,MAAO,CACL,QAAS,eACT,gBAAiB,qBACjB,MAAO,sBACP,eAAgB,OAChB,aAAc,MACd,SAAU,WACV,WAAY,IACZ,OAAQ,+BACV,EACA,MAAM,2BACP,YAIH,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,MAAO,CAAE,UAAW,UAAW,SAAU,UAAW,MAAO,uBAAwB,WAAG,6GAM7F,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,MAAO,CAAE,QAAS,QAAS,aAAc,SAAU,WAAY,GAAI,WAAG,kBAG7E,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,QAAQ,CAAA,CAAA,EACR,MAAO,EAAS,IAAI,CACpB,SAAU,AAAC,GAAM,EAAY,CAAE,GAAG,CAAQ,CAAE,KAAM,EAAE,MAAM,CAAC,KAAK,AAAC,GACjE,MAAO,CACL,MAAO,OACP,QAAS,UACT,aAAc,MACd,OAAQ,gCACR,gBAAiB,oBACjB,MAAO,qBACT,OAIJ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,MAAO,CAAE,QAAS,QAAS,aAAc,SAAU,WAAY,GAAI,WAAG,WAG7E,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,QAAQ,CAAA,CAAA,EACR,MAAO,EAAS,IAAI,CACpB,SAAU,AAAC,GAAM,EAAY,CAAE,GAAG,CAAQ,CAAE,KAAM,EAAE,MAAM,CAAC,KAAK,AAAC,GACjE,QAAQ,aACR,MAAO,CACL,MAAO,OACP,QAAS,UACT,aAAc,MACd,OAAQ,gCACR,gBAAiB,oBACjB,MAAO,qBACT,OAIJ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,MAAO,CAAE,QAAS,QAAS,aAAc,SAAU,WAAY,GAAI,WAAG,gBAG7E,CAAA,EAAA,EAAA,GAAA,EAAC,WAAA,CACC,MAAO,EAAS,WAAW,CAC3B,SAAU,AAAC,GAAM,EAAY,CAAE,GAAG,CAAQ,CAAE,YAAa,EAAE,MAAM,CAAC,KAAM,AAAD,GACvE,KAAM,EACN,MAAO,CACL,MAAO,OACP,QAAS,UACT,aAAc,MACd,OAAQ,gCACR,gBAAiB,oBACjB,MAAO,qBACT,OAIJ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,MAAO,CAAE,QAAS,QAAS,aAAc,SAAU,WAAY,GAAI,WAAG,SAG7E,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,IAAK,EACL,KAAK,OACL,OAAO,sDACP,SAAU,EACV,SAAU,EACV,MAAO,CACL,MAAO,OACP,QAAS,UACT,aAAc,MACd,OAAQ,gCACR,gBAAiB,oBACjB,MAAO,sBACP,OAAQ,EAAgB,cAAgB,UACxC,QAAS,EAAgB,GAAM,CACjC,IAEF,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,MAAO,CAAE,SAAU,UAAW,MAAO,wBAAyB,UAAW,SAAU,WAAG,+DAKxF,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,MAAO,CAAE,UAAW,OAAQ,SAAU,WAAY,QAAS,cAAe,YAC7E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,IAAK,EACL,IAAI,eACJ,MAAO,CACL,SAAU,QACV,UAAW,QACX,aAAc,MACd,OAAQ,gCACR,QAAS,SACT,gBAAiB,qBACnB,IAEF,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,KAAK,SACL,QAhaS,CAgaA,IA/ZvB,EAAe,MACf,EAAY,CAAE,GAAG,CAAQ,CAAE,KAAM,EAAG,GAChC,EAAa,OAAO,EAAE,CACxB,EAAa,OAAO,CAAC,KAAK,CAAG,EAAA,CAEjC,EA2ZgB,MAAO,CACL,SAAU,WACV,IAAK,SACL,MAAO,SACP,QAAS,iBACT,gBAAiB,yBACjB,MAAO,QACP,OAAQ,OACR,aAAc,MACd,OAAQ,UACR,SAAU,SACZ,WACD,iBAOP,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,IAAK,MAAO,WACzC,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,MAAO,CAAE,QAAS,OAAQ,WAAY,SAAU,IAAK,SAAU,OAAQ,SAAU,YACtF,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,WACL,QAAS,EAAS,aAAa,CAC/B,SAAU,AAAC,GAAM,EAAY,CAAE,GAAG,CAAQ,CAAE,cAAe,EAAE,MAAM,CAAC,OAAO,AAAC,GAC5E,MAAO,CAAE,MAAO,OAAQ,OAAQ,MAAO,IAEzC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,yCAIV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,IAAK,MAAO,WACzC,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,MAAO,CAAE,QAAS,OAAQ,WAAY,SAAU,IAAK,SAAU,OAAQ,SAAU,YACtF,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,WACL,QAAS,EAAS,QAAQ,CAC1B,SAAU,AAAC,GAAM,EAAY,CAAE,GAAG,CAAQ,CAAE,SAAU,EAAE,MAAM,CAAC,OAAO,AAAC,GACvE,MAAO,CAAE,MAAO,OAAQ,OAAQ,MAAO,IAEzC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,gBAIV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,IAAK,OAAQ,UAAW,MAAO,WAC5D,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,KAAK,SACL,SAAU,EACV,MAAO,CACL,QAAS,iBACT,gBAAiB,wBACjB,MAAO,QACP,OAAQ,OACR,aAAc,MACd,OAAQ,EAAS,cAAgB,UACjC,SAAU,WACV,WAAY,IACZ,QAAS,EAAS,GAAM,CAC1B,WAEC,EAAS,YAAc,sBAO/B,AAAc,kBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,IAAK,QAAS,YAC3C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,MAAO,CAAE,QAAS,QAAS,aAAc,SAAU,WAAY,GAAI,WAAG,iBAG7E,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,IAAK,QAAS,YAC3C,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,MAAO,EACP,SAAU,AAAC,GAAM,EAAiB,EAAE,MAAM,CAAC,KAAK,EAChD,WAAY,AAAC,IACG,SAAS,CAAnB,EAAE,GAAG,GACP,EAAE,cAAc,GAChB,IAEJ,EACA,YAAY,gBACZ,MAAO,CACL,KAAM,EACN,QAAS,UACT,aAAc,MACd,OAAQ,gCACR,gBAAiB,oBACjB,MAAO,qBACT,IAEF,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,KAAK,SACL,QAAS,EACT,MAAO,CACL,QAAS,iBACT,gBAAiB,wBACjB,MAAO,QACP,OAAQ,OACR,aAAc,MACd,OAAQ,SACV,WACD,cAML,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,MAAO,CAAE,aAAc,MAAO,WAAG,eACN,IAA9B,EAAmB,MAAM,CACxB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,MAAO,CAAE,MAAO,uBAAwB,WAAG,6BAE9C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,SAAU,OAAQ,IAAK,QAAS,WAC5D,EAAmB,GAAG,CAAC,AAAC,GACvB,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAEC,MAAO,CACL,QAAS,cACT,gBAAiB,qBACjB,aAAc,MACd,QAAS,OACT,WAAY,SACZ,IAAK,QACP,YAEC,EACD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAM,CAhdjC,EAAsB,EAAmB,MAAM,CAAC,AAAC,GAAM,IAgdP,EAhda,GAid3C,MAAO,CACL,WAAY,OACZ,OAAQ,OACR,MAAO,eACP,OAAQ,UACR,QAAS,IACT,SAAU,SACZ,WACD,QAtBI,SA+Bf,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,UACP,MAAM,IACN,EAAS,qBACT,WAAW,IAAM,EAAS,IAAK,IACjC,EACA,MAAO,CACL,QAAS,iBACT,gBAAiB,wBACjB,MAAO,QACP,OAAQ,OACR,aAAc,MACd,OAAQ,SACV,WACD,uBAOU,OAAd,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,IAAK,QAAS,YAC3C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,MAAO,CAAE,aAAc,MAAO,WAAG,mCACrC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,MAAO,CAAE,UAAW,QAAS,UAAW,OAAQ,OAAQ,gCAAiC,aAAc,MAAO,QAAS,MAAO,WAChI,EAAc,GAAG,CAAC,AAAC,GAClB,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAEC,MAAO,CACL,QAAS,OACT,WAAY,SACZ,IAAK,SACL,QAAS,SACT,OAAQ,SACV,YAEA,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,WACL,QAAS,EAAmB,QAAQ,CAAC,EAAQ,EAAE,EAC/C,SAAW,AAAD,IACJ,EAAE,MAAM,CAAC,OAAO,CAClB,CADoB,CACE,IAAI,EAAoB,EAAQ,EAAE,CAAC,EAEzD,EAAsB,EAAmB,MAAM,CAAC,AAAC,GAAO,IAAO,EAAQ,EAAE,EAE7E,IAEF,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAM,EAAQ,KAAK,KApBf,EAAQ,EAAE,QA0BvB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,UACP,MAAM,IACN,EAAS,sBACT,WAAW,IAAM,EAAS,IAAK,IACjC,EACA,MAAO,CACL,QAAS,iBACT,gBAAiB,wBACjB,MAAO,QACP,OAAQ,OACR,aAAc,MACd,OAAQ,SACV,WACD,wBAOU,WAAd,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,UACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,MAAO,CAAE,MAAO,uBAAwB,WAAG,8CAKnC,gBAAd,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,IAAK,QAAS,YAC3C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,MAAO,CAAE,aAAc,MAAO,WAAG,mBACrC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,IAAK,OAAQ,QAAS,OAAQ,gBAAiB,sBAAuB,aAAc,KAAM,YACvH,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,MAAO,CAAE,QAAS,QAAS,aAAc,SAAU,WAAY,GAAI,WAAG,SAG7E,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,MAAO,EACP,SAAU,AAAC,GAAM,EAAgB,EAAE,MAAM,CAAC,KAAK,EAC/C,MAAO,CACL,MAAO,OACP,QAAS,UACT,aAAc,MACd,OAAQ,gCACR,gBAAiB,oBACjB,MAAO,qBACT,YAEA,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,YAAG,qBAChB,EAAS,GAAG,CAAC,AAAC,GACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAqB,MAAO,EAAK,EAAE,UACjC,EAAK,SAAS,EAAI,EAAK,QAAQ,CAAG,CAAA,EAAG,EAAK,SAAS,CAAC,CAAC,EAAE,EAAK,QAAQ,CAAA,CAAE,CAAG,EAAK,KAAK,EADzE,EAAK,EAAE,SAO1B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,MAAO,CAAE,QAAS,OAAQ,WAAY,SAAU,IAAK,SAAU,OAAQ,UAAW,aAAc,QAAS,YAC9G,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,WACL,QAAS,EACT,SAAU,AAAC,IACT,EAAuB,EAAE,MAAM,CAAC,OAAO,EACnC,EAAE,MAAM,CAAC,OAAO,EAAE,AACpB,EAAoB,GAExB,IAEF,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,gCAEP,CAAC,GACA,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,MAAO,EACP,SAAU,AAAC,GAAM,EAAoB,EAAE,MAAM,CAAC,KAAK,EACnD,MAAO,CACL,MAAO,OACP,QAAS,UACT,aAAc,MACd,OAAQ,gCACR,gBAAiB,oBACjB,MAAO,qBACT,YAEA,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,YAAG,mBAChB,EAAmB,GAAG,CAAC,AAAC,GACvB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAiB,MAAO,WACtB,GADU,UAQrB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,EACT,SAAU,CAAC,EACX,MAAO,CACL,QAAS,iBACT,gBAAiB,wBACjB,MAAO,QACP,OAAQ,OACR,aAAc,MACd,OAAQ,AAAC,EAA+B,UAAhB,cACxB,QAAS,AAAC,EAAqB,EAAN,EAC3B,WACD,yBAML,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,MAAO,CAAE,aAAc,MAAO,WAAG,wBACN,IAA9B,EAAO,WAAW,CAAC,MAAM,CACxB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,MAAO,CAAE,MAAO,uBAAwB,WAAG,wBAE9C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,IAAK,QAAS,WAC1C,EAAO,WAAW,CAAC,GAAG,CAAC,AAAC,GACvB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAEC,MAAO,CACL,QAAS,OACT,gBAAiB,sBACjB,aAAc,MACd,QAAS,OACT,eAAgB,gBAChB,WAAY,QACd,YAEA,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,MAAO,CAAE,WAAY,GAAI,WAC3B,EAAW,IAAI,CAAC,SAAS,EAAI,EAAW,IAAI,CAAC,QAAQ,CAClD,CAAA,EAAG,EAAW,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,EAAW,IAAI,CAAC,QAAQ,CAAA,CAAE,CAC1D,EAAW,IAAI,CAAC,KAAK,GAE3B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,MAAO,CAAE,SAAU,WAAY,MAAO,uBAAwB,WAChE,EAAW,QAAQ,EAAI,sBAG5B,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAiB,EAAW,EAAE,EAC7C,MAAO,CACL,QAAS,cACT,gBAAiB,yBACjB,MAAO,eACP,OAAQ,OACR,aAAc,MACd,OAAQ,SACV,WACD,aA9BI,EAAW,EAAE,cAlkBhC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,MAAO,CAAE,QAAS,MAAO,YAC5B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,UAAE,qBACH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAK,0BAAiB,sBA0mBpC"}