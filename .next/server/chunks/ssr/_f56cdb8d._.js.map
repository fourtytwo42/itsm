{"version":3,"sources":["../../../../components/SideNav.tsx","../../../../components/ChatWidget.tsx","../../../../node_modules/styled-jsx/dist/index/index.js","../../../../node_modules/styled-jsx/style.js","../../../../components/NotificationCenter.tsx","../../../../node_modules/%40heroicons/react/24/outline/esm/BellIcon.js","../../../../components/TopHeader.tsx","../../../../node_modules/%40heroicons/react/24/outline/esm/TicketIcon.js","../../../../components/LayoutContent.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect, useRef } from 'react'\nimport { useRouter, usePathname } from 'next/navigation'\nimport Link from 'next/link'\nimport {\n  HomeIcon,\n  TicketIcon,\n  BookOpenIcon,\n  ComputerDesktopIcon,\n  ArrowsRightLeftIcon,\n  ChartBarIcon,\n  UsersIcon,\n  Cog6ToothIcon,\n  ClockIcon,\n  ArrowRightOnRectangleIcon,\n  ChevronRightIcon,\n  ChevronLeftIcon,\n  ChevronUpIcon,\n  ChevronDownIcon,\n  UserCircleIcon,\n} from '@heroicons/react/24/outline'\nimport {\n  HomeIcon as HomeIconSolid,\n  TicketIcon as TicketIconSolid,\n  BookOpenIcon as BookOpenIconSolid,\n  ComputerDesktopIcon as ComputerDesktopIconSolid,\n  ArrowsRightLeftIcon as ArrowsRightLeftIconSolid,\n  ChartBarIcon as ChartBarIconSolid,\n  UsersIcon as UsersIconSolid,\n  Cog6ToothIcon as Cog6ToothIconSolid,\n  ClockIcon as ClockIconSolid,\n} from '@heroicons/react/24/solid'\n\ninterface NavItem {\n  href: string\n  label: string\n  icon: any\n  iconSolid: any\n  roles?: string[]\n}\n\nconst ICON_COLUMN_WIDTH = 72\n\nexport default function SideNav() {\n  const router = useRouter()\n  const pathname = usePathname()\n  const [user, setUser] = useState<any>(null)\n  const [isExpanded, setIsExpanded] = useState(false)\n  const [showText, setShowText] = useState(false)\n  const [hoveredItem, setHoveredItem] = useState<string | null>(null)\n  const [tooltipPosition, setTooltipPosition] = useState<{ top: number; left: number } | null>(null)\n  const [showUserMenu, setShowUserMenu] = useState(false)\n\n  const navRef = useRef<HTMLElement>(null)\n  const userMenuRef = useRef<HTMLDivElement>(null)\n\n  useEffect(() => {\n    const storedUser = localStorage.getItem('user')\n    if (storedUser) {\n      try {\n        setUser(JSON.parse(storedUser))\n      } catch (e) {\n        // Invalid user data\n      }\n    }\n\n    const savedExpanded = localStorage.getItem('sideNavExpanded')\n    if (savedExpanded === 'true') {\n      setIsExpanded(true)\n      setShowText(true)\n    }\n  }, [])\n\n  useEffect(() => {\n    if (!showUserMenu) return\n\n    const handleClickOutside = (event: MouseEvent) => {\n      const target = event.target as HTMLElement\n      if (!target.closest('[data-user-menu]')) {\n        setShowUserMenu(false)\n      }\n    }\n\n    document.addEventListener('mousedown', handleClickOutside)\n    return () => document.removeEventListener('mousedown', handleClickOutside)\n  }, [showUserMenu])\n\n  // Calculate nav width (needed for CSS variable, must be before conditional returns)\n  const navWidth = isExpanded ? 240 : ICON_COLUMN_WIDTH\n\n  // Set CSS variable for nav width (must be before conditional returns)\n  useEffect(() => {\n    document.documentElement.style.setProperty('--side-nav-width', `${navWidth}px`)\n  }, [navWidth])\n\n  // Hide on login/register/landing pages\n  if (pathname === '/' || pathname === '/login' || pathname === '/register' || pathname?.startsWith('/reset-password')) {\n    return null\n  }\n\n  // Hide if user is not logged in\n  const token = typeof window !== 'undefined' ? localStorage.getItem('accessToken') : null\n  if (!token || !user) {\n    return null\n  }\n\n  // Hide for END_USER role - they use header navigation instead\n  if (user?.roles?.includes('END_USER')) {\n    return null\n  }\n\n  const handleLogout = () => {\n    localStorage.removeItem('accessToken')\n    localStorage.removeItem('refreshToken')\n    localStorage.removeItem('user')\n    // Use window.location for full page reload to prevent client-side errors\n    window.location.href = '/login'\n  }\n\n  const toggleExpand = () => {\n    const newExpanded = !isExpanded\n    setIsExpanded(newExpanded)\n    localStorage.setItem('sideNavExpanded', String(newExpanded))\n\n    if (!newExpanded) {\n      setShowUserMenu(false)\n    }\n\n    if (newExpanded) {\n      setShowText(true)\n    } else {\n      setTimeout(() => {\n        setShowText(false)\n      }, 300)\n    }\n  }\n\n  const isGlobalAdmin = user?.roles?.includes('GLOBAL_ADMIN')\n  const isAdmin = user?.roles?.includes('ADMIN')\n  const isManager = user?.roles?.includes('IT_MANAGER')\n  const isAgent = user?.roles?.includes('AGENT')\n\n  const navItems: NavItem[] = [\n    { href: '/dashboard', label: 'Dashboard', icon: HomeIcon, iconSolid: HomeIconSolid },\n    { href: '/tickets', label: 'Tickets', icon: TicketIcon, iconSolid: TicketIconSolid },\n    { href: '/kb', label: 'Knowledge Base', icon: BookOpenIcon, iconSolid: BookOpenIconSolid },\n    { href: '/assets', label: 'Assets', icon: ComputerDesktopIcon, iconSolid: ComputerDesktopIconSolid, roles: ['AGENT', 'IT_MANAGER', 'ADMIN'] },\n    { href: '/changes', label: 'Changes', icon: ArrowsRightLeftIcon, iconSolid: ArrowsRightLeftIconSolid, roles: ['AGENT', 'IT_MANAGER', 'ADMIN'] },\n    { href: '/reports', label: 'Reports', icon: ChartBarIcon, iconSolid: ChartBarIconSolid, roles: ['IT_MANAGER', 'ADMIN'] },\n  ]\n\n  const managerItems: NavItem[] = [\n    { href: '/manager/tenants', label: 'My Tenants', icon: UsersIcon, iconSolid: UsersIconSolid },\n    { href: '/manager/users', label: 'Users', icon: UsersIcon, iconSolid: UsersIconSolid, roles: ['IT_MANAGER'] },\n    { href: '/manager/agents', label: 'My Agents', icon: UsersIcon, iconSolid: UsersIconSolid },\n  ]\n\n  const globalAdminItems: NavItem[] = [\n    { href: '/global/organizations', label: 'Organizations', icon: UsersIcon, iconSolid: UsersIconSolid, roles: ['GLOBAL_ADMIN'] },\n  ]\n\n  const adminItems: NavItem[] = [\n    { href: '/admin/users', label: 'Users', icon: UsersIcon, iconSolid: UsersIconSolid },\n    { href: '/admin/tenants', label: 'Tenants', icon: UsersIcon, iconSolid: UsersIconSolid },\n    { href: '/admin/asset-types', label: 'Asset Types', icon: ComputerDesktopIcon, iconSolid: ComputerDesktopIconSolid },\n    { href: '/admin/config', label: 'Configuration', icon: Cog6ToothIcon, iconSolid: Cog6ToothIconSolid },\n    { href: '/admin/sla', label: 'SLA Management', icon: ClockIcon, iconSolid: ClockIconSolid },\n    { href: '/organization/settings', label: 'Organization Settings', icon: Cog6ToothIcon, iconSolid: Cog6ToothIconSolid },\n    { href: '/organization/audit', label: 'Audit Logs', icon: ClockIcon, iconSolid: ClockIconSolid },\n  ]\n\n  const agentItems: NavItem[] = [\n    { href: '/agent/users', label: 'Users', icon: UsersIcon, iconSolid: UsersIconSolid },\n  ]\n\n  const canAccess = (item: NavItem) => {\n    if (!item.roles) return true\n    if (!user?.roles) return false\n    return item.roles.some((role: string) => user.roles.includes(role))\n  }\n\n  const filteredNavItems = navItems.filter(canAccess)\n  const filteredGlobalAdminItems = globalAdminItems.filter(canAccess)\n  const filteredManagerItems = managerItems.filter(() => isManager)\n  const filteredAdminItems = adminItems.filter(canAccess)\n  const filteredAgentItems = agentItems.filter(() => isAgent)\n\n  const isActive = (href: string) => {\n    if (href === '/dashboard') {\n      return pathname === '/dashboard'\n    }\n    return pathname?.startsWith(href)\n  }\n\n  const renderNavItem = (item: NavItem) => {\n    const active = isActive(item.href)\n    const Icon = active ? item.iconSolid : item.icon\n    const isHovered = hoveredItem === item.href\n\n    return (\n      <div key={item.href} style={{ position: 'relative' }}>\n        <Link\n          href={item.href}\n          style={{\n            display: 'flex',\n            alignItems: 'center',\n            width: '100%',\n            padding: '0.75rem 0',\n            textDecoration: 'none',\n            color: active ? 'var(--accent-primary)' : 'var(--text-primary)',\n            transition: 'all 0.2s',\n            position: 'relative',\n          }}\n          onMouseEnter={(e) => {\n            if (!isExpanded) {\n              setHoveredItem(item.href)\n              const rect = e.currentTarget.getBoundingClientRect()\n              setTooltipPosition({\n                top: rect.top + rect.height / 2,\n                left: navWidth + 12,\n              })\n            }\n          }}\n          onMouseLeave={() => {\n            if (!isExpanded) {\n              setHoveredItem(null)\n              setTooltipPosition(null)\n            }\n          }}\n        >\n          {/* Icon Column - Always 72px, always centered */}\n          <div\n            style={{\n              width: `${ICON_COLUMN_WIDTH}px`,\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              flexShrink: 0,\n            }}\n          >\n            <Icon\n              className=\"w-5 h-5\"\n              style={{\n                width: '20px',\n                height: '20px',\n              }}\n            />\n          </div>\n\n          {/* Text Label - Only shown when expanded */}\n          {showText && (\n            <span\n              style={{\n                fontSize: '0.875rem',\n                fontWeight: active ? 600 : 400,\n                whiteSpace: 'nowrap',\n                paddingRight: '1rem',\n                opacity: 1,\n                transition: 'opacity 0.2s ease',\n              }}\n            >\n              {item.label}\n            </span>\n          )}\n        </Link>\n\n        {/* Tooltip when collapsed */}\n        {!isExpanded && isHovered && tooltipPosition && (\n          <div\n            style={{\n              position: 'fixed',\n              left: `${tooltipPosition.left}px`,\n              top: `${tooltipPosition.top}px`,\n              transform: 'translateY(-50%)',\n              padding: '0.5rem 0.75rem',\n              backgroundColor: 'var(--bg-tertiary)',\n              color: 'var(--text-primary)',\n              borderRadius: '6px',\n              fontSize: '0.875rem',\n              whiteSpace: 'nowrap',\n              zIndex: 10000,\n              boxShadow: '0 4px 12px rgba(0, 0, 0, 0.3)',\n              border: '1px solid var(--border-color)',\n              pointerEvents: 'none',\n            }}\n          >\n            {item.label}\n            <div\n              style={{\n                position: 'absolute',\n                right: '100%',\n                top: '50%',\n                transform: 'translateY(-50%)',\n                border: '6px solid transparent',\n                borderRightColor: 'var(--bg-tertiary)',\n              }}\n            />\n          </div>\n        )}\n      </div>\n    )\n  }\n\n  return (\n    <nav\n      ref={navRef}\n      style={{\n        position: 'fixed',\n        left: 0,\n        top: 0,\n        bottom: 0,\n        width: `${navWidth}px`,\n        backgroundColor: 'var(--bg-secondary)',\n        borderRight: '1px solid var(--border-color)',\n        display: 'flex',\n        flexDirection: 'column',\n        zIndex: 1000,\n        transition: 'width 0.3s ease',\n        overflow: 'visible',\n      }}\n    >\n      {/* Expand/Collapse Button */}\n      <button\n        onClick={toggleExpand}\n        style={{\n          position: 'absolute',\n          right: '-12px',\n          top: '50%',\n          transform: 'translateY(-50%)',\n          width: '24px',\n          height: '24px',\n          borderRadius: '50%',\n          backgroundColor: 'var(--bg-secondary)',\n          border: '1px solid var(--border-color)',\n          color: 'var(--text-primary)',\n          cursor: 'pointer',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          transition: 'all 0.2s',\n          zIndex: 1001,\n          boxShadow: '0 2px 4px rgba(0, 0, 0, 0.2)',\n        }}\n        onMouseEnter={(e) => {\n          e.currentTarget.style.backgroundColor = 'var(--bg-tertiary)'\n          e.currentTarget.style.borderColor = 'var(--accent-primary)'\n          e.currentTarget.style.transform = 'translateY(-50%) scale(1.1)'\n        }}\n        onMouseLeave={(e) => {\n          e.currentTarget.style.backgroundColor = 'var(--bg-secondary)'\n          e.currentTarget.style.borderColor = 'var(--border-color)'\n          e.currentTarget.style.transform = 'translateY(-50%) scale(1)'\n        }}\n        aria-label={isExpanded ? 'Collapse navigation' : 'Expand navigation'}\n      >\n        {isExpanded ? (\n          <ChevronLeftIcon className=\"w-4 h-4\" />\n        ) : (\n          <ChevronRightIcon className=\"w-4 h-4\" />\n        )}\n      </button>\n\n      {/* Header - Ticket Icon */}\n      <div\n        style={{\n          height: '64px',\n          borderBottom: '1px solid var(--border-color)',\n          display: 'flex',\n          alignItems: 'center',\n          width: '100%',\n        }}\n      >\n        <Link\n          href=\"/dashboard\"\n          style={{\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            width: `${ICON_COLUMN_WIDTH}px`,\n            textDecoration: 'none',\n            color: 'var(--accent-primary)',\n            flexShrink: 0,\n          }}\n        >\n          <TicketIcon\n            className=\"w-6 h-6\"\n            style={{\n              width: '24px',\n              height: '24px',\n            }}\n          />\n        </Link>\n      </div>\n\n      {/* Navigation Items */}\n      <div\n        style={{\n          flex: 1,\n          overflowY: 'auto',\n          overflowX: 'hidden',\n          padding: '0.5rem 0',\n          display: 'flex',\n          flexDirection: 'column',\n        }}\n      >\n        {filteredNavItems.map(renderNavItem)}\n        {isGlobalAdmin && filteredGlobalAdminItems.length > 0 && (\n          <>\n            <div\n              style={{\n                padding: '0.5rem 0',\n                marginTop: '0.5rem',\n                borderTop: '1px solid var(--border-color)',\n              }}\n            />\n            {filteredGlobalAdminItems.map(renderNavItem)}\n          </>\n        )}\n        {isManager && filteredManagerItems.length > 0 && (\n          <>\n            <div\n              style={{\n                padding: '0.5rem 0',\n                marginTop: '0.5rem',\n                borderTop: '1px solid var(--border-color)',\n              }}\n            />\n            {filteredManagerItems.map(renderNavItem)}\n          </>\n        )}\n        {isAdmin && filteredAdminItems.length > 0 && (\n          <>\n            <div\n              style={{\n                padding: '0.5rem 0',\n                marginTop: '0.5rem',\n                borderTop: '1px solid var(--border-color)',\n              }}\n            />\n            {filteredAdminItems.map(renderNavItem)}\n          </>\n        )}\n        {isAgent && filteredAgentItems.length > 0 && (\n          <>\n            <div\n              style={{\n                padding: '0.5rem 0',\n                marginTop: '0.5rem',\n                borderTop: '1px solid var(--border-color)',\n              }}\n            />\n            {filteredAgentItems.map(renderNavItem)}\n          </>\n        )}\n      </div>\n\n      {/* User Menu */}\n      <div\n        data-user-menu\n        style={{\n          borderTop: '1px solid var(--border-color)',\n          padding: '0.5rem 0',\n          position: 'relative',\n        }}\n      >\n        {user && (\n          <>\n            <button\n              onClick={() => setShowUserMenu(!showUserMenu)}\n              style={{\n                width: '100%',\n                display: 'flex',\n                alignItems: 'center',\n                padding: '0.75rem 0',\n                border: 'none',\n                backgroundColor: 'transparent',\n                color: 'var(--text-primary)',\n                cursor: 'pointer',\n                transition: 'all 0.2s',\n              }}\n              onMouseEnter={(e) => {\n                if (!showUserMenu) {\n                  e.currentTarget.style.backgroundColor = 'var(--bg-primary)'\n                }\n              }}\n              onMouseLeave={(e) => {\n                if (!showUserMenu) {\n                  e.currentTarget.style.backgroundColor = 'transparent'\n                }\n              }}\n            >\n              {/* Avatar in Icon Column */}\n              <div\n                style={{\n                  width: `${ICON_COLUMN_WIDTH}px`,\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  flexShrink: 0,\n                }}\n              >\n                <div\n                  style={{\n                    width: '32px',\n                    height: '32px',\n                    borderRadius: '50%',\n                    backgroundColor: 'var(--accent-primary)',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    color: 'white',\n                    fontSize: '0.875rem',\n                    fontWeight: 600,\n                  }}\n                >\n                  {(user.firstName?.[0] || user.email?.[0] || 'U').toUpperCase()}\n                </div>\n              </div>\n\n              {/* User Info - Only shown when expanded */}\n              {showText && (\n                <>\n                  <div style={{ flex: 1, minWidth: 0, paddingRight: '1rem' }}>\n                    <div\n                      style={{\n                        fontSize: '0.875rem',\n                        fontWeight: 500,\n                        color: 'var(--text-primary)',\n                        whiteSpace: 'nowrap',\n                        overflow: 'hidden',\n                        textOverflow: 'ellipsis',\n                      }}\n                    >\n                      {user.firstName && user.lastName\n                        ? `${user.firstName} ${user.lastName}`\n                        : user.email?.split('@')[0] || 'User'}\n                    </div>\n                    <div\n                      style={{\n                        fontSize: '0.75rem',\n                        color: 'var(--text-secondary)',\n                        whiteSpace: 'nowrap',\n                        overflow: 'hidden',\n                        textOverflow: 'ellipsis',\n                      }}\n                    >\n                      {user.email}\n                    </div>\n                  </div>\n                  {isExpanded && (\n                    <div style={{ paddingRight: '1rem' }}>\n                      {showUserMenu ? (\n                        <ChevronUpIcon className=\"w-4 h-4\" style={{ color: 'var(--text-secondary)' }} />\n                      ) : (\n                        <ChevronDownIcon className=\"w-4 h-4\" style={{ color: 'var(--text-secondary)' }} />\n                      )}\n                    </div>\n                  )}\n                </>\n              )}\n            </button>\n\n            {/* User Dropdown Menu */}\n            {showUserMenu && (\n              <div\n                ref={(el) => {\n                  if (userMenuRef) {\n                    (userMenuRef as any).current = el\n                  }\n                  if (el && navRef.current && !isExpanded) {\n                    const navRect = navRef.current.getBoundingClientRect()\n                    const menuHeight = el.offsetHeight || 100\n                    const menuWidth = 32\n                    const sidebarCenter = navRect.left + ICON_COLUMN_WIDTH / 2\n                    const buttonEl = el.previousElementSibling as HTMLElement\n                    if (buttonEl) {\n                      const buttonRect = buttonEl.getBoundingClientRect()\n                      el.style.top = `${buttonRect.top - menuHeight - 8}px`\n                      el.style.left = `${sidebarCenter - menuWidth / 2}px`\n                    }\n                  }\n                }}\n                style={{\n                  position: isExpanded ? 'absolute' : 'fixed',\n                  bottom: isExpanded ? '100%' : 'auto',\n                  width: isExpanded ? '100%' : 'auto',\n                  marginBottom: isExpanded ? '0.5rem' : '0',\n                  backgroundColor: 'transparent',\n                  border: 'none',\n                  zIndex: 10000,\n                  display: 'flex',\n                  flexDirection: 'column',\n                  gap: isExpanded ? '0.25rem' : '0.5rem',\n                  padding: isExpanded ? '0' : '0',\n                  alignItems: isExpanded ? 'stretch' : 'center',\n                }}\n              >\n                {isExpanded ? (\n                  <>\n                    <Link\n                      href=\"/profile\"\n                      onClick={() => setShowUserMenu(false)}\n                      style={{\n                        display: 'flex',\n                        alignItems: 'center',\n                        padding: '0.75rem 0',\n                        textDecoration: 'none',\n                        color: pathname === '/profile' ? 'var(--accent-primary)' : 'var(--text-primary)',\n                        transition: 'all 0.2s',\n                      }}\n                    >\n                      <div\n                        style={{\n                          width: `${ICON_COLUMN_WIDTH}px`,\n                          display: 'flex',\n                          alignItems: 'center',\n                          justifyContent: 'center',\n                          flexShrink: 0,\n                        }}\n                      >\n                        <UserCircleIcon className=\"w-5 h-5\" style={{ width: '20px', height: '20px' }} />\n                      </div>\n                      <span\n                        style={{\n                          fontSize: '0.875rem',\n                          fontWeight: pathname === '/profile' ? 600 : 400,\n                          paddingRight: '1rem',\n                        }}\n                      >\n                        Profile\n                      </span>\n                    </Link>\n                    <button\n                      onClick={() => {\n                        setShowUserMenu(false)\n                        handleLogout()\n                      }}\n                      style={{\n                        display: 'flex',\n                        alignItems: 'center',\n                        padding: '0.75rem 0',\n                        backgroundColor: 'transparent',\n                        border: 'none',\n                        color: 'var(--text-primary)',\n                        cursor: 'pointer',\n                        textAlign: 'left',\n                        transition: 'all 0.2s',\n                      }}\n                    >\n                      <div\n                        style={{\n                          width: `${ICON_COLUMN_WIDTH}px`,\n                          display: 'flex',\n                          alignItems: 'center',\n                          justifyContent: 'center',\n                          flexShrink: 0,\n                        }}\n                      >\n                        <ArrowRightOnRectangleIcon className=\"w-5 h-5\" style={{ width: '20px', height: '20px' }} />\n                      </div>\n                      <span\n                        style={{\n                          fontSize: '0.875rem',\n                          paddingRight: '1rem',\n                        }}\n                      >\n                        Log out\n                      </span>\n                    </button>\n                  </>\n                ) : (\n                  <>\n                    <Link\n                      href=\"/profile\"\n                      onClick={() => setShowUserMenu(false)}\n                      style={{\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        width: '32px',\n                        height: '32px',\n                        borderRadius: '8px',\n                        textDecoration: 'none',\n                        color: 'var(--text-primary)',\n                        transition: 'background-color 0.2s',\n                        margin: '0 auto',\n                      }}\n                      onMouseEnter={(e) => {\n                        e.currentTarget.style.backgroundColor = 'var(--bg-tertiary)'\n                      }}\n                      onMouseLeave={(e) => {\n                        e.currentTarget.style.backgroundColor = 'transparent'\n                      }}\n                      title=\"Profile\"\n                    >\n                      <UserCircleIcon className=\"w-6 h-6\" />\n                    </Link>\n                    <button\n                      onClick={() => {\n                        setShowUserMenu(false)\n                        handleLogout()\n                      }}\n                      style={{\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        width: '32px',\n                        height: '32px',\n                        borderRadius: '8px',\n                        backgroundColor: 'transparent',\n                        border: 'none',\n                        color: 'var(--text-primary)',\n                        cursor: 'pointer',\n                        transition: 'background-color 0.2s',\n                        margin: '0 auto',\n                      }}\n                      onMouseEnter={(e) => {\n                        e.currentTarget.style.backgroundColor = 'rgba(239, 68, 68, 0.1)'\n                        e.currentTarget.style.color = 'var(--error)'\n                      }}\n                      onMouseLeave={(e) => {\n                        e.currentTarget.style.backgroundColor = 'transparent'\n                        e.currentTarget.style.color = 'var(--text-primary)'\n                      }}\n                      title=\"Log out\"\n                    >\n                      <ArrowRightOnRectangleIcon className=\"w-6 h-6\" />\n                    </button>\n                  </>\n                )}\n              </div>\n            )}\n          </>\n        )}\n      </div>\n    </nav>\n  )\n}\n","'use client'\n\nimport { useState, useRef, useEffect } from 'react'\nimport { usePathname } from 'next/navigation'\nimport { PaperAirplaneIcon, XMarkIcon } from '@heroicons/react/24/outline'\n\ninterface Message {\n  role: 'user' | 'assistant'\n  content: string\n}\n\nexport default function ChatWidget() {\n  const pathname = usePathname()\n  const [isOpen, setIsOpen] = useState(false)\n  const [messages, setMessages] = useState<Message[]>([\n    {\n      role: 'assistant',\n      content: 'Hello! I can help you find answers in our knowledge base or create a support ticket. How can I assist you today?',\n    },\n  ])\n  const [input, setInput] = useState('')\n  const [loading, setLoading] = useState(false)\n  const messagesEndRef = useRef<HTMLDivElement>(null)\n  \n  // Hide this widget on tenant pages (they have their own TenantChatWidget)\n  if (pathname?.startsWith('/tenant/')) {\n    return null\n  }\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' })\n  }\n\n  useEffect(() => {\n    scrollToBottom()\n  }, [messages])\n\n  const handleSend = async () => {\n    if (!input.trim() || loading) return\n\n    const userMessage: Message = { role: 'user', content: input }\n    setMessages((prev) => [...prev, userMessage])\n    setInput('')\n    setLoading(true)\n\n    try {\n      const token = localStorage.getItem('accessToken')\n      const response = await fetch('/api/v1/ai/chat', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          ...(token && { Authorization: `Bearer ${token}` }),\n        },\n        body: JSON.stringify({\n          messages: [...messages, userMessage].map((m) => ({\n            role: m.role,\n            content: m.content,\n          })),\n        }),\n      })\n\n      const data = await response.json()\n\n      if (!data.success) {\n        throw new Error(data.error?.message || 'Failed to get response')\n      }\n\n      const assistantMessage: Message = {\n        role: 'assistant',\n        content: data.data.reply,\n      }\n\n      setMessages((prev) => [...prev, assistantMessage])\n    } catch (error) {\n      const errorMessage: Message = {\n        role: 'assistant',\n        content: 'Sorry, I encountered an error. Please try again or create a support ticket.',\n      }\n      setMessages((prev) => [...prev, errorMessage])\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault()\n      handleSend()\n    }\n  }\n\n  if (!isOpen) {\n    return (\n      <button\n        onClick={() => setIsOpen(true)}\n        style={{\n          position: 'fixed',\n          bottom: '20px',\n          right: '20px',\n          width: '60px',\n          height: '60px',\n          borderRadius: '50%',\n          backgroundColor: 'var(--accent-primary)',\n          color: 'white',\n          border: 'none',\n          cursor: 'pointer',\n          boxShadow: '0 4px 12px var(--shadow)',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          zIndex: 1000,\n        }}\n        aria-label=\"Open chat\"\n      >\n        <PaperAirplaneIcon style={{ width: '24px', height: '24px' }} />\n      </button>\n    )\n  }\n\n  return (\n    <div\n      style={{\n        position: 'fixed',\n        bottom: '20px',\n        right: '20px',\n        width: '400px',\n        maxWidth: 'calc(100vw - 40px)',\n        height: '600px',\n        maxHeight: 'calc(100vh - 40px)',\n        backgroundColor: 'var(--bg-secondary)',\n        border: '1px solid var(--border-color)',\n        borderRadius: '12px',\n        boxShadow: '0 8px 24px var(--shadow)',\n        display: 'flex',\n        flexDirection: 'column',\n        zIndex: 1000,\n      }}\n    >\n      <div\n        style={{\n          padding: '1rem',\n          borderBottom: '1px solid var(--border-color)',\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n        }}\n      >\n        <h3 style={{ margin: 0, fontWeight: '600' }}>AI Assistant</h3>\n        <button\n          onClick={() => setIsOpen(false)}\n          style={{\n            background: 'none',\n            border: 'none',\n            color: 'var(--text-secondary)',\n            cursor: 'pointer',\n            padding: '0.25rem',\n          }}\n          aria-label=\"Close chat\"\n        >\n          <XMarkIcon style={{ width: '20px', height: '20px' }} />\n        </button>\n      </div>\n\n      <div\n        style={{\n          flex: 1,\n          overflowY: 'auto',\n          padding: '1rem',\n          display: 'flex',\n          flexDirection: 'column',\n          gap: '1rem',\n        }}\n      >\n        {messages.map((msg, idx) => (\n          <div\n            key={idx}\n            style={{\n              alignSelf: msg.role === 'user' ? 'flex-end' : 'flex-start',\n              maxWidth: '80%',\n              padding: '0.75rem 1rem',\n              borderRadius: '12px',\n              backgroundColor:\n                msg.role === 'user'\n                  ? 'var(--accent-primary)'\n                  : 'var(--bg-tertiary)',\n              color:\n                msg.role === 'user'\n                  ? 'white'\n                  : 'var(--text-primary)',\n            }}\n          >\n            {msg.content}\n          </div>\n        ))}\n        {loading && (\n          <div\n            style={{\n              alignSelf: 'flex-start',\n              padding: '0.75rem 1rem',\n              borderRadius: '12px',\n              backgroundColor: 'var(--bg-tertiary)',\n              color: 'var(--text-secondary)',\n            }}\n          >\n            Thinking...\n          </div>\n        )}\n        <div ref={messagesEndRef} />\n      </div>\n\n      <div\n        style={{\n          padding: '1rem',\n          borderTop: '1px solid var(--border-color)',\n          display: 'flex',\n          gap: '0.5rem',\n        }}\n      >\n        <input\n          type=\"text\"\n          value={input}\n          onChange={(e) => setInput(e.target.value)}\n          onKeyPress={handleKeyPress}\n          placeholder=\"Type your message...\"\n          disabled={loading}\n          style={{\n            flex: 1,\n            padding: '0.75rem',\n            border: '1px solid var(--border-color)',\n            borderRadius: '8px',\n            backgroundColor: 'var(--bg-primary)',\n            color: 'var(--text-primary)',\n            fontSize: '0.875rem',\n          }}\n        />\n        <button\n          onClick={handleSend}\n          disabled={loading || !input.trim()}\n          style={{\n            padding: '0.75rem 1rem',\n            backgroundColor: 'var(--accent-primary)',\n            color: 'white',\n            border: 'none',\n            borderRadius: '8px',\n            cursor: loading || !input.trim() ? 'not-allowed' : 'pointer',\n            opacity: loading || !input.trim() ? 0.5 : 1,\n          }}\n        >\n          <PaperAirplaneIcon style={{ width: '20px', height: '20px' }} />\n        </button>\n      </div>\n    </div>\n  )\n}\n\n","require('client-only');\nvar React = require('react');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nvar React__default = /*#__PURE__*/_interopDefaultLegacy(React);\n\n/*\nBased on Glamor's sheet\nhttps://github.com/threepointone/glamor/blob/667b480d31b3721a905021b26e1290ce92ca2879/src/sheet.js\n*/ function _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nvar isProd = typeof process !== \"undefined\" && process.env && process.env.NODE_ENV === \"production\";\nvar isString = function(o) {\n    return Object.prototype.toString.call(o) === \"[object String]\";\n};\nvar StyleSheet = /*#__PURE__*/ function() {\n    function StyleSheet(param) {\n        var ref = param === void 0 ? {} : param, _name = ref.name, name = _name === void 0 ? \"stylesheet\" : _name, _optimizeForSpeed = ref.optimizeForSpeed, optimizeForSpeed = _optimizeForSpeed === void 0 ? isProd : _optimizeForSpeed;\n        invariant$1(isString(name), \"`name` must be a string\");\n        this._name = name;\n        this._deletedRulePlaceholder = \"#\" + name + \"-deleted-rule____{}\";\n        invariant$1(typeof optimizeForSpeed === \"boolean\", \"`optimizeForSpeed` must be a boolean\");\n        this._optimizeForSpeed = optimizeForSpeed;\n        this._serverSheet = undefined;\n        this._tags = [];\n        this._injected = false;\n        this._rulesCount = 0;\n        var node = typeof window !== \"undefined\" && document.querySelector('meta[property=\"csp-nonce\"]');\n        this._nonce = node ? node.getAttribute(\"content\") : null;\n    }\n    var _proto = StyleSheet.prototype;\n    _proto.setOptimizeForSpeed = function setOptimizeForSpeed(bool) {\n        invariant$1(typeof bool === \"boolean\", \"`setOptimizeForSpeed` accepts a boolean\");\n        invariant$1(this._rulesCount === 0, \"optimizeForSpeed cannot be when rules have already been inserted\");\n        this.flush();\n        this._optimizeForSpeed = bool;\n        this.inject();\n    };\n    _proto.isOptimizeForSpeed = function isOptimizeForSpeed() {\n        return this._optimizeForSpeed;\n    };\n    _proto.inject = function inject() {\n        var _this = this;\n        invariant$1(!this._injected, \"sheet already injected\");\n        this._injected = true;\n        if (typeof window !== \"undefined\" && this._optimizeForSpeed) {\n            this._tags[0] = this.makeStyleTag(this._name);\n            this._optimizeForSpeed = \"insertRule\" in this.getSheet();\n            if (!this._optimizeForSpeed) {\n                if (!isProd) {\n                    console.warn(\"StyleSheet: optimizeForSpeed mode not supported falling back to standard mode.\");\n                }\n                this.flush();\n                this._injected = true;\n            }\n            return;\n        }\n        this._serverSheet = {\n            cssRules: [],\n            insertRule: function(rule, index) {\n                if (typeof index === \"number\") {\n                    _this._serverSheet.cssRules[index] = {\n                        cssText: rule\n                    };\n                } else {\n                    _this._serverSheet.cssRules.push({\n                        cssText: rule\n                    });\n                }\n                return index;\n            },\n            deleteRule: function(index) {\n                _this._serverSheet.cssRules[index] = null;\n            }\n        };\n    };\n    _proto.getSheetForTag = function getSheetForTag(tag) {\n        if (tag.sheet) {\n            return tag.sheet;\n        }\n        // this weirdness brought to you by firefox\n        for(var i = 0; i < document.styleSheets.length; i++){\n            if (document.styleSheets[i].ownerNode === tag) {\n                return document.styleSheets[i];\n            }\n        }\n    };\n    _proto.getSheet = function getSheet() {\n        return this.getSheetForTag(this._tags[this._tags.length - 1]);\n    };\n    _proto.insertRule = function insertRule(rule, index) {\n        invariant$1(isString(rule), \"`insertRule` accepts only strings\");\n        if (typeof window === \"undefined\") {\n            if (typeof index !== \"number\") {\n                index = this._serverSheet.cssRules.length;\n            }\n            this._serverSheet.insertRule(rule, index);\n            return this._rulesCount++;\n        }\n        if (this._optimizeForSpeed) {\n            var sheet = this.getSheet();\n            if (typeof index !== \"number\") {\n                index = sheet.cssRules.length;\n            }\n            // this weirdness for perf, and chrome's weird bug\n            // https://stackoverflow.com/questions/20007992/chrome-suddenly-stopped-accepting-insertrule\n            try {\n                sheet.insertRule(rule, index);\n            } catch (error) {\n                if (!isProd) {\n                    console.warn(\"StyleSheet: illegal rule: \\n\\n\" + rule + \"\\n\\nSee https://stackoverflow.com/q/20007992 for more info\");\n                }\n                return -1;\n            }\n        } else {\n            var insertionPoint = this._tags[index];\n            this._tags.push(this.makeStyleTag(this._name, rule, insertionPoint));\n        }\n        return this._rulesCount++;\n    };\n    _proto.replaceRule = function replaceRule(index, rule) {\n        if (this._optimizeForSpeed || typeof window === \"undefined\") {\n            var sheet = typeof window !== \"undefined\" ? this.getSheet() : this._serverSheet;\n            if (!rule.trim()) {\n                rule = this._deletedRulePlaceholder;\n            }\n            if (!sheet.cssRules[index]) {\n                // @TBD Should we throw an error?\n                return index;\n            }\n            sheet.deleteRule(index);\n            try {\n                sheet.insertRule(rule, index);\n            } catch (error) {\n                if (!isProd) {\n                    console.warn(\"StyleSheet: illegal rule: \\n\\n\" + rule + \"\\n\\nSee https://stackoverflow.com/q/20007992 for more info\");\n                }\n                // In order to preserve the indices we insert a deleteRulePlaceholder\n                sheet.insertRule(this._deletedRulePlaceholder, index);\n            }\n        } else {\n            var tag = this._tags[index];\n            invariant$1(tag, \"old rule at index `\" + index + \"` not found\");\n            tag.textContent = rule;\n        }\n        return index;\n    };\n    _proto.deleteRule = function deleteRule(index) {\n        if (typeof window === \"undefined\") {\n            this._serverSheet.deleteRule(index);\n            return;\n        }\n        if (this._optimizeForSpeed) {\n            this.replaceRule(index, \"\");\n        } else {\n            var tag = this._tags[index];\n            invariant$1(tag, \"rule at index `\" + index + \"` not found\");\n            tag.parentNode.removeChild(tag);\n            this._tags[index] = null;\n        }\n    };\n    _proto.flush = function flush() {\n        this._injected = false;\n        this._rulesCount = 0;\n        if (typeof window !== \"undefined\") {\n            this._tags.forEach(function(tag) {\n                return tag && tag.parentNode.removeChild(tag);\n            });\n            this._tags = [];\n        } else {\n            // simpler on server\n            this._serverSheet.cssRules = [];\n        }\n    };\n    _proto.cssRules = function cssRules() {\n        var _this = this;\n        if (typeof window === \"undefined\") {\n            return this._serverSheet.cssRules;\n        }\n        return this._tags.reduce(function(rules, tag) {\n            if (tag) {\n                rules = rules.concat(Array.prototype.map.call(_this.getSheetForTag(tag).cssRules, function(rule) {\n                    return rule.cssText === _this._deletedRulePlaceholder ? null : rule;\n                }));\n            } else {\n                rules.push(null);\n            }\n            return rules;\n        }, []);\n    };\n    _proto.makeStyleTag = function makeStyleTag(name, cssString, relativeToTag) {\n        if (cssString) {\n            invariant$1(isString(cssString), \"makeStyleTag accepts only strings as second parameter\");\n        }\n        var tag = document.createElement(\"style\");\n        if (this._nonce) tag.setAttribute(\"nonce\", this._nonce);\n        tag.type = \"text/css\";\n        tag.setAttribute(\"data-\" + name, \"\");\n        if (cssString) {\n            tag.appendChild(document.createTextNode(cssString));\n        }\n        var head = document.head || document.getElementsByTagName(\"head\")[0];\n        if (relativeToTag) {\n            head.insertBefore(tag, relativeToTag);\n        } else {\n            head.appendChild(tag);\n        }\n        return tag;\n    };\n    _createClass(StyleSheet, [\n        {\n            key: \"length\",\n            get: function get() {\n                return this._rulesCount;\n            }\n        }\n    ]);\n    return StyleSheet;\n}();\nfunction invariant$1(condition, message) {\n    if (!condition) {\n        throw new Error(\"StyleSheet: \" + message + \".\");\n    }\n}\n\nfunction hash(str) {\n    var _$hash = 5381, i = str.length;\n    while(i){\n        _$hash = _$hash * 33 ^ str.charCodeAt(--i);\n    }\n    /* JavaScript does bitwise operations (like XOR, above) on 32-bit signed\n   * integers. Since we want the results to be always positive, convert the\n   * signed int to an unsigned by doing an unsigned bitshift. */ return _$hash >>> 0;\n}\nvar stringHash = hash;\n\nvar sanitize = function(rule) {\n    return rule.replace(/\\/style/gi, \"\\\\/style\");\n};\nvar cache = {};\n/**\n * computeId\n *\n * Compute and memoize a jsx id from a basedId and optionally props.\n */ function computeId(baseId, props) {\n    if (!props) {\n        return \"jsx-\" + baseId;\n    }\n    var propsToString = String(props);\n    var key = baseId + propsToString;\n    if (!cache[key]) {\n        cache[key] = \"jsx-\" + stringHash(baseId + \"-\" + propsToString);\n    }\n    return cache[key];\n}\n/**\n * computeSelector\n *\n * Compute and memoize dynamic selectors.\n */ function computeSelector(id, css) {\n    var selectoPlaceholderRegexp = /__jsx-style-dynamic-selector/g;\n    // Sanitize SSR-ed CSS.\n    // Client side code doesn't need to be sanitized since we use\n    // document.createTextNode (dev) and the CSSOM api sheet.insertRule (prod).\n    if (typeof window === \"undefined\") {\n        css = sanitize(css);\n    }\n    var idcss = id + css;\n    if (!cache[idcss]) {\n        cache[idcss] = css.replace(selectoPlaceholderRegexp, id);\n    }\n    return cache[idcss];\n}\n\nfunction mapRulesToStyle(cssRules, options) {\n    if (options === void 0) options = {};\n    return cssRules.map(function(args) {\n        var id = args[0];\n        var css = args[1];\n        return /*#__PURE__*/ React__default[\"default\"].createElement(\"style\", {\n            id: \"__\" + id,\n            // Avoid warnings upon render with a key\n            key: \"__\" + id,\n            nonce: options.nonce ? options.nonce : undefined,\n            dangerouslySetInnerHTML: {\n                __html: css\n            }\n        });\n    });\n}\nvar StyleSheetRegistry = /*#__PURE__*/ function() {\n    function StyleSheetRegistry(param) {\n        var ref = param === void 0 ? {} : param, _styleSheet = ref.styleSheet, styleSheet = _styleSheet === void 0 ? null : _styleSheet, _optimizeForSpeed = ref.optimizeForSpeed, optimizeForSpeed = _optimizeForSpeed === void 0 ? false : _optimizeForSpeed;\n        this._sheet = styleSheet || new StyleSheet({\n            name: \"styled-jsx\",\n            optimizeForSpeed: optimizeForSpeed\n        });\n        this._sheet.inject();\n        if (styleSheet && typeof optimizeForSpeed === \"boolean\") {\n            this._sheet.setOptimizeForSpeed(optimizeForSpeed);\n            this._optimizeForSpeed = this._sheet.isOptimizeForSpeed();\n        }\n        this._fromServer = undefined;\n        this._indices = {};\n        this._instancesCounts = {};\n    }\n    var _proto = StyleSheetRegistry.prototype;\n    _proto.add = function add(props) {\n        var _this = this;\n        if (undefined === this._optimizeForSpeed) {\n            this._optimizeForSpeed = Array.isArray(props.children);\n            this._sheet.setOptimizeForSpeed(this._optimizeForSpeed);\n            this._optimizeForSpeed = this._sheet.isOptimizeForSpeed();\n        }\n        if (typeof window !== \"undefined\" && !this._fromServer) {\n            this._fromServer = this.selectFromServer();\n            this._instancesCounts = Object.keys(this._fromServer).reduce(function(acc, tagName) {\n                acc[tagName] = 0;\n                return acc;\n            }, {});\n        }\n        var ref = this.getIdAndRules(props), styleId = ref.styleId, rules = ref.rules;\n        // Deduping: just increase the instances count.\n        if (styleId in this._instancesCounts) {\n            this._instancesCounts[styleId] += 1;\n            return;\n        }\n        var indices = rules.map(function(rule) {\n            return _this._sheet.insertRule(rule);\n        })// Filter out invalid rules\n        .filter(function(index) {\n            return index !== -1;\n        });\n        this._indices[styleId] = indices;\n        this._instancesCounts[styleId] = 1;\n    };\n    _proto.remove = function remove(props) {\n        var _this = this;\n        var styleId = this.getIdAndRules(props).styleId;\n        invariant(styleId in this._instancesCounts, \"styleId: `\" + styleId + \"` not found\");\n        this._instancesCounts[styleId] -= 1;\n        if (this._instancesCounts[styleId] < 1) {\n            var tagFromServer = this._fromServer && this._fromServer[styleId];\n            if (tagFromServer) {\n                tagFromServer.parentNode.removeChild(tagFromServer);\n                delete this._fromServer[styleId];\n            } else {\n                this._indices[styleId].forEach(function(index) {\n                    return _this._sheet.deleteRule(index);\n                });\n                delete this._indices[styleId];\n            }\n            delete this._instancesCounts[styleId];\n        }\n    };\n    _proto.update = function update(props, nextProps) {\n        this.add(nextProps);\n        this.remove(props);\n    };\n    _proto.flush = function flush() {\n        this._sheet.flush();\n        this._sheet.inject();\n        this._fromServer = undefined;\n        this._indices = {};\n        this._instancesCounts = {};\n    };\n    _proto.cssRules = function cssRules() {\n        var _this = this;\n        var fromServer = this._fromServer ? Object.keys(this._fromServer).map(function(styleId) {\n            return [\n                styleId,\n                _this._fromServer[styleId]\n            ];\n        }) : [];\n        var cssRules = this._sheet.cssRules();\n        return fromServer.concat(Object.keys(this._indices).map(function(styleId) {\n            return [\n                styleId,\n                _this._indices[styleId].map(function(index) {\n                    return cssRules[index].cssText;\n                }).join(_this._optimizeForSpeed ? \"\" : \"\\n\")\n            ];\n        })// filter out empty rules\n        .filter(function(rule) {\n            return Boolean(rule[1]);\n        }));\n    };\n    _proto.styles = function styles(options) {\n        return mapRulesToStyle(this.cssRules(), options);\n    };\n    _proto.getIdAndRules = function getIdAndRules(props) {\n        var css = props.children, dynamic = props.dynamic, id = props.id;\n        if (dynamic) {\n            var styleId = computeId(id, dynamic);\n            return {\n                styleId: styleId,\n                rules: Array.isArray(css) ? css.map(function(rule) {\n                    return computeSelector(styleId, rule);\n                }) : [\n                    computeSelector(styleId, css)\n                ]\n            };\n        }\n        return {\n            styleId: computeId(id),\n            rules: Array.isArray(css) ? css : [\n                css\n            ]\n        };\n    };\n    /**\n   * selectFromServer\n   *\n   * Collects style tags from the document with id __jsx-XXX\n   */ _proto.selectFromServer = function selectFromServer() {\n        var elements = Array.prototype.slice.call(document.querySelectorAll('[id^=\"__jsx-\"]'));\n        return elements.reduce(function(acc, element) {\n            var id = element.id.slice(2);\n            acc[id] = element;\n            return acc;\n        }, {});\n    };\n    return StyleSheetRegistry;\n}();\nfunction invariant(condition, message) {\n    if (!condition) {\n        throw new Error(\"StyleSheetRegistry: \" + message + \".\");\n    }\n}\nvar StyleSheetContext = /*#__PURE__*/ React.createContext(null);\nStyleSheetContext.displayName = \"StyleSheetContext\";\nfunction createStyleRegistry() {\n    return new StyleSheetRegistry();\n}\nfunction StyleRegistry(param) {\n    var configuredRegistry = param.registry, children = param.children;\n    var rootRegistry = React.useContext(StyleSheetContext);\n    var ref = React.useState(function() {\n        return rootRegistry || configuredRegistry || createStyleRegistry();\n    }), registry = ref[0];\n    return /*#__PURE__*/ React__default[\"default\"].createElement(StyleSheetContext.Provider, {\n        value: registry\n    }, children);\n}\nfunction useStyleRegistry() {\n    return React.useContext(StyleSheetContext);\n}\n\n// Opt-into the new `useInsertionEffect` API in React 18, fallback to `useLayoutEffect`.\n// https://github.com/reactwg/react-18/discussions/110\nvar useInsertionEffect = React__default[\"default\"].useInsertionEffect || React__default[\"default\"].useLayoutEffect;\nvar defaultRegistry = typeof window !== \"undefined\" ? createStyleRegistry() : undefined;\nfunction JSXStyle(props) {\n    var registry = defaultRegistry ? defaultRegistry : useStyleRegistry();\n    // If `registry` does not exist, we do nothing here.\n    if (!registry) {\n        return null;\n    }\n    if (typeof window === \"undefined\") {\n        registry.add(props);\n        return null;\n    }\n    useInsertionEffect(function() {\n        registry.add(props);\n        return function() {\n            registry.remove(props);\n        };\n    // props.children can be string[], will be striped since id is identical\n    }, [\n        props.id,\n        String(props.dynamic)\n    ]);\n    return null;\n}\nJSXStyle.dynamic = function(info) {\n    return info.map(function(tagInfo) {\n        var baseId = tagInfo[0];\n        var props = tagInfo[1];\n        return computeId(baseId, props);\n    }).join(\" \");\n};\n\nexports.StyleRegistry = StyleRegistry;\nexports.createStyleRegistry = createStyleRegistry;\nexports.style = JSXStyle;\nexports.useStyleRegistry = useStyleRegistry;\n","module.exports = require('./dist/index').style\n","'use client'\n\nimport { useState, useEffect, useRef } from 'react'\nimport {\n  BellIcon,\n  XMarkIcon,\n  CheckIcon,\n  TrashIcon,\n} from '@heroicons/react/24/outline'\nimport { NotificationType, NotificationStatus } from '@prisma/client'\n\ninterface Notification {\n  id: string\n  type: NotificationType\n  title: string\n  message: string\n  status: NotificationStatus\n  link?: string | null\n  createdAt: string\n}\n\nexport default function NotificationCenter() {\n  const [isOpen, setIsOpen] = useState(false)\n  const [notifications, setNotifications] = useState<Notification[]>([])\n  const [unreadCount, setUnreadCount] = useState(0)\n  const [loading, setLoading] = useState(false)\n  const wsRef = useRef<WebSocket | null>(null)\n  const reconnectTimeoutRef = useRef<NodeJS.Timeout | null>(null)\n\n  useEffect(() => {\n    fetchNotifications()\n\n    // Connect to WebSocket\n    connectWebSocket()\n\n    return () => {\n      if (wsRef.current) {\n        wsRef.current.close()\n      }\n      if (reconnectTimeoutRef.current) {\n        clearTimeout(reconnectTimeoutRef.current)\n      }\n    }\n  }, [])\n\n  const connectWebSocket = () => {\n    const token = localStorage.getItem('accessToken')\n    if (!token) return\n\n    const protocol = window.location.protocol === 'https:' ? 'wss:' : 'ws:'\n    const wsUrl = `${protocol}//${window.location.host}/ws?token=${token}`\n\n    try {\n      const ws = new WebSocket(wsUrl)\n\n      ws.onopen = () => {\n        console.log('WebSocket connected')\n        // Send ping to keep connection alive\n        const pingInterval = setInterval(() => {\n          if (ws.readyState === WebSocket.OPEN) {\n            ws.send(JSON.stringify({ event: 'ping' }))\n          } else {\n            clearInterval(pingInterval)\n          }\n        }, 30000) // Ping every 30 seconds\n      }\n\n      ws.onmessage = (event) => {\n        try {\n          const message = JSON.parse(event.data)\n          handleWebSocketMessage(message)\n        } catch (error) {\n          console.error('Error parsing WebSocket message:', error)\n        }\n      }\n\n      ws.onerror = (error) => {\n        console.error('WebSocket error:', error)\n      }\n\n      ws.onclose = () => {\n        console.log('WebSocket disconnected, reconnecting...')\n        // Reconnect after 3 seconds\n        reconnectTimeoutRef.current = setTimeout(() => {\n          connectWebSocket()\n        }, 3000)\n      }\n\n      wsRef.current = ws\n    } catch (error) {\n      console.error('Failed to connect WebSocket:', error)\n    }\n  }\n\n  const handleWebSocketMessage = (message: any) => {\n    if (message.event === 'notification:new') {\n      // Add new notification to the list\n      setNotifications((prev) => [message.data.notification, ...prev])\n      setUnreadCount((prev) => prev + 1)\n    } else if (message.event === 'ticket:created' || message.event === 'ticket:updated') {\n      // Refresh notifications when ticket events occur\n      fetchNotifications()\n    }\n  }\n\n  const fetchNotifications = async () => {\n    try {\n      setLoading(true)\n      const token = localStorage.getItem('accessToken')\n      if (!token) return\n\n      const res = await fetch('/api/v1/notifications?limit=20', {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n\n      if (!res.ok) {\n        throw new Error('Failed to fetch notifications')\n      }\n\n      const data = await res.json()\n      if (data.success) {\n        setNotifications(data.data.notifications)\n        setUnreadCount(data.data.unreadCount)\n      }\n    } catch (error) {\n      console.error('Error fetching notifications:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const markAsRead = async (notificationId: string) => {\n    try {\n      const token = localStorage.getItem('accessToken')\n      if (!token) return\n\n      const res = await fetch(`/api/v1/notifications/${notificationId}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify({ action: 'read' }),\n      })\n\n      if (res.ok) {\n        setNotifications((prev) =>\n          prev.map((n) =>\n            n.id === notificationId\n              ? { ...n, status: NotificationStatus.READ }\n              : n\n          )\n        )\n        setUnreadCount((prev) => Math.max(0, prev - 1))\n      }\n    } catch (error) {\n      console.error('Error marking notification as read:', error)\n    }\n  }\n\n  const markAllAsRead = async () => {\n    try {\n      const token = localStorage.getItem('accessToken')\n      if (!token) return\n\n      const res = await fetch('/api/v1/notifications', {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify({ action: 'markAllAsRead' }),\n      })\n\n      if (res.ok) {\n        setNotifications((prev) =>\n          prev.map((n) => ({ ...n, status: NotificationStatus.READ }))\n        )\n        setUnreadCount(0)\n      }\n    } catch (error) {\n      console.error('Error marking all as read:', error)\n    }\n  }\n\n  const deleteNotification = async (notificationId: string) => {\n    try {\n      const token = localStorage.getItem('accessToken')\n      if (!token) return\n\n      const res = await fetch(`/api/v1/notifications/${notificationId}`, {\n        method: 'DELETE',\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n\n      if (res.ok) {\n        setNotifications((prev) => {\n          const notification = prev.find((n) => n.id === notificationId)\n          const wasUnread = notification?.status === NotificationStatus.UNREAD\n          const filtered = prev.filter((n) => n.id !== notificationId)\n          if (wasUnread) {\n            setUnreadCount((prev) => Math.max(0, prev - 1))\n          }\n          return filtered\n        })\n      }\n    } catch (error) {\n      console.error('Error deleting notification:', error)\n    }\n  }\n\n  const formatTime = (dateString: string) => {\n    const date = new Date(dateString)\n    const now = new Date()\n    const diffMs = now.getTime() - date.getTime()\n    const diffMins = Math.floor(diffMs / 60000)\n\n    if (diffMins < 1) return 'Just now'\n    if (diffMins < 60) return `${diffMins}m ago`\n    const diffHours = Math.floor(diffMins / 60)\n    if (diffHours < 24) return `${diffHours}h ago`\n    const diffDays = Math.floor(diffHours / 24)\n    if (diffDays < 7) return `${diffDays}d ago`\n    return date.toLocaleDateString()\n  }\n\n  return (\n    <div className=\"notification-center\">\n      <button\n        className=\"notification-button\"\n        onClick={() => setIsOpen(!isOpen)}\n        aria-label=\"Notifications\"\n      >\n        <BellIcon className=\"h-6 w-6\" />\n        {unreadCount > 0 && (\n          <span className=\"notification-badge\">{unreadCount > 9 ? '9+' : unreadCount}</span>\n        )}\n      </button>\n\n      {isOpen && (\n        <div className=\"notification-panel\">\n          <div className=\"notification-header\">\n            <h3>Notifications</h3>\n            <div className=\"notification-actions\">\n              {unreadCount > 0 && (\n                <button\n                  className=\"notification-action-button\"\n                  onClick={markAllAsRead}\n                  title=\"Mark all as read\"\n                >\n                  <CheckIcon className=\"h-5 w-5\" />\n                </button>\n              )}\n              <button\n                className=\"notification-action-button\"\n                onClick={() => setIsOpen(false)}\n                aria-label=\"Close\"\n              >\n                <XMarkIcon className=\"h-5 w-5\" />\n              </button>\n            </div>\n          </div>\n\n          <div className=\"notification-list\">\n            {loading ? (\n              <div className=\"notification-loading\">Loading...</div>\n            ) : notifications.length === 0 ? (\n              <div className=\"notification-empty\">No notifications</div>\n            ) : (\n              notifications.map((notification) => (\n                <div\n                  key={notification.id}\n                  className={`notification-item ${\n                    notification.status === NotificationStatus.UNREAD ? 'unread' : ''\n                  }`}\n                  onClick={() => {\n                    if (notification.link) {\n                      window.location.href = notification.link\n                    }\n                    if (notification.status === NotificationStatus.UNREAD) {\n                      markAsRead(notification.id)\n                    }\n                  }}\n                >\n                  <div className=\"notification-content\">\n                    <div className=\"notification-title\">{notification.title}</div>\n                    <div className=\"notification-message\">{notification.message}</div>\n                    <div className=\"notification-time\">{formatTime(notification.createdAt)}</div>\n                  </div>\n                  <div className=\"notification-item-actions\">\n                    {notification.status === NotificationStatus.UNREAD && (\n                      <button\n                        className=\"notification-item-action\"\n                        onClick={(e) => {\n                          e.stopPropagation()\n                          markAsRead(notification.id)\n                        }}\n                        title=\"Mark as read\"\n                      >\n                        <CheckIcon className=\"h-4 w-4\" />\n                      </button>\n                    )}\n                    <button\n                      className=\"notification-item-action\"\n                      onClick={(e) => {\n                        e.stopPropagation()\n                        deleteNotification(notification.id)\n                      }}\n                      title=\"Delete\"\n                    >\n                      <TrashIcon className=\"h-4 w-4\" />\n                    </button>\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n        </div>\n      )}\n\n      <style jsx>{`\n        .notification-center {\n          position: relative;\n        }\n\n        .notification-button {\n          position: relative;\n          background: none;\n          border: none;\n          cursor: pointer;\n          padding: 0.5rem;\n          color: var(--text-primary);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n\n        .notification-button:hover {\n          opacity: 0.8;\n        }\n\n        .notification-badge {\n          position: absolute;\n          top: 0;\n          right: 0;\n          background: var(--error-color, #ef4444);\n          color: white;\n          border-radius: 50%;\n          width: 1.25rem;\n          height: 1.25rem;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          font-size: 0.75rem;\n          font-weight: bold;\n        }\n\n        .notification-panel {\n          position: absolute;\n          top: 100%;\n          right: 0;\n          margin-top: 0.5rem;\n          width: 24rem;\n          max-height: 32rem;\n          background: var(--bg-primary, #ffffff);\n          border: 1px solid var(--border-color, #e5e7eb);\n          border-radius: 0.5rem;\n          box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);\n          z-index: 1000;\n          display: flex;\n          flex-direction: column;\n        }\n\n        .notification-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          padding: 1rem;\n          border-bottom: 1px solid var(--border-color, #e5e7eb);\n        }\n\n        .notification-header h3 {\n          margin: 0;\n          font-size: 1.125rem;\n          font-weight: 600;\n        }\n\n        .notification-actions {\n          display: flex;\n          gap: 0.5rem;\n        }\n\n        .notification-action-button {\n          background: none;\n          border: none;\n          cursor: pointer;\n          padding: 0.25rem;\n          color: var(--text-secondary, #6b7280);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n\n        .notification-action-button:hover {\n          color: var(--text-primary, #111827);\n        }\n\n        .notification-list {\n          overflow-y: auto;\n          max-height: 28rem;\n        }\n\n        .notification-loading,\n        .notification-empty {\n          padding: 2rem;\n          text-align: center;\n          color: var(--text-secondary, #6b7280);\n        }\n\n        .notification-item {\n          display: flex;\n          justify-content: space-between;\n          padding: 1rem;\n          border-bottom: 1px solid var(--border-color, #e5e7eb);\n          cursor: pointer;\n          transition: background-color 0.2s;\n        }\n\n        .notification-item:hover {\n          background-color: var(--bg-secondary, #f9fafb);\n        }\n\n        .notification-item.unread {\n          background-color: var(--bg-accent, #eff6ff);\n        }\n\n        .notification-content {\n          flex: 1;\n        }\n\n        .notification-title {\n          font-weight: 600;\n          margin-bottom: 0.25rem;\n          color: var(--text-primary, #111827);\n        }\n\n        .notification-message {\n          font-size: 0.875rem;\n          color: var(--text-secondary, #6b7280);\n          margin-bottom: 0.25rem;\n        }\n\n        .notification-time {\n          font-size: 0.75rem;\n          color: var(--text-tertiary, #9ca3af);\n        }\n\n        .notification-item-actions {\n          display: flex;\n          gap: 0.5rem;\n          align-items: center;\n        }\n\n        .notification-item-action {\n          background: none;\n          border: none;\n          cursor: pointer;\n          padding: 0.25rem;\n          color: var(--text-secondary, #6b7280);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n\n        .notification-item-action:hover {\n          color: var(--text-primary, #111827);\n        }\n\n        @media (prefers-color-scheme: dark) {\n          .notification-panel {\n            background: var(--bg-primary, #1f2937);\n            border-color: var(--border-color, #374151);\n          }\n\n          .notification-header {\n            border-bottom-color: var(--border-color, #374151);\n          }\n\n          .notification-item {\n            border-bottom-color: var(--border-color, #374151);\n          }\n\n          .notification-item:hover {\n            background-color: var(--bg-secondary, #111827);\n          }\n\n          .notification-item.unread {\n            background-color: var(--bg-accent, #1e3a8a);\n          }\n        }\n      `}</style>\n    </div>\n  )\n}\n\n","import * as React from \"react\";\nfunction BellIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0\"\n  }));\n}\nconst ForwardRef = React.forwardRef(BellIcon);\nexport default ForwardRef;","'use client'\n\nimport { useState, useEffect } from 'react'\nimport { usePathname } from 'next/navigation'\nimport Link from 'next/link'\nimport { TicketIcon } from '@heroicons/react/24/outline'\n\ninterface Organization {\n  id: string\n  name: string\n  slug: string\n  logo?: string\n}\n\nexport default function TopHeader() {\n  const pathname = usePathname()\n  const [user, setUser] = useState<any>(null)\n  const [organization, setOrganization] = useState<Organization | null>(null)\n  const [registrationEnabled, setRegistrationEnabled] = useState(true)\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    const storedUser = localStorage.getItem('user')\n    if (storedUser) {\n      try {\n        setUser(JSON.parse(storedUser))\n      } catch (e) {\n        // Invalid user data\n      }\n    }\n  }, [])\n\n  useEffect(() => {\n    const fetchOrganization = async () => {\n      setLoading(true)\n      try {\n        // If on tenant page, get organization from tenant\n        if (pathname?.startsWith('/tenant/')) {\n          const slug = pathname.split('/tenant/')[1]?.split('/')[0]\n          if (slug) {\n            const response = await fetch(`/api/v1/tenants/${slug}`)\n            const data = await response.json()\n            if (data.success && data.data) {\n              // Get organization from tenant\n              const tenantResponse = await fetch(`/api/v1/tenants/${slug}/organization`)\n              if (tenantResponse.ok) {\n                const tenantData = await tenantResponse.json()\n                if (tenantData.success) {\n                  setOrganization(tenantData.data)\n                }\n              }\n            }\n          }\n        } else {\n          // If logged in, get organization from user\n          const token = localStorage.getItem('accessToken')\n          if (token) {\n            const response = await fetch('/api/v1/organizations/me', {\n              headers: {\n                Authorization: `Bearer ${token}`,\n              },\n            })\n            if (response.ok) {\n              const data = await response.json()\n              setOrganization(data.organization)\n            }\n          }\n        }\n\n        // Check if registration is enabled (public endpoint)\n        const configResponse = await fetch('/api/v1/config/public')\n        if (configResponse.ok) {\n          const configData = await configResponse.json()\n          if (configData.success) {\n            setRegistrationEnabled(configData.data?.registrationEnabled ?? true)\n          }\n        }\n      } catch (err) {\n        // Silently fail\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    fetchOrganization()\n  }, [pathname])\n\n  // Don't show header on login/register/landing pages\n  if (pathname === '/' || pathname === '/login' || pathname === '/register' || pathname?.startsWith('/reset-password')) {\n    return null\n  }\n\n  const isLoggedIn = typeof window !== 'undefined' && !!user && !!localStorage.getItem('accessToken')\n  const isTenantPage = pathname?.startsWith('/tenant/')\n  const slug = isTenantPage ? pathname.split('/tenant/')[1]?.split('/')[0] : null\n  const redirectUrl = isTenantPage ? pathname : '/dashboard'\n\n  return (\n    <header\n      style={{\n        position: 'fixed',\n        top: 0,\n        left: isLoggedIn ? 'var(--side-nav-width, 72px)' : 0,\n        right: 0,\n        height: '64px',\n        backgroundColor: 'var(--bg-primary)',\n        borderBottom: '1px solid var(--border-color)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        padding: '0 1.5rem',\n        zIndex: 999,\n        transition: 'left 0.3s ease',\n      }}\n    >\n      {/* Left side - Logo */}\n      <Link\n        href={isTenantPage && slug ? `/tenant/${slug}` : '/dashboard'}\n        style={{\n          display: 'flex',\n          alignItems: 'center',\n          gap: '0.5rem',\n          textDecoration: 'none',\n          color: 'var(--text-primary)',\n        }}\n      >\n        {organization?.logo ? (\n          <img\n            src={organization.logo}\n            alt={organization.name}\n            style={{ width: '32px', height: '32px', objectFit: 'contain' }}\n          />\n        ) : (\n          <TicketIcon className=\"w-6 h-6\" style={{ color: 'var(--accent-primary)' }} />\n        )}\n        {organization && (\n          <span style={{ fontWeight: 600, fontSize: '1rem' }}>{organization.name}</span>\n        )}\n      </Link>\n\n      {/* Center - Navigation only for end users (they don't have sidebar) */}\n      {((isTenantPage && (!isLoggedIn || (isLoggedIn && user?.roles?.includes('END_USER')))) || \n        (!isTenantPage && isLoggedIn && user?.roles?.includes('END_USER'))) && (\n        <nav style={{ display: 'flex', gap: '1.5rem', alignItems: 'center' }}>\n          {isTenantPage ? (\n            <>\n              <Link\n                href={`/tenant/${slug}`}\n                style={{\n                  color: pathname === `/tenant/${slug}` ? 'var(--accent-primary)' : 'var(--text-primary)',\n                  textDecoration: 'none',\n                  fontSize: '0.875rem',\n                  fontWeight: pathname === `/tenant/${slug}` ? 600 : 400,\n                }}\n              >\n                Home\n              </Link>\n              <Link\n                href={`/tenant/${slug}/kb`}\n                style={{\n                  color: pathname?.includes('/kb') ? 'var(--accent-primary)' : 'var(--text-primary)',\n                  textDecoration: 'none',\n                  fontSize: '0.875rem',\n                  fontWeight: pathname?.includes('/kb') ? 600 : 400,\n                }}\n              >\n                Knowledge Base\n              </Link>\n              <Link\n                href={`/tenant/${slug}/submit`}\n                style={{\n                  color: pathname?.includes('/submit') ? 'var(--accent-primary)' : 'var(--text-primary)',\n                  textDecoration: 'none',\n                  fontSize: '0.875rem',\n                  fontWeight: pathname?.includes('/submit') ? 600 : 400,\n                }}\n              >\n                Submit Ticket\n              </Link>\n              {(isLoggedIn || (typeof window !== 'undefined' && localStorage.getItem('publicToken'))) && (\n                <Link\n                  href={`/tenant/${slug}/tickets`}\n                  style={{\n                    color: pathname?.includes('/tickets') ? 'var(--accent-primary)' : 'var(--text-primary)',\n                    textDecoration: 'none',\n                    fontSize: '0.875rem',\n                    fontWeight: pathname?.includes('/tickets') ? 600 : 400,\n                  }}\n                >\n                  My Tickets\n                </Link>\n              )}\n            </>\n          ) : (\n            <>\n              <Link\n                href=\"/dashboard\"\n                style={{\n                  color: pathname === '/dashboard' ? 'var(--accent-primary)' : 'var(--text-primary)',\n                  textDecoration: 'none',\n                  fontSize: '0.875rem',\n                  fontWeight: pathname === '/dashboard' ? 600 : 400,\n                }}\n              >\n                Home\n              </Link>\n              <Link\n                href=\"/kb\"\n                style={{\n                  color: pathname?.includes('/kb') ? 'var(--accent-primary)' : 'var(--text-primary)',\n                  textDecoration: 'none',\n                  fontSize: '0.875rem',\n                  fontWeight: pathname?.includes('/kb') ? 600 : 400,\n                }}\n              >\n                Knowledge Base\n              </Link>\n              <Link\n                href=\"/tickets/new\"\n                style={{\n                  color: pathname?.includes('/tickets/new') ? 'var(--accent-primary)' : 'var(--text-primary)',\n                  textDecoration: 'none',\n                  fontSize: '0.875rem',\n                  fontWeight: pathname?.includes('/tickets/new') ? 600 : 400,\n                }}\n              >\n                Submit Ticket\n              </Link>\n              <Link\n                href=\"/tickets\"\n                style={{\n                  color: pathname === '/tickets' ? 'var(--accent-primary)' : 'var(--text-primary)',\n                  textDecoration: 'none',\n                  fontSize: '0.875rem',\n                  fontWeight: pathname === '/tickets' ? 600 : 400,\n                }}\n              >\n                My Tickets\n              </Link>\n            </>\n          )}\n        </nav>\n      )}\n\n      {/* Right side - Login/Register buttons or user menu */}\n      {!isLoggedIn ? (\n        <div style={{ display: 'flex', gap: '0.75rem', alignItems: 'center' }}>\n          <Link\n            href={`/login?redirect=${encodeURIComponent(redirectUrl)}`}\n            style={{\n              padding: '0.5rem 1rem',\n              backgroundColor: 'var(--bg-secondary)',\n              color: 'var(--text-primary)',\n              textDecoration: 'none',\n              borderRadius: '6px',\n              fontSize: '0.875rem',\n              fontWeight: 500,\n              border: '1px solid var(--border-color)',\n            }}\n          >\n            Login\n          </Link>\n          {registrationEnabled && (\n            <Link\n              href={`/register?redirect=${encodeURIComponent(redirectUrl)}`}\n              style={{\n                padding: '0.5rem 1rem',\n                backgroundColor: 'var(--accent-primary)',\n                color: 'white',\n                textDecoration: 'none',\n                borderRadius: '6px',\n                fontSize: '0.875rem',\n                fontWeight: 500,\n              }}\n            >\n              Register\n            </Link>\n          )}\n        </div>\n      ) : null}\n    </header>\n  )\n}\n","import * as React from \"react\";\nfunction TicketIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M16.5 6v.75m0 3v.75m0 3v.75m0 3V18m-9-5.25h5.25M7.5 15h3M3.375 5.25c-.621 0-1.125.504-1.125 1.125v3.026a2.999 2.999 0 0 1 0 5.198v3.026c0 .621.504 1.125 1.125 1.125h17.25c.621 0 1.125-.504 1.125-1.125v-3.026a2.999 2.999 0 0 1 0-5.198V6.375c0-.621-.504-1.125-1.125-1.125H3.375Z\"\n  }));\n}\nconst ForwardRef = React.forwardRef(TicketIcon);\nexport default ForwardRef;","'use client'\n\nimport { useState, useEffect } from 'react'\nimport { usePathname } from 'next/navigation'\n\nexport default function LayoutContent({ children }: { children: React.ReactNode }) {\n  const pathname = usePathname()\n  const [isLoggedIn, setIsLoggedIn] = useState(false)\n  const [isEndUser, setIsEndUser] = useState(false)\n  const [mounted, setMounted] = useState(false)\n\n  useEffect(() => {\n    const checkAuth = () => {\n      if (typeof window === 'undefined') return\n      \n      const token = localStorage.getItem('accessToken')\n      const user = localStorage.getItem('user')\n      setIsLoggedIn(!!token && !!user)\n      \n      // Check if user is END_USER\n      let userRoles: string[] = []\n      try {\n        if (user) {\n          const parsed = JSON.parse(user)\n          userRoles = parsed.roles || []\n        }\n      } catch (e) {\n        // Invalid user data\n      }\n      setIsEndUser(userRoles.includes('END_USER'))\n    }\n\n    checkAuth()\n    setMounted(true)\n    \n    // Listen for storage changes (e.g., login/logout)\n    if (typeof window !== 'undefined') {\n      window.addEventListener('storage', checkAuth)\n    }\n\n    return () => {\n      if (typeof window !== 'undefined') {\n        window.removeEventListener('storage', checkAuth)\n      }\n    }\n  }, [pathname])\n\n  // Don't apply margins on login/register/landing pages\n  if (pathname === '/' || pathname === '/login' || pathname === '/register' || pathname?.startsWith('/reset-password')) {\n    return <main>{children}</main>\n  }\n\n  // Wait for client-side hydration before applying margins\n  if (!mounted) {\n    return <main>{children}</main>\n  }\n\n  // Adjust margin based on login status and user role\n  // END_USER should not have side nav, so no left margin\n  const marginLeft = (isLoggedIn && !isEndUser) ? 'var(--side-nav-width, 72px)' : '0'\n  const marginTop = '64px'\n\n  return (\n    <main\n      style={{\n        marginLeft,\n        marginTop,\n        transition: 'margin-left 0.3s ease',\n      }}\n    >\n      {children}\n    </main>\n  )\n}\n\n"],"names":[],"mappings":"kDAEA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAyCe,SAAS,IACP,CAAA,EAAA,EAAA,SAAA,AAAS,IACxB,IAAM,EAAW,CAAA,EAAA,EAAA,WAAA,AAAW,IACtB,CAAC,EAAM,EAAQ,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAM,MAChC,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAS,IACvC,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACnC,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MACxD,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAuC,MACvF,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAElC,CAAA,EAAA,EAAA,MAAA,AAAM,EAAc,MACf,CAAA,EAAA,EAAA,MAAA,AAAM,EAAiB,MAE3C,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,IAAM,EAAa,aAAa,OAAO,CAAC,QACxC,GAAI,EACF,GAAI,CACF,EAAQ,IAFI,CAEC,KAAK,CAAC,GACrB,CAAE,MAAO,EAAG,CAEZ,CAIoB,QAAQ,CADR,aAAa,OAAO,CAAC,qBAEzC,GAAc,GACd,GAAY,GAEhB,EAAG,EAAE,EAEL,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GAAI,CAAC,EAAc,OAEnB,IAAM,EAAsB,AAAD,IACV,AACX,AAAC,EADgB,MAAM,CACf,OAAO,CAAC,qBAAqB,AACvC,EAAgB,GAEpB,EAGA,OADA,SAAS,gBAAgB,CAAC,YAAa,GAChC,IAAM,SAAS,mBAAmB,CAAC,YAAa,EACzD,EAAG,CAAC,EAAa,EAGjB,IAAM,EAAW,EAAa,IA/CN,EA+CY,OAGpC,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,SAAS,eAAe,CAAC,KAAK,CAAC,WAAW,CAAC,mBAAoB,CAAA,EAAG,EAAS,EAAE,CAAC,CAChF,EAAG,CAAC,EAAS,EAGT,AAAa,SAAoB,WAAb,GAAsC,cAAb,GAA4B,GAAU,WAAW,mBACzF,CAD6G,GAioBxH,CA9tBA,EAAA,CAAA,CAAA,uECFA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAOe,SAAS,IACtB,IAAM,EAAW,CAAA,EAAA,EAAA,WAAA,AAAW,IACtB,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC/B,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAY,CAClD,CACE,KAAM,YACN,QAAS,kHACX,EACD,EACK,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC7B,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjC,EAAiB,CAAA,EAAA,EAAA,MAAA,AAAM,EAAiB,MAG9C,GAAI,GAAU,WAAW,YACvB,CADoC,MAC7B,KAOT,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAHR,EAAe,OAAO,EAAE,eAAe,CAAE,SAAU,QAAS,EAK9D,EAAG,CAAC,EAAS,EAEb,IAAM,EAAa,UACjB,GAAI,CAAC,EAAM,IAAI,IAAM,EAAS,OAE9B,IAAM,EAAuB,CAAE,KAAM,OAAQ,QAAS,CAAM,EAC5D,EAAY,AAAC,GAAS,IAAI,EAAM,EAAY,EAC5C,EAAS,IACT,GAAW,GAEX,GAAI,CACF,IAAM,EAAQ,aAAa,OAAO,CAAC,eAC7B,EAAW,MAAM,MAAM,kBAAmB,CAC9C,OAAQ,OACR,QAAS,CACP,eAAgB,mBAChB,GAAI,GAAS,CAAE,cAAe,CAAC,OAAO,EAAE,EAAA,CAAO,AAAC,CAAC,AACnD,EACA,KAAM,KAAK,SAAS,CAAC,CACnB,SAAU,IAAI,EAAU,EAAY,CAAC,GAAG,CAAC,AAAC,IAAM,AAAC,CAC/C,KAAM,EAAE,IAAI,CACZ,QAAS,EAAE,OAAO,CACpB,CAAC,CACH,EACF,GAEM,EAAO,MAAM,EAAS,IAAI,GAEhC,GAAI,CAAC,EAAK,OAAO,CACf,CADiB,KACX,AAAI,MAAM,EAAK,KAAK,EAAE,SAAW,0BAGzC,IAAM,EAA4B,CAChC,KAAM,YACN,QAAS,EAAK,IAAI,CAAC,KAAK,AAC1B,EAEA,EAAY,AAAC,GAAS,IAAI,EAAM,EAAiB,CACnD,CAAE,MAAO,EAAO,CACd,IAAM,EAAwB,CAC5B,KAAM,YACN,QAAS,6EACX,EACA,EAAY,AAAC,GAAS,IAAI,EAAM,EAAa,CAC/C,QAAU,CACR,GAAW,EACb,CACF,SASA,AAAK,EA6BH,CAAA,CA7BE,CA6BF,EAAA,CA7BW,GA6BX,EAAC,MAAA,CACC,MAAO,CACL,SAAU,QACV,OAAQ,OACR,MAAO,OACP,MAAO,QACP,SAAU,qBACV,OAAQ,QACR,UAAW,qBACX,gBAAiB,sBACjB,OAAQ,gCACR,aAAc,OACd,UAAW,2BACX,QAAS,OACT,cAAe,SACf,OAAQ,GACV,YAEA,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACC,MAAO,CACL,QAAS,OACT,aAAc,gCACd,QAAS,OACT,eAAgB,gBAChB,WAAY,QACd,YAEA,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,MAAO,CAAE,OAAQ,EAAG,WAAY,KAAM,WAAG,iBAC7C,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAAU,GACzB,MAAO,CACL,WAAY,OACZ,OAAQ,OACR,MAAO,wBACP,OAAQ,UACR,QAAS,SACX,EACA,aAAW,sBAEX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,MAAO,CAAE,MAAO,OAAQ,OAAQ,MAAO,SAItD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACC,MAAO,CACL,KAAM,EACN,UAAW,OACX,QAAS,OACT,QAAS,OACT,cAAe,SACf,IAAK,MACP,YAEC,EAAS,GAAG,CAAC,CAAC,EAAK,IAClB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAEC,MAAO,CACL,UAAW,AAAa,WAAT,IAAI,CAAc,WAAa,aAC9C,SAAU,MACV,QAAS,eACT,aAAc,OACd,gBACe,SAAb,EAAI,IAAI,CACJ,wBACA,qBACN,MACE,AAAa,WAAT,IAAI,CACJ,QACA,qBACR,WAEC,EAAI,OAAO,EAhBP,IAmBR,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,MAAO,CACL,UAAW,aACX,QAAS,eACT,aAAc,OACd,gBAAiB,qBACjB,MAAO,uBACT,WACD,gBAIH,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,IAAK,OAGZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACC,MAAO,CACL,QAAS,OACT,UAAW,gCACX,QAAS,OACT,IAAK,QACP,YAEA,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,MAAO,EACP,SAAU,AAAC,GAAM,EAAS,EAAE,MAAM,CAAC,KAAK,EACxC,WA1Ie,AAAC,CA0IJ,GAzIJ,UAAV,CAAqB,CAAnB,GAAG,EAAiB,EAAE,QAAQ,EAAE,CACpC,EAAE,cAAc,GAChB,IAEJ,EAsIQ,YAAY,uBACZ,SAAU,EACV,MAAO,CACL,KAAM,EACN,QAAS,UACT,OAAQ,gCACR,aAAc,MACd,gBAAiB,oBACjB,MAAO,sBACP,SAAU,UACZ,IAEF,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,EACT,SAAU,GAAW,CAAC,EAAM,IAAI,GAChC,MAAO,CACL,QAAS,eACT,gBAAiB,wBACjB,MAAO,QACP,OAAQ,OACR,aAAc,MACd,OAAQ,GAAW,CAAC,EAAM,IAAI,GAAK,cAAgB,UACnD,QAAS,GAAW,CAAC,EAAM,IAAI,GAAK,GAAM,CAC5C,WAEA,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,iBAAiB,CAAA,CAAC,MAAO,CAAE,MAAO,OAAQ,OAAQ,MAAO,YA3J9D,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAAU,GACzB,MAAO,CACL,SAAU,QACV,OAAQ,OACR,MAAO,OACP,MAAO,OACP,OAAQ,OACR,aAAc,MACd,gBAAiB,wBACjB,MAAO,QACP,OAAQ,OACR,OAAQ,UACR,UAAW,2BACX,QAAS,OACT,WAAY,SACZ,eAAgB,SAChB,OAAQ,GACV,EACA,aAAW,qBAEX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,iBAAiB,CAAA,CAAC,MAAO,CAAE,MAAO,OAAQ,OAAQ,MAAO,KA2IlE,sEC5PA,IAAI,EAAA,EAAA,CAAA,CAAA,OAIA,EAFwC,GAAkB,UAAb,EAE5B,KAFmC,GAAkB,GAE1C,GAAE,MAAsB,CAF+B,GAAQ,CAAE,AAAN,SAAmB,EAAF,AAqBxG,EAA4B,aAAnB,OAAO,SAA2B,QAAQ,GAAG,GAAI,EAC1D,EAAW,SAAS,CAAC,EACrB,MAA6C,AAAtC,2BAAO,EAFqE,OAE5D,CAAC,QAAQ,CAAC,IAAI,CAAC,EAC1C,EACI,EAA2B,WAAd,AACb,SAAS,EADe,AACJ,CAAK,EACrB,IAAI,EAAgB,KAAK,IAAf,EAAmB,CAAC,EAAI,EAAO,EAAQ,EAAI,IAAI,CAAE,EAAO,AAAU,KAAK,MAAI,aAAe,EAAO,EAAoB,EAAI,gBAAgB,CAAE,EAAmB,AAAsB,KAAK,MAAI,EAAS,EAChN,EAAY,EAAS,GAAO,2BAC5B,IAAI,CAAC,KAAK,CAAG,EACb,IAAI,CAAC,uBAAuB,CAAG,IAAM,EAAO,sBAC5C,EAAwC,WAA5B,OAAO,EAAgC,wCACnD,IAAI,CAAC,iBAAiB,CAAG,EACzB,IAAI,CAAC,YAAY,MAAG,EACpB,IAAI,CAAC,KAAK,CAAG,EAAE,CACf,IAAI,CAAC,SAAS,EAAG,EACjB,IAAI,CAAC,WAAW,CAAG,EAEnB,IAAI,CAAC,MAAM,CAAyC,EAAtC,EAClB,CACA,MAAI,EAAS,EAAW,SAAS,CA2LjC,OA1LA,EAAO,MAHkB,aAGC,CAAG,SAAS,AAAoB,CAAI,EAC1D,EAA4B,WAAhB,OAAO,EAAoB,2CACvC,EAAiC,IAArB,IAAI,CAAC,WAAW,CAAQ,oEACpC,IAAI,CAAC,KAAK,GACV,IAAI,CAAC,iBAAiB,CAAG,EACzB,IAAI,CAAC,MAAM,EACf,EACA,EAAO,kBAAkB,CAAG,SAAS,EACjC,OAAO,IAAI,CAAC,iBAChB,AADiC,EAEjC,EAAO,MAAM,CAAG,SAAS,EACrB,IAAI,EAAQ,IAAI,CAChB,EAAY,CAAC,IAAI,CAAC,SAAS,CAAE,0BAC7B,IAAI,CAAC,SAAS,EAAG,EAajB,IAAI,CAAC,YAAY,CAAG,CAChB,SAAU,EAAE,CACZ,WAAY,SAAS,CAAI,CAAE,CAAK,EAU5B,MATqB,UAAjB,AAA2B,OAApB,EACP,EAAM,YAAY,CAAC,QAAQ,CAAC,EAAM,CAAG,CACjC,QAAS,CACb,EAEA,EAAM,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,CAC7B,QAAS,CACb,GAEG,CACX,EACA,WAAY,SAAS,CAAK,EACtB,EAAM,YAAY,CAAC,QAAQ,CAAC,EAAM,CAAG,IACzC,CACJ,CACJ,EACA,EAAO,cAAc,CAAG,SAAS,AAAe,CAAG,EAC/C,GAAI,EAAI,KAAK,CACT,CADW,MACJ,EAAI,KAAK,CAGpB,IAAI,IAAI,EAAI,EAAG,EAAI,SAAS,WAAW,CAAC,MAAM,CAAE,IAAI,AAChD,GAAI,SAAS,WAAW,CAAC,EAAE,CAAC,SAAS,GAAK,EACtC,GAD2C,IACpC,SAAS,WAAW,CAAC,EAAE,AAG1C,EACA,EAAO,QAAQ,CAAG,SAAS,EACvB,OAAO,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAG,EAAE,CAChE,EACA,EAAO,UAAU,CAAG,SAAS,AAAW,CAAI,CAAE,CAAK,SAC/C,EAAY,EAAS,GAAO,qCAEH,UAAjB,AAA2B,OAApB,IACP,EAAQ,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,MAAA,AAAM,EAE7C,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,EAAM,GAC5B,IAAI,CAAC,WAAW,EAsB/B,EACA,EAAO,WAAW,CAAG,SAAS,AAAY,CAAK,CAAE,CAAI,EAC7C,IAAI,CAAC,iBAAiB,CACtB,GAD0B,CACtB,EAA0D,IAAI,CAAC,CAAvD,WAAmE,CAI/E,GAHI,AAAC,EAAK,IAAI,IAAI,AACd,GAAO,IAAI,CAAC,KAF4B,GADA,aAAa,EAGzC,AAAuB,EAEnC,CAAC,EAAM,QAAQ,CAAC,EAAM,CAEtB,CAFwB,MAEjB,EAEX,EAAM,UAAU,CAAC,GACjB,GAAI,CACA,EAAM,UAAU,CAAC,EAAM,EAC3B,CAAE,MAAO,EAAO,CACR,AAAC,GACD,KADS,GACD,IAAI,CAAC,iCAAmC,EAAO,8DAG3D,EAAM,UAAU,CAAC,IAAI,CAAC,uBAAuB,CAAE,EACnD,CAMJ,OAAO,CACX,EACA,EAAO,UAAU,CAAG,SAAS,AAAW,CAAK,EAErC,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,EAWrC,EACA,EAAO,KAAK,CAAG,SAAS,EACpB,IAAI,CAAC,SAAS,EAAG,EACjB,IAAI,CAAC,WAAW,CAAG,EAQf,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAG,EAAE,AAEvC,EACA,EAAO,QAAQ,CAAG,SAAS,EAGnB,OAAO,IAAI,CAAC,YAAY,CAAC,QAAQ,AAYzC,EACA,EAAO,YAAY,CAAG,SAAS,AAAa,CAAI,CAAE,CAAS,CAAE,CAAa,EAClE,GACA,EAAY,EAAS,GAAY,CADtB,wDAGf,IAAI,EAAM,SAAS,aAAa,CAAC,SAC7B,IAAI,CAAC,MAAM,EAAE,EAAI,YAAY,CAAC,QAAS,IAAI,CAAC,MAAM,EACtD,EAAI,IAAI,CAAG,WACX,EAAI,YAAY,CAAC,QAAU,EAAM,IAC7B,GACA,EAAI,MADO,KACI,CAAC,SAAS,cAAc,CAAC,IAE5C,IAAI,EAAO,SAAS,IAAI,EAAI,SAAS,oBAAoB,CAAC,OAAO,CAAC,EAAE,CAMpE,OALI,EACA,EAAK,WADU,CACE,CAAC,EAAK,GAEvB,EAAK,WAAW,CAAC,GAEd,CACX,EA1M+B,EA2MN,CACrB,CACI,IAAK,EA7M4B,EAAE,KA8MnC,IAAK,EA9MyC,OA8MhC,EACV,OAAO,IAAI,CAAC,WAAW,AAC3B,CACJ,EACH,CAjNe,AAVjB,SAAS,AAAkB,CAAM,CAAE,CAAK,EACvC,IAAI,IAAI,EAAI,EAAG,EAAI,EAAM,MAAM,CAAE,IAAI,CACjC,IAAI,EAAa,CAAK,CAAC,EAAE,CACzB,EAAW,UAAU,CAAG,EAAW,UAAU,GAAI,EACjD,EAAW,YAAY,EAAG,EACtB,UAAW,IAAY,EAAW,QAAQ,EAAG,CAAA,EACjD,OAAO,cAAc,CAAC,EAAQ,EAAW,GAAG,CAAE,EAClD,CACJ,EA4MiB,AA1MqB,EAAY,SAAS,CAAE,GAkNlD,CACX,IACA,SAAS,EAAY,CAAS,CAAE,CAAO,EACnC,GAAI,CAAC,EACD,MAAM,AAAI,GADE,GACI,eAAiB,EAAU,IAEnD,CAWA,IAAI,EATJ,SAAc,AAAL,CAAQ,CASA,CAPb,IADA,IAAI,EAAS,KAAM,EAAI,EAAI,MAAM,CAC3B,EAAE,CACJ,EAAkB,GAAT,EAAc,EAAI,UAAU,CAAC,EAAE,GAIiB,OAAO,IAAW,CACnF,EAMI,EAAQ,CAAC,EAKT,SAAS,EAAU,CAAM,CAAE,CAAK,EAChC,GAAI,CAAC,EACD,KADQ,CACD,OAAS,EAEpB,IAAI,EAAgB,OAAO,GACvB,EAAM,EAAS,EAInB,OAHI,AAAC,CAAK,CAAC,EAAI,EAAE,AACb,EAAK,CAAC,EAAI,CAAG,OAAS,EAAW,EAAS,IAAM,EAAA,EAE7C,CAAK,CAAC,EAAI,AACrB,CAKI,SAAS,EAAgB,CAAE,CAAE,CAAG,EAQhC,IAAI,EAAQ,GAFR,EAEa,AA9BV,AA4BY,EA5BP,EA4BF,KA5BS,CAAC,YAAa,WA4Bd,EAMnB,OAHI,AAAC,CAAK,CAAC,EAAM,EAAE,CACf,CAAK,CAAC,EAAM,CAAG,EAAI,OAAO,CAAC,AATA,gCAS0B,EAAA,EAElD,CAAK,CAAC,EAAM,AACvB,CAkBA,IAAI,EAAmC,WACnC,QADqB,CACZ,EAAmB,CAAK,EAC7B,IAAI,CAFwB,CAER,KAAK,IAAf,EAAmB,CAAC,EAAI,EAAO,EAAc,EAAI,UAAU,CAAE,EAA6B,KAAK,IAArB,EAAyB,KAAO,EAAa,EAAoB,EAAI,gBAAgB,CAAE,EAAyC,KAAK,IAA3B,AAA+B,GAAQ,EACrO,IAAI,CAAC,MAAM,CAAG,GAAc,IAAI,EAAW,CACvC,KAAM,aACN,iBAAkB,CACtB,GACA,IAAI,CAAC,MAAM,CAAC,MAAM,GACd,GAA0C,WAA5B,AAAuC,OAAhC,IACrB,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,GAChC,IAAI,CAAC,iBAAiB,CAAG,IAAI,CAAC,MAAM,CAAC,kBAAkB,IAE3D,IAAI,CAAC,WAAW,MAAG,EACnB,IAAI,CAAC,QAAQ,CAAG,CAAC,EACjB,IAAI,CAAC,gBAAgB,CAAG,CAAC,CAC7B,CACA,IAAI,EAAS,EAAmB,SAAS,CAoHzC,OAnHA,EAAO,GAAG,CAAG,SAAS,AAAI,CAAK,EAC3B,IAAI,EAAQ,IAAI,AACZ,UAAc,IAAI,CAAC,iBAAiB,EAAE,CACtC,IAAI,CAAC,iBAAiB,CAAG,MAAM,OAAO,CAAC,EAAM,QAAQ,EACrD,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,iBAAiB,EACtD,IAAI,CAAC,iBAAiB,CAAG,IAAI,CAAC,MAAM,CAAC,kBAAkB,IAS3D,IAAI,EAAM,IAAI,CAAC,aAAa,CAAC,GAAQ,EAAU,EAAI,OAAO,CAAE,EAAQ,EAAI,KAAK,CAE7E,GAAI,KAAW,IAAI,CAAC,gBAAgB,CAAE,CAClC,IAAI,CAAC,gBAAgB,CAAC,EAAQ,EAAI,EAClC,MACJ,CACA,IAAI,EAAU,EAAM,GAAG,CAAC,SAAS,CAAI,EACjC,OAAO,EAAM,MAAM,CAAC,UAAU,CAAC,EACnC,GAAE,AACD,MAAM,CAAC,SAAS,CAAK,EAClB,OAAiB,CAFQ,AAEP,IAAX,CACX,GACA,IAAI,CAAC,QAAQ,CAAC,EAAQ,CAAG,EACzB,IAAI,CAAC,gBAAgB,CAAC,EAAQ,CAAG,CACrC,EACA,EAAO,MAAM,CAAG,SAAS,AAAO,CAAK,EACjC,IAAI,EAAQ,IAAI,CACZ,EAAU,IAAI,CAAC,aAAa,CAAC,GAAO,OAAO,CAG/C,GAFA,AAqFR,SAAS,AAAU,CAAS,CAAE,CAAO,EACjC,GAAI,CAAC,EACD,MAAM,AAAI,GADE,GACI,uBAAyB,EAAU,IAE3D,EAzFkB,KAAW,IAAI,CAAC,gBAAgB,CAAE,aAAe,EAAU,eACrE,IAAI,CAAC,gBAAgB,CAAC,EAAQ,EAAI,EAC9B,IAAI,CAAC,gBAAgB,CAAC,EAAQ,CAAG,EAAG,CACpC,IAAI,EAAgB,IAAI,CAAC,WAAW,EAAI,IAAI,CAAC,WAAW,CAAC,EAAQ,CAC7D,GACA,EAAc,UAAU,AADT,CACU,WAAW,CAAC,GACrC,OAAO,IAAI,CAAC,WAAW,CAAC,EAAQ,GAEhC,IAAI,CAAC,QAAQ,CAAC,EAAQ,CAAC,OAAO,CAAC,SAAS,CAAK,EACzC,OAAO,EAAM,MAAM,CAAC,UAAU,CAAC,EACnC,GACA,OAAO,IAAI,CAAC,QAAQ,CAAC,EAAQ,EAEjC,OAAO,IAAI,CAAC,gBAAgB,CAAC,EAAQ,AACzC,CACJ,EACA,EAAO,MAAM,CAAG,SAAgB,AAAP,CAAY,CAAE,CAAS,EAC5C,IAAI,CAAC,GAAG,CAAC,GACT,IAAI,CAAC,MAAM,CAAC,EAChB,EACA,EAAO,KAAK,CAAG,SAAS,EACpB,IAAI,CAAC,MAAM,CAAC,KAAK,GACjB,IAAI,CAAC,MAAM,CAAC,MAAM,GAClB,IAAI,CAAC,WAAW,MAAG,EACnB,IAAI,CAAC,QAAQ,CAAG,CAAC,EACjB,IAAI,CAAC,gBAAgB,CAAG,CAAC,CAC7B,EACA,EAAO,QAAQ,CAAG,SAAS,EACvB,IAAI,EAAQ,IAAI,CACZ,EAAa,IAAI,CAAC,WAAW,CAAG,OAAO,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,GAAG,CAAC,SAAS,CAAO,EAClF,MAAO,CACH,EACA,EAAM,WAAW,CAAC,EAAQ,CAC7B,AACL,GAAK,EAAE,CACH,EAAW,IAAI,CAAC,MAAM,CAAC,QAAQ,GACnC,OAAO,EAAW,MAAM,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,CAAC,SAAS,CAAO,EACpE,MAAO,CACH,EACA,EAAM,QAAQ,CAAC,EAAQ,CAAC,GAAG,CAAC,SAAS,CAAK,EACtC,OAAO,CAAQ,CAAC,EAAM,CAAC,OAAO,AAClC,GAAG,IAAI,CAAC,EAAM,iBAAiB,CAAG,GAAK,MAC1C,AACL,GAAE,AACD,MAAM,CAAC,SAAS,CAAI,EACjB,MAFuB,CAEhB,CAAQ,CAAI,CAAC,EAAE,AAC1B,GACJ,EACA,EAAO,MAAM,CAAG,SAAS,AAAO,CAAO,UACnC,OAlHiB,AAkHV,EAAgB,IAAI,CAAC,CAlHH,OAkHW,GAjHpC,AAAY,KAAK,KADU,EAkHa,KAlHN,AACd,EAAU,EAAC,EAC5B,EAAS,GAAG,CAAC,SAAS,CAAI,EAC7B,IAAI,EAAK,CAAI,CAAC,EAAE,CACZ,EAAM,CAAI,CAAC,EAAE,CACjB,OAAO,AAAc,EAAe,OAAU,CAAC,CAA7B,GAAiB,SAAyB,CAAC,QAAS,CAClE,GAAI,KAAO,EAEX,IAAK,KAAO,EACZ,MAAO,EAAQ,KAAK,CAAG,EAAQ,KAAK,MAAG,EACvC,wBAAyB,CACrB,OAAQ,CACZ,CACJ,EACJ,EAqGA,EACA,EAAO,aAAa,CAAG,SAAS,AAAc,CAAK,EAC/C,IAAI,EAAM,EAAM,QAAQ,CAAE,EAAU,EAAM,OAAO,CAAE,EAAK,EAAM,EAAE,CAChE,GAAI,EAAS,CACT,IAAI,EAAU,EAAU,EAAI,GAC5B,MAAO,CACH,QAAS,EACT,MAAO,MAAM,OAAO,CAAC,GAAO,EAAI,GAAG,CAAC,SAAS,CAAI,EAC7C,OAAO,EAAgB,EAAS,EACpC,GAAK,CACD,EAAgB,EAAS,GAC5B,AACL,CACJ,CACA,MAAO,CACH,QAAS,EAAU,GACnB,MAAO,MAAM,OAAO,CAAC,GAAO,EAAM,CAC9B,EACH,AACL,CACJ,EAKE,EAAO,gBAAgB,CAAG,SAAS,EAEjC,OAAO,AADQ,MAAM,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,gBAAgB,CAAC,mBACpD,MAAM,CAAC,SAAS,CAAG,CAAE,CAAO,EAGxC,OADA,CAAG,CAAC,AADK,EAAQ,EAAE,CAAC,KAAK,CAAC,GACnB,CAAG,EACH,CACX,EAAG,CAAC,EACR,EACO,CACX,IAMI,EAAkC,EAAM,aAAa,CAAC,EAAlC,IAExB,OAFmC,EAE1B,IACL,OAAO,IAAI,CACf,CAWA,SAAS,IACL,OAAO,EAAM,UAAU,CAAC,EAC5B,CAMA,SAAS,EAAS,CAAK,EACnB,IAAI,EAA+C,SAApC,EAEV,GAID,EAAS,GAAG,CAAC,CAJF,EACJ,IAiBf,CA3CA,EAAkB,WAAW,CAAG,KAuBK,eAHZ,EAAe,OAAU,CAAC,IAAZ,cAA8B,EAAI,EAAe,OAAU,CAAC,IAAZ,WAA2B,CAwBlH,EAAS,OAAO,CAAG,SAAS,CAAI,EAC5B,OAAO,EAAK,GAAG,CAAC,SAAS,CAAO,EAG5B,OAAO,EAFM,CAAO,CAAC,EAAE,CACX,CAAO,CAAC,CACH,CADK,CAE1B,GAAG,GAD0B,CACtB,CAAC,IACZ,EAEA,EAAQ,aAAa,CAhDrB,EAgDwB,OAhDf,AAAc,CAAK,EACxB,IAAI,EAAqB,EAAM,QAAQ,CAAE,EAAW,EAAM,QAAQ,CAC9D,EAAe,EAAM,UAAU,CAAC,GAGhC,EAAW,AAFL,EAAM,QAAQ,CAAC,WACrB,OAAO,GAAgB,GAAsB,GACjD,EAAkB,CAAC,EAAE,CACrB,OAAO,AAAc,EAAe,OAAU,CAAC,CAA7B,GAAiB,SAAyB,CAAC,EAAkB,QAAQ,CAAE,CACrF,MAAO,CACX,EAAG,EACP,EAwCA,EAAQ,mBAAmB,CAAG,EAC9B,EAAQ,KAAK,CAAG,EAChB,EAAQ,gBAAgB,CAAG,mBClf3B,EAAO,OAAO,CAAG,EAAA,CAAA,CAAA,OAAwB,KAAK,uDCE9C,EAAA,EAAA,CAAA,CAAA,OCsBA,IAAM,EAAa,EAAA,UAAgB,CAAC,AAvBpC,SAAS,AAAS,OAChB,CAAK,SACL,CAAO,CACP,GAAG,EACJ,CAAE,CAAM,EACP,OAAO,AAAa,EAAA,SAAF,IAAqB,CAAC,MAAO,OAAO,MAAM,CAAC,CAC3D,MAAO,6BACP,KAAM,OACN,QAAS,YACT,YAAa,IACb,OAAQ,eACR,cAAe,OACf,YAAa,OACb,IAAK,EACL,kBAAmB,CACrB,EAAG,GAAQ,EAAqB,EAAA,IAAb,SAAgC,CAAC,CAAtB,OAA+B,CAC3D,GAAI,CACN,EAAG,GAAS,KAAmB,CAAb,CAAa,UAAF,GAAqB,CAAC,OAAQ,CACzD,cAAe,QACf,eAAgB,QAChB,EAAG,wNACL,GACF,GDpBA,IAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,MAMA,EAAA,EAAA,CAAA,CAAA,OAYe,SAAS,IACtB,GAAM,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC/B,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAiB,EAAE,EAC/D,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GACzC,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACjC,EAAQ,CAAA,EAAA,EAAA,MAAA,AAAM,EAAmB,MACjC,EAAsB,CAAA,EAAA,EAAA,MAAA,AAAM,EAAwB,MAE1D,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,IAGA,IAEO,KACD,EAAM,OAAO,EACf,AADiB,EACX,OAAO,CAAC,KAAK,GAEjB,EAAoB,OAAO,EAAE,AAC/B,aAAa,EAAoB,OAAO,CAE5C,GACC,EAAE,EAEL,IAAM,EAAmB,KACvB,IAAM,EAAQ,aAAa,OAAO,CAAC,eACnC,GAAI,CAAC,EAAO,OAEZ,IAAM,EAAW,AAA6B,kBAAtB,QAAQ,CAAC,QAAQ,CAAgB,OAAS,MAC5D,EAAQ,CAAA,EAAG,EAAS,EAAE,EAAE,OAAO,QAAQ,CAAC,IAAI,CAAC,UAAU,EAAE,EAAA,CAAO,CAEtE,GAAI,CACF,IAAM,EAAK,IAAI,UAAU,GAEzB,EAAG,MAAM,CAAG,KACV,QAAQ,GAAG,CAAC,uBAEZ,IAAM,EAAe,YAAY,KAC3B,EAAG,UAAU,GAAK,UAAU,IAAI,CAClC,CADoC,CACjC,IAAI,CAAC,KAAK,SAAS,CAAC,CAAE,MAAO,MAAO,IAEvC,cAAc,EAElB,EAAG,IACL,EAEA,CAHY,CAGT,SAAS,CAAG,AAAC,IACd,GAAI,CACF,IAAM,CAL0B,CAKhB,KAAK,KAAK,CAAC,EAAM,IAAI,EACrC,EAAuB,EACzB,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,mCAAoC,EACpD,CACF,EAEA,EAAG,OAAO,CAAG,AAAC,IACZ,QAAQ,KAAK,CAAC,mBAAoB,EACpC,EAEA,EAAG,OAAO,CAAG,KACX,QAAQ,GAAG,CAAC,2CAEZ,EAAoB,OAAO,CAAG,WAAW,KACvC,GACF,EAAG,IACL,EAEA,EAAM,OAAO,CAAG,CAClB,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,+BAAgC,EAChD,CACF,EAEM,EAAyB,AAAC,IACR,oBAAoB,CAAtC,EAAQ,KAAK,EAEf,EAAiB,AAAC,GAAS,CAAC,EAAQ,IAAI,CAAC,YAAY,IAAK,EAAK,EAC/D,EAAe,AAAC,GAAS,EAAO,KACL,mBAAlB,EAAQ,KAAK,EAA2C,mBAAlB,EAAQ,KAAU,AAAL,GAE5D,AAFmF,GAIvF,EAEM,EAAqB,UACzB,GAAI,CACF,GAAW,GACX,IAAM,EAAQ,aAAa,OAAO,CAAC,eACnC,GAAI,CAAC,EAAO,OAEZ,IAAM,EAAM,MAAM,MAAM,iCAAkC,CACxD,QAAS,CACP,cAAe,CAAC,OAAO,EAAE,EAAA,CAAO,AAClC,CACF,GAEA,GAAI,CAAC,EAAI,EAAE,CACT,CADW,KACL,AAAI,MAAM,iCAGlB,IAAM,EAAO,MAAM,EAAI,IAAI,GACvB,EAAK,OAAO,EAAE,CAChB,EAAiB,EAAK,IAAI,CAAC,aAAa,EACxC,EAAe,EAAK,IAAI,CAAC,WAAW,EAExC,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,gCAAiC,EACjD,QAAU,CACR,GAAW,EACb,CACF,EAEM,EAAa,MAAO,IACxB,GAAI,CACF,IAAM,EAAQ,aAAa,OAAO,CAAC,eACnC,GAAI,CAAC,EAAO,MAWR,EATQ,MAAM,MAAM,CAAC,sBAAsB,EAAE,EAAA,CAAgB,CAAE,CACjE,OAAQ,MACR,QAAS,CACP,eAAgB,mBAChB,cAAe,CAAC,OAAO,EAAE,EAAA,CAAO,AAClC,EACA,KAAM,KAAK,SAAS,CAAC,CAAE,OAAQ,MAAO,EACxC,EAAA,EAEQ,EAAE,EAAE,CACV,EAAiB,AAAC,GAChB,EAAK,GAAG,CAAC,AAAC,GACR,EAAE,EAAE,GAAK,EACL,CAAE,GAAG,CAAC,CAAE,OAAQ,EAAA,kBAAkB,CAAC,IAAI,AAAC,EACxC,IAGR,EAAe,AAAC,GAAS,KAAK,GAAG,CAAC,EAAG,EAAO,IAEhD,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,sCAAuC,EACvD,CACF,EAEM,EAAgB,UACpB,GAAI,CACF,IAAM,EAAQ,aAAa,OAAO,CAAC,eACnC,GAAI,CAAC,EAAO,MAWR,EATQ,MAAM,MAAM,wBAAyB,CAC/C,OAAQ,MACR,QAAS,CACP,eAAgB,mBAChB,cAAe,CAAC,OAAO,EAAE,EAAA,CAAO,AAClC,EACA,KAAM,KAAK,SAAS,CAAC,CAAE,OAAQ,eAAgB,EACjD,EAAA,EAEQ,EAAE,EAAE,CACV,EAAiB,AAAC,GAChB,EAAK,GAAG,CAAC,AAAC,IAAM,AAAC,CAAE,GAAG,CAAC,CAAE,OAAQ,EAAA,kBAAkB,CAAC,IAAI,CAAC,CAAC,GAE5D,EAAe,GAEnB,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,6BAA8B,EAC9C,CACF,EAEM,EAAqB,MAAO,IAChC,GAAI,CACF,IAAM,EAAQ,aAAa,OAAO,CAAC,eACnC,GAAI,CAAC,EAAO,MASR,EAPQ,MAAM,MAAM,CAAC,sBAAsB,EAAE,EAAA,CAAgB,CAAE,CACjE,OAAQ,SACR,QAAS,CACP,cAAe,CAAC,OAAO,EAAE,EAAA,CAAO,AAClC,CACF,EAAA,EAEQ,EAAE,EAAE,AACV,EAAiB,AAAC,IAChB,IAAM,EAAe,EAAK,IAAI,CAAC,AAAC,GAAM,EAAE,EAAE,GAAK,GACzC,EAAY,GAAc,SAAW,EAAA,kBAAkB,CAAC,MAAM,CAC9D,EAAW,EAAK,MAAM,CAAE,AAAD,GAAO,EAAE,EAAE,GAAK,GAI7C,OAHI,GACF,EAAe,AAAC,GAAS,GADZ,EACiB,GAAG,CAAC,EAAG,EAAO,IAEvC,CACT,EAEJ,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,+BAAgC,EAChD,CACF,EAiBA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,yCAAc,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAEC,QAAS,IAAM,EAAU,CAAC,GAC1B,aAAW,wDAFD,sBAIV,CAAA,EAAA,EAAA,GAAA,EAAC,ACpNM,EDoNN,CAAS,UAAU,YACnB,EAAc,GACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,yCAAe,oBAAsB,EAAc,EAAI,KAAO,OAIlE,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,yCAAc,qBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,yCAAc,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,0CAAG,kBACJ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,yCAAc,uBACZ,EAAc,GACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAEC,QAAS,EACT,MAAM,2DAFI,4BAIV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,cAGzB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAEC,QAAS,IAAM,GAAU,GACzB,aAAW,gDAFD,4BAIV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,oBAK3B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,yCAAc,mBACZ,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,yCAAc,sBAAuB,eACX,IAAzB,EAAc,MAAM,CACtB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,yCAAc,oBAAqB,qBAEpC,EAAc,GAAG,CAAC,AAAC,GACjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAKC,QAAS,KACH,EAAa,IAAI,EAAE,CACrB,OAAO,QAAQ,CAAC,IAAI,CAAG,EAAa,IAAA,AAAI,EAEtC,EAAa,MAAM,GAAK,EAAA,kBAAkB,CAAC,MAAM,EAAE,AACrD,EAAW,EAAa,EAAE,CAE9B,YAVW,CAAC,sCAAkB,EAC5B,EAAa,MAAM,GAAK,EAAA,kBAAkB,CAAC,MAAM,CAAG,SAAW,GAAA,CAC/D,WAUF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,yCAAc,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,yCAAc,oBAAsB,EAAa,KAAK,GACvD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,yCAAc,sBAAwB,EAAa,OAAO,GAC3D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,yCAAc,mBAAqB,CA5ElC,AAAD,IACjB,IAAM,EAAO,IAAI,KAAK,GAGhB,EAAW,KAAK,KAAK,CAAC,CAFhB,AACG,IADC,OACG,OAAO,GAAK,EAAK,OAAO,EAAA,EACN,KAErC,GAAI,EAAW,EAAG,MAAO,WACzB,GAAI,EAAW,GAAI,MAAO,CAAA,EAAG,EAAS,KAAK,CAAC,CAC5C,IAAM,EAAY,KAAK,KAAK,CAAC,EAAW,IACxC,GAAI,EAAY,GAAI,MAAO,CAAA,EAAG,EAAU,KAAK,CAAC,CAC9C,IAAM,EAAW,KAAK,KAAK,CAAC,EAAY,WACxC,AAAI,EAAW,EAAU,CAAP,AAAO,EAAG,EAAS,KAAK,CAAC,CACpC,EAAK,kBAAkB,EAChC,GA+DiE,EAAa,SAAS,OAEvE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,yCAAc,4BACZ,EAAa,MAAM,GAAK,EAAA,kBAAkB,CAAC,MAAM,EAChD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAEC,QAAS,AAAC,IACR,EAAE,eAAe,GACjB,EAAW,EAAa,EAAE,CAC5B,EACA,MAAM,uDALI,0BAOV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,cAGzB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAEC,QAAS,AAAC,IACR,EAAE,eAAe,GACjB,EAAmB,EAAa,EAAE,CACpC,EACA,MAAM,iDALI,0BAOV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,mBAvCpB,EAAa,EAAE,4xGAwOtC,uEEzfA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OCoBA,IAAM,EAAa,EAAA,UAAgB,CAAC,AAvBpC,SAAS,AAAW,OAClB,CAAK,SACL,CAAO,CACP,GAAG,EACJ,CAAE,CAAM,EACP,OAAO,AAAa,EAAA,SAAF,IAAqB,CAAC,MAAO,OAAO,MAAM,CAAC,CAC3D,MAAO,6BACP,KAAM,OACN,QAAS,YACT,YAAa,IACb,OAAQ,eACR,cAAe,OACf,YAAa,OACb,IAAK,EACL,kBAAmB,CACrB,EAAG,GAAQ,EAAqB,EAAA,IAAb,SAAgC,CAAC,CAAtB,OAA+B,CAC3D,GAAI,CACN,EAAG,GAAS,KAAmB,CAAb,CAAa,UAAF,GAAqB,CAAC,OAAQ,CACzD,cAAe,QACf,eAAgB,QAChB,EAAG,sRACL,GACF,GDTe,SAAS,IACtB,IAAM,EAAW,CAAA,EAAA,EAAA,WAAA,AAAW,IACtB,CAAC,EAAM,EAAQ,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAM,MAChC,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAsB,MAChE,CAAC,EAAqB,EAAuB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACzD,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAqEvC,GAnEA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,IAAM,EAAa,aAAa,OAAO,CAAC,QACxC,GAAI,EACF,GAAI,CACF,EAAQ,IAFI,CAEC,KAAK,CAAC,GACrB,CAAE,MAAO,EAAG,CAEZ,CAEJ,EAAG,EAAE,EAEL,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAoDR,CAnD0B,UACxB,GAAW,GACX,GAAI,CAEF,GAAI,GAAU,WAAW,YAAa,CACpC,IAAM,EAAO,EAAS,KAAK,CAAC,WAAW,CAAC,EAAE,EAAE,MAAM,IAAI,CAAC,EAAE,CACzD,GAAI,EAAM,CACR,IAAM,EAAW,MAAM,MAAM,CAAC,gBAAgB,EAAE,EAAA,CAAM,EAChD,EAAO,MAAM,EAAS,IAAI,GAChC,GAAI,EAAK,OAAO,EAAI,EAAK,IAAI,CAAE,CAE7B,IAAM,EAAiB,MAAM,MAAM,CAAC,gBAAgB,EAAE,EAAK,aAAa,CAAC,EACzE,GAAI,EAAe,EAAE,CAAE,CACrB,IAAM,EAAa,MAAM,EAAe,IAAI,GACxC,EAAW,OAAO,EAAE,AACtB,EAAgB,EAAW,IAAI,CAEnC,CACF,CACF,CACF,KAAO,CAEL,IAAM,EAAQ,aAAa,OAAO,CAAC,eACnC,GAAI,EAAO,CACT,IAAM,EAAW,MAAM,MAAM,2BAA4B,CACvD,QAAS,CACP,cAAe,CAAC,OAAO,EAAE,EAAA,CAAO,AAClC,CACF,GACA,GAAI,EAAS,EAAE,CAAE,CACf,IAAM,EAAO,MAAM,EAAS,IAAI,GAChC,EAAgB,EAAK,YAAY,CACnC,CACF,CACF,CAGA,IAAM,EAAiB,MAAM,MAAM,yBACnC,GAAI,EAAe,EAAE,CAAE,CACrB,IAAM,EAAa,MAAM,EAAe,IAAI,GACxC,EAAW,OAAO,EAAE,AACtB,EAAuB,EAAW,IAAI,EAAE,sBAAuB,EAEnE,CACF,CAAE,MAAO,EAAK,CAEd,QAAU,CACR,GAAW,EACb,EACF,GAGF,EAAG,CAAC,EAAS,EAGI,MAAb,GAAiC,WAAb,GAAsC,cAAb,GAA4B,GAAU,WAAW,mBAChG,CADoH,MAC7G,KAIT,IAAM,EAAe,GAAU,WAAW,YACpC,EAAO,EAAe,EAAS,KAAK,CAAC,WAAW,CAAC,EAAE,EAAE,MAAM,IAAI,CAAC,EAAE,CAAG,KACrE,EAAc,EAAe,EAAW,aAE9C,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,MAAO,CACL,SAAU,QACV,IAAK,EACL,KAAmD,CAA7C,CACN,MAAO,EACP,OAAQ,OACR,eAHmB,CAGF,oBACjB,aAAc,gCACd,QAAS,OACT,WAAY,SACZ,eAAgB,gBAChB,QAAS,WACT,OAAQ,IACR,WAAY,gBACd,YAGA,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAI,CAAA,CACH,KAAM,GAAgB,EAAO,CAAC,QAAQ,EAAE,EAAA,CAAM,CAAG,aACjD,MAAO,CACL,QAAS,OACT,WAAY,SACZ,IAAK,SACL,eAAgB,OAChB,MAAO,qBACT,YAEC,GAAc,KACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,IAAK,EAAa,IAAI,CACtB,IAAK,EAAa,IAAI,CACtB,MAAO,CAAE,MAAO,OAAQ,OAAQ,OAAQ,UAAW,SAAU,IAG/D,CAAA,EAAA,EAAA,GAAA,EAAC,AC5GI,ED4GJ,CAAW,UAAU,UAAU,MAAO,CAAE,MAAO,uBAAwB,IAEzE,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,MAAO,CAAE,WAAY,IAAK,SAAU,MAAO,WAAI,EAAa,IAAI,MAKzE,CAAE,GAAiB,CAAC,GAClB,CAAC,KAAoD,CAAY,EADjD,AAEjB,CAAA,CAFkC,CAElC,EAAA,GADkB,AAClB,EAAC,MAF+C,AAE/C,CAAI,KAFiD,AACtB,CACpB,CAAE,IADwB,CADuB,GAEtC,GADsB,GADyB,CAEvC,IAAK,CADkB,KAD4B,GAEpC,WAAY,QAAS,WAChE,EACC,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CACH,KAAM,CAAC,QAAQ,EAAE,EAAA,CAAM,CACvB,MAAO,CACL,MAAO,IAAa,CAAC,QAAQ,EAAE,EAAA,CAAM,CAAG,wBAA0B,sBAClE,eAAgB,OAChB,SAAU,WACV,WAAY,IAAa,CAAC,QAAQ,EAAE,EAAA,CAAM,CAAG,IAAM,GACrD,WACD,SAGD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CACH,KAAM,CAAC,QAAQ,EAAE,EAAK,GAAG,CAAC,CAC1B,MAAO,CACL,MAAO,GAAU,SAAS,OAAS,wBAA0B,sBAC7D,eAAgB,OAChB,SAAU,WACV,WAAY,GAAU,SAAS,OAAS,IAAM,GAChD,WACD,mBAGD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CACH,KAAM,CAAC,QAAQ,EAAE,EAAK,OAAO,CAAC,CAC9B,MAAO,CACL,MAAO,GAAU,SAAS,WAAa,wBAA0B,sBACjE,eAAgB,OAChB,SAAU,WACV,WAAY,GAAU,SAAS,WAAa,IAAM,GACpD,WACD,mBApFM,KAsGT,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAvGwB,AAuGxB,OAAI,CAAA,CACH,KAAK,CAxGiC,CAAC,CAAC,QAAQ,CAAC,CAAC,AAyGlD,MAAO,CACL,MA1G6D,AA0GzC,OA1GgD,CAAC,OA0G9D,EAA4B,wBAA0B,sBAC7D,eAAgB,OAChB,SAAU,WACV,WAAyB,eAAb,EAA4B,IAAM,GAChD,WACD,SAGD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CACH,KAAK,MACL,MAAO,CACL,MAAO,GAAU,SAAS,OAAS,wBAA0B,sBAC7D,eAAgB,OAChB,SAAU,WACV,WAAY,GAAU,SAAS,OAAS,IAAM,GAChD,WACD,mBAGD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CACH,KAAK,eACL,MAAO,CACL,MAAO,GAAU,SAAS,gBAAkB,wBAA0B,sBACtE,eAAgB,OAChB,SAAU,WACV,WAAY,GAAU,SAAS,gBAAkB,IAAM,GACzD,WACD,kBAGD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CACH,KAAK,WACL,MAAO,CACL,MAAoB,aAAb,EAA0B,wBAA0B,sBAC3D,eAAgB,OAChB,SAAU,WACV,WAAyB,aAAb,EAA0B,IAAM,GAC9C,WACD,oBAUP,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,IAAK,UAAW,WAAY,QAAS,YAClE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CACH,KAAM,CAAC,gBAAgB,EAAE,mBAAmB,GAAA,CAAc,CAC1D,MAAO,CACL,QAAS,cACT,gBAAiB,sBACjB,MAAO,sBACP,eAAgB,OAChB,aAAc,MACd,SAAU,WACV,WAAY,IACZ,OAAQ,+BACV,WACD,UAGA,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CACH,KAAM,CAAC,mBAAmB,EAAE,mBAAmB,GAAA,CAAc,CAC7D,MAAO,CACL,QAAS,cACT,gBAAiB,wBACjB,MAAO,QACP,eAAgB,OAChB,aAAc,MACd,SAAU,WACV,WAAY,GACd,WACD,kBAQb,AAHU,uEErRV,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,EAAc,UAAE,CAAQ,CAAiC,EAC/E,IAAM,EAAW,CAAA,EAAA,EAAA,WAAA,AAAW,IACtB,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACvC,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACrC,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,SAuCvC,CArCA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAsBR,GAAW,GAOJ,KAIP,GACC,CAAC,EAAS,EAGI,MAAb,GAAiC,WAAb,GAAsC,cAAb,GAA4B,GAAU,WAAW,oBAK9F,AALkH,CAKjH,GAJI,CAAA,EAAA,EAAA,CAIK,EAJL,EAAC,OAAA,UAAM,IAcd,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,MAAO,CACL,WANc,GAAc,CAAC,EAAa,8BAAgC,IAO1E,UANY,OAOZ,WAAY,uBACd,WAEC,GAGP","ignoreList":[2,3,5,7]}