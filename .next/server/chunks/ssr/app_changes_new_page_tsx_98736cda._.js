module.exports=[22523,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246);function f(){let a=(0,d.useRouter)(),[f,g]=(0,c.useState)(!1),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)({title:"",description:"",type:"STANDARD",priority:"MEDIUM",riskLevel:"MEDIUM",plannedStartDate:"",plannedEndDate:""}),l=async b=>{b.preventDefault(),i(""),g(!0);try{let b=localStorage.getItem("accessToken"),c=await fetch("/api/v1/changes",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`},body:JSON.stringify({...j,plannedStartDate:j.plannedStartDate?new Date(j.plannedStartDate).toISOString():void 0,plannedEndDate:j.plannedEndDate?new Date(j.plannedEndDate).toISOString():void 0})}),d=await c.json();d.success?a.push(`/changes/${d.data.changeRequest.id}`):(i(d.error?.message||"Failed to create change request"),g(!1))}catch(a){i("An unexpected error occurred"),g(!1)}};return(0,b.jsxs)("div",{style:{padding:"2rem",maxWidth:"800px",margin:"0 auto"},children:[(0,b.jsx)("div",{style:{marginBottom:"2rem"},children:(0,b.jsx)(e.default,{href:"/changes",style:{color:"var(--accent-primary)",textDecoration:"none"},children:"â† Back to Changes"})}),(0,b.jsx)("h1",{style:{marginBottom:"2rem"},children:"Create New Change Request"}),h&&(0,b.jsx)("div",{style:{padding:"0.75rem",backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid var(--error)",borderRadius:"0.5rem",marginBottom:"1rem",color:"var(--error)"},children:h}),(0,b.jsxs)("form",{onSubmit:l,style:{display:"grid",gap:"1.5rem"},children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:["Title ",(0,b.jsx)("span",{style:{color:"var(--error)"},children:"*"})]}),(0,b.jsx)("input",{type:"text",className:"input",value:j.title,onChange:a=>k({...j,title:a.target.value}),required:!0,disabled:f})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:["Description ",(0,b.jsx)("span",{style:{color:"var(--error)"},children:"*"})]}),(0,b.jsx)("textarea",{className:"input",value:j.description,onChange:a=>k({...j,description:a.target.value}),required:!0,rows:6,disabled:f})]}),(0,b.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"1rem"},children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:["Type ",(0,b.jsx)("span",{style:{color:"var(--error)"},children:"*"})]}),(0,b.jsxs)("select",{className:"input",value:j.type,onChange:a=>k({...j,type:a.target.value}),required:!0,disabled:f,children:[(0,b.jsx)("option",{value:"STANDARD",children:"Standard"}),(0,b.jsx)("option",{value:"NORMAL",children:"Normal"}),(0,b.jsx)("option",{value:"EMERGENCY",children:"Emergency"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:"Priority"}),(0,b.jsxs)("select",{className:"input",value:j.priority,onChange:a=>k({...j,priority:a.target.value}),disabled:f,children:[(0,b.jsx)("option",{value:"LOW",children:"Low"}),(0,b.jsx)("option",{value:"MEDIUM",children:"Medium"}),(0,b.jsx)("option",{value:"HIGH",children:"High"}),(0,b.jsx)("option",{value:"CRITICAL",children:"Critical"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:"Risk Level"}),(0,b.jsxs)("select",{className:"input",value:j.riskLevel,onChange:a=>k({...j,riskLevel:a.target.value}),disabled:f,children:[(0,b.jsx)("option",{value:"LOW",children:"Low"}),(0,b.jsx)("option",{value:"MEDIUM",children:"Medium"}),(0,b.jsx)("option",{value:"HIGH",children:"High"}),(0,b.jsx)("option",{value:"CRITICAL",children:"Critical"})]})]})]}),(0,b.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:"Planned Start Date"}),(0,b.jsx)("input",{type:"datetime-local",className:"input",value:j.plannedStartDate,onChange:a=>k({...j,plannedStartDate:a.target.value}),disabled:f})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:"Planned End Date"}),(0,b.jsx)("input",{type:"datetime-local",className:"input",value:j.plannedEndDate,onChange:a=>k({...j,plannedEndDate:a.target.value}),disabled:f})]})]}),(0,b.jsxs)("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[(0,b.jsx)(e.default,{href:"/changes",style:{padding:"0.75rem 1.5rem",backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"6px",textDecoration:"none",color:"var(--text-primary)"},children:"Cancel"}),(0,b.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:f,children:f?"Creating...":"Create Change Request"})]})]})]})}a.s(["default",()=>f])}];

//# sourceMappingURL=app_changes_new_page_tsx_98736cda._.js.map