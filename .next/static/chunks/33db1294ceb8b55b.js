(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,34908,e=>{"use strict";var r=e.i(43476),t=e.i(71645),a=e.i(22016);function i(){let[e,i]=(0,t.useState)(null),[n,o]=(0,t.useState)(!0);return((0,t.useEffect)(()=>{(async()=>{try{let e=localStorage.getItem("accessToken");if(!e)return void o(!1);let r=await fetch("/api/v1/organizations/me",{headers:{Authorization:`Bearer ${e}`}});if(r.ok){let e=await r.json();i(e.organization)}}catch(e){}finally{o(!1)}})()},[]),n||!e)?null:(0,r.jsxs)("div",{style:{padding:"0.5rem 1rem",backgroundColor:"var(--bg-secondary)",borderBottom:"1px solid var(--border)",display:"flex",alignItems:"center",gap:"0.75rem",fontSize:"0.875rem"},children:[e.logo&&(0,r.jsx)("img",{src:e.logo,alt:e.name,style:{width:"24px",height:"24px",objectFit:"contain"}}),(0,r.jsx)("span",{style:{color:"var(--text-secondary)"},children:"Organization:"}),(0,r.jsx)(a.default,{href:"/organization/settings",style:{color:"var(--accent-primary)",textDecoration:"none",fontWeight:500},children:e.name})]})}e.s(["default",()=>i])},63972,e=>{"use strict";var r=e.i(71645);let t=r.forwardRef(function({title:e,titleId:t,...a},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))});e.s(["DocumentDuplicateIcon",0,t],63972)},17416,e=>{"use strict";var r=e.i(43476),t=e.i(71645),a=e.i(18566),i=e.i(22016),n=e.i(34908),o=e.i(63972),l=e.i(87906);function s(){let e=(0,a.useRouter)(),[s,d]=(0,t.useState)([]),[c,g]=(0,t.useState)(!0),[p,h]=(0,t.useState)(""),[x,u]=(0,t.useState)(null),[m,y]=(0,t.useState)({search:"",isActive:""});(0,t.useEffect)(()=>{v()},[m]);let v=async()=>{try{g(!0);let e=localStorage.getItem("accessToken"),r=new URLSearchParams;m.search&&r.append("search",m.search),""!==m.isActive&&r.append("isActive",m.isActive);let t=await fetch(`/api/v1/admin/tenants?${r.toString()}`,{headers:e?{Authorization:`Bearer ${e}`}:{}}),a=await t.json();a.success?d(a.data):h(a.error?.message||"Failed to load tenants")}catch(e){h("An unexpected error occurred")}finally{g(!1)}},b=async e=>{if(confirm("Are you sure you want to deactivate this tenant?"))try{let r=localStorage.getItem("accessToken"),t=await fetch(`/api/v1/admin/tenants/${e}`,{method:"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}),a=await t.json();a.success?v():h(a.error?.message||"Failed to delete tenant")}catch(e){h("An unexpected error occurred")}},f=e=>`${window.location.origin}/tenant/${e}`,j=async e=>{let r=f(e);try{await navigator.clipboard.writeText(r),u(e),setTimeout(()=>u(null),2e3)}catch(e){console.error("Failed to copy:",e)}};return c?(0,r.jsx)("div",{style:{padding:"2rem"},children:(0,r.jsx)("p",{children:"Loading tenants..."})}):(0,r.jsxs)("div",{style:{padding:"2rem",maxWidth:"1400px",margin:"0 auto"},children:[(0,r.jsx)(n.default,{}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem",marginTop:"1rem"},children:[(0,r.jsx)("h1",{style:{fontSize:"2rem",margin:0},children:"Tenant Management"}),(0,r.jsx)("button",{onClick:()=>e.push("/admin/tenants/new"),style:{padding:"0.75rem 1.5rem",backgroundColor:"var(--accent-primary)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"0.875rem",fontWeight:600},children:"Create Tenant"})]}),p&&(0,r.jsx)("div",{style:{padding:"1rem",backgroundColor:"rgba(239, 68, 68, 0.1)",color:"var(--error)",borderRadius:"8px",marginBottom:"1rem"},children:p}),(0,r.jsxs)("div",{style:{display:"flex",gap:"1rem",marginBottom:"1.5rem",padding:"1rem",backgroundColor:"var(--bg-secondary)",borderRadius:"8px"},children:[(0,r.jsx)("input",{type:"text",placeholder:"Search tenants...",value:m.search,onChange:e=>y({...m,search:e.target.value}),style:{flex:1,padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border-color)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"}}),(0,r.jsxs)("select",{value:m.isActive,onChange:e=>y({...m,isActive:e.target.value}),style:{padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border-color)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},children:[(0,r.jsx)("option",{value:"",children:"All Status"}),(0,r.jsx)("option",{value:"true",children:"Active"}),(0,r.jsx)("option",{value:"false",children:"Inactive"})]})]}),(0,r.jsx)("div",{style:{backgroundColor:"var(--bg-secondary)",borderRadius:"8px",border:"1px solid var(--border-color)",overflow:"hidden"},children:0===s.length?(0,r.jsx)("div",{style:{padding:"2rem",textAlign:"center",color:"var(--text-secondary)"},children:"No tenants found"}):(0,r.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{style:{borderBottom:"1px solid var(--border-color)"},children:[(0,r.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontWeight:600},children:"Name"}),(0,r.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontWeight:600},children:"Slug"}),(0,r.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontWeight:600},children:"Public URL"}),(0,r.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontWeight:600},children:"Status"}),(0,r.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontWeight:600},children:"Requires Login"}),(0,r.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontWeight:600},children:"Tickets"}),(0,r.jsx)("th",{style:{padding:"1rem",textAlign:"left",fontWeight:600},children:"Actions"})]})}),(0,r.jsx)("tbody",{children:s.map(e=>(0,r.jsxs)("tr",{style:{borderBottom:"1px solid var(--border-color)"},children:[(0,r.jsx)("td",{style:{padding:"1rem"},children:(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.logo&&(0,r.jsx)("img",{src:e.logo,alt:e.name,style:{width:"32px",height:"32px",borderRadius:"4px"}}),(0,r.jsx)("span",{style:{fontWeight:500},children:e.name})]})}),(0,r.jsx)("td",{style:{padding:"1rem",color:"var(--text-secondary)"},children:e.slug}),(0,r.jsx)("td",{style:{padding:"1rem"},children:(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,r.jsx)("code",{style:{padding:"0.5rem",backgroundColor:"var(--bg-primary)",borderRadius:"4px",fontSize:"0.75rem",fontFamily:"monospace",color:"var(--accent-primary)",flex:1,maxWidth:"300px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:f(e.slug),children:f(e.slug)}),(0,r.jsx)("button",{onClick:()=>j(e.slug),style:{padding:"0.5rem",backgroundColor:"var(--bg-tertiary)",border:"1px solid var(--border-color)",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",color:x===e.slug?"var(--success)":"var(--text-primary)"},title:"Copy URL",children:x===e.slug?(0,r.jsx)(l.CheckIcon,{style:{width:"16px",height:"16px"}}):(0,r.jsx)(o.DocumentDuplicateIcon,{style:{width:"16px",height:"16px"}})}),(0,r.jsx)("a",{href:`/tenant/${e.slug}`,target:"_blank",rel:"noopener noreferrer",style:{padding:"0.5rem",backgroundColor:"var(--bg-tertiary)",border:"1px solid var(--border-color)",borderRadius:"4px",textDecoration:"none",color:"var(--text-primary)",fontSize:"0.75rem"},title:"Open in new tab",children:"Open"})]})}),(0,r.jsx)("td",{style:{padding:"1rem"},children:(0,r.jsx)("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:600,backgroundColor:e.isActive?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)",color:e.isActive?"var(--success)":"var(--error)"},children:e.isActive?"Active":"Inactive"})}),(0,r.jsx)("td",{style:{padding:"1rem"},children:e.requiresLogin?(0,r.jsx)("span",{style:{color:"var(--text-secondary)"},children:"Yes"}):(0,r.jsx)("span",{style:{color:"var(--text-secondary)"},children:"No"})}),(0,r.jsx)("td",{style:{padding:"1rem",color:"var(--text-secondary)"},children:e._count?.tickets||0}),(0,r.jsx)("td",{style:{padding:"1rem"},children:(0,r.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,r.jsx)(i.default,{href:`/admin/tenants/${e.id}`,style:{padding:"0.5rem 1rem",backgroundColor:"var(--bg-tertiary)",color:"var(--text-primary)",textDecoration:"none",borderRadius:"6px",fontSize:"0.875rem"},children:"Edit"}),(0,r.jsx)("button",{onClick:()=>b(e.id),style:{padding:"0.5rem 1rem",backgroundColor:"rgba(239, 68, 68, 0.1)",color:"var(--error)",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.875rem"},children:"Delete"})]})})]},e.id))})]})})]})}e.s(["default",()=>s])}]);