(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,39559,e=>{"use strict";var r=e.i(43476),t=e.i(71645),a=e.i(18566),n=e.i(22016);function s(){let e=(0,a.useRouter)(),[s,i]=(0,t.useState)([]),[o,d]=(0,t.useState)(!0),[l,c]=(0,t.useState)(""),[m,g]=(0,t.useState)({search:"",isActive:""});(0,t.useEffect)(()=>{p()},[m]);let p=async()=>{try{d(!0);let e=localStorage.getItem("accessToken"),r=new URLSearchParams;m.search&&r.append("search",m.search),""!==m.isActive&&r.append("isActive",m.isActive);let t=await fetch(`/api/v1/manager/tenants?${r.toString()}`,{headers:e?{Authorization:`Bearer ${e}`}:{}}),a=await t.json();a.success?i(a.data.tenants||a.data):c(a.error?.message||"Failed to load tenants")}catch(e){c("An unexpected error occurred")}finally{d(!1)}};return o?(0,r.jsx)("div",{style:{padding:"2rem"},children:(0,r.jsx)("p",{children:"Loading tenants..."})}):(0,r.jsxs)("div",{style:{padding:"2rem",maxWidth:"1400px",margin:"0 auto"},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[(0,r.jsx)("h1",{style:{fontSize:"2rem",margin:0},children:"My Tenants"}),(0,r.jsx)("button",{onClick:()=>e.push("/manager/tenants/new"),style:{padding:"0.75rem 1.5rem",backgroundColor:"var(--accent-primary)",color:"white",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontSize:"1rem"},children:"Create Tenant"})]}),l&&(0,r.jsx)("div",{style:{padding:"1rem",backgroundColor:"var(--error-bg)",color:"var(--error-text)",borderRadius:"0.5rem",marginBottom:"1rem"},children:l}),(0,r.jsxs)("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem"},children:[(0,r.jsx)("input",{type:"text",placeholder:"Search tenants...",value:m.search,onChange:e=>g({...m,search:e.target.value}),style:{flex:1,padding:"0.75rem",border:"1px solid var(--border-color)",borderRadius:"0.5rem",backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)"}}),(0,r.jsxs)("select",{value:m.isActive,onChange:e=>g({...m,isActive:e.target.value}),style:{padding:"0.75rem",border:"1px solid var(--border-color)",borderRadius:"0.5rem",backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)"},children:[(0,r.jsx)("option",{value:"",children:"All Status"}),(0,r.jsx)("option",{value:"true",children:"Active"}),(0,r.jsx)("option",{value:"false",children:"Inactive"})]})]}),0===s.length?(0,r.jsx)("div",{style:{textAlign:"center",padding:"3rem",color:"var(--text-secondary)"},children:(0,r.jsx)("p",{children:"No tenants found. Create your first tenant to get started."})}):(0,r.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"1.5rem"},children:s.map(e=>(0,r.jsxs)("div",{style:{padding:"1.5rem",backgroundColor:"var(--bg-secondary)",borderRadius:"0.5rem",border:"1px solid var(--border-color)",display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{style:{margin:0,fontSize:"1.25rem",marginBottom:"0.5rem"},children:e.name}),(0,r.jsx)("p",{style:{margin:0,color:"var(--text-secondary)",fontSize:"0.875rem"},children:e.slug})]}),(0,r.jsx)("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"1rem",fontSize:"0.75rem",backgroundColor:e.isActive?"var(--success-bg)":"var(--error-bg)",color:e.isActive?"var(--success-text)":"var(--error-text)"},children:e.isActive?"Active":"Inactive"})]}),e.description&&(0,r.jsx)("p",{style:{margin:0,color:"var(--text-secondary)",fontSize:"0.875rem"},children:e.description}),e._count&&(0,r.jsxs)("div",{style:{display:"flex",gap:"1rem",fontSize:"0.875rem",color:"var(--text-secondary)"},children:[(0,r.jsxs)("span",{children:[e._count.tickets||0," tickets"]}),(0,r.jsxs)("span",{children:[e._count.assignments||0," assignments"]})]}),(0,r.jsx)("div",{style:{display:"flex",gap:"0.5rem",marginTop:"auto"},children:(0,r.jsx)(n.default,{href:`/manager/tenants/${e.id}`,style:{flex:1,padding:"0.5rem",textAlign:"center",backgroundColor:"var(--accent-primary)",color:"white",textDecoration:"none",borderRadius:"0.5rem",fontSize:"0.875rem"},children:"Manage"})})]},e.id))})]})}e.s(["default",()=>s])}]);