module.exports=[56660,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944);function e(){let a=(0,d.useRouter)(),[e,f]=(0,c.useState)(""),[g,h]=(0,c.useState)(""),[i,j]=(0,c.useState)("MEDIUM"),[k,l]=(0,c.useState)(""),[m,n]=(0,c.useState)(!1),o=async b=>{b.preventDefault(),l(""),n(!0);try{let b=localStorage.getItem("accessToken"),c=await fetch("/api/v1/tickets",{method:"POST",headers:{"Content-Type":"application/json",...b?{Authorization:`Bearer ${b}`}:{}},body:JSON.stringify({subject:e,description:g,priority:i})}),d=await c.json();if(!d.success){l(d.error?.message||"Failed to create ticket"),n(!1);return}a.push(`/tickets/${d.data.id}`)}catch(a){l("An unexpected error occurred"),n(!1)}};return(0,b.jsxs)("div",{className:"container",style:{padding:"2rem",maxWidth:"720px"},children:[(0,b.jsx)("h1",{style:{fontSize:"2rem",fontWeight:"bold",marginBottom:"1rem"},children:"Create Ticket"}),k&&(0,b.jsx)("div",{style:{padding:"0.75rem",backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid var(--error)",borderRadius:"0.5rem",marginBottom:"1rem",color:"var(--error)"},children:k}),(0,b.jsxs)("form",{onSubmit:o,className:"card",style:{display:"grid",gap:"1rem"},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"label",htmlFor:"subject",children:"Subject"}),(0,b.jsx)("input",{id:"subject",className:"input",value:e,onChange:a=>f(a.target.value),required:!0,minLength:3,disabled:m})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"label",htmlFor:"description",children:"Description"}),(0,b.jsx)("textarea",{id:"description",className:"input",value:g,onChange:a=>h(a.target.value),required:!0,minLength:3,rows:6,disabled:m})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"label",htmlFor:"priority",children:"Priority"}),(0,b.jsxs)("select",{id:"priority",className:"input",value:i,onChange:a=>j(a.target.value),disabled:m,children:[(0,b.jsx)("option",{value:"LOW",children:"Low"}),(0,b.jsx)("option",{value:"MEDIUM",children:"Medium"}),(0,b.jsx)("option",{value:"HIGH",children:"High"}),(0,b.jsx)("option",{value:"CRITICAL",children:"Critical"})]})]}),(0,b.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:m,children:m?"Creating...":"Create Ticket"})]})]})}a.s(["default",()=>e])}];

//# sourceMappingURL=app_tickets_new_page_tsx_096c0aa8._.js.map