{"version":3,"sources":["../../../../app/tickets/new/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { useRouter } from 'next/navigation'\n\nexport default function NewTicketPage() {\n  const router = useRouter()\n  const [subject, setSubject] = useState('')\n  const [description, setDescription] = useState('')\n  const [priority, setPriority] = useState('MEDIUM')\n  const [error, setError] = useState('')\n  const [loading, setLoading] = useState(false)\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setError('')\n    setLoading(true)\n\n    try {\n      const token = localStorage.getItem('accessToken')\n      const res = await fetch('/api/v1/tickets', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          ...(token ? { Authorization: `Bearer ${token}` } : {}),\n        },\n        body: JSON.stringify({ subject, description, priority }),\n      })\n\n      const data = await res.json()\n      if (!data.success) {\n        setError(data.error?.message || 'Failed to create ticket')\n        setLoading(false)\n        return\n      }\n\n      router.push(`/tickets/${data.data.id}`)\n    } catch (err) {\n      setError('An unexpected error occurred')\n      setLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"container\" style={{ padding: '2rem', maxWidth: '720px' }}>\n      <h1 style={{ fontSize: '2rem', fontWeight: 'bold', marginBottom: '1rem' }}>Create Ticket</h1>\n\n      {error && (\n        <div\n          style={{\n            padding: '0.75rem',\n            backgroundColor: 'rgba(239, 68, 68, 0.1)',\n            border: '1px solid var(--error)',\n            borderRadius: '0.5rem',\n            marginBottom: '1rem',\n            color: 'var(--error)',\n          }}\n        >\n          {error}\n        </div>\n      )}\n\n      <form onSubmit={handleSubmit} className=\"card\" style={{ display: 'grid', gap: '1rem' }}>\n        <div>\n          <label className=\"label\" htmlFor=\"subject\">\n            Subject\n          </label>\n          <input\n            id=\"subject\"\n            className=\"input\"\n            value={subject}\n            onChange={(e) => setSubject(e.target.value)}\n            required\n            minLength={3}\n            disabled={loading}\n          />\n        </div>\n\n        <div>\n          <label className=\"label\" htmlFor=\"description\">\n            Description\n          </label>\n          <textarea\n            id=\"description\"\n            className=\"input\"\n            value={description}\n            onChange={(e) => setDescription(e.target.value)}\n            required\n            minLength={3}\n            rows={6}\n            disabled={loading}\n          />\n        </div>\n\n        <div>\n          <label className=\"label\" htmlFor=\"priority\">\n            Priority\n          </label>\n          <select\n            id=\"priority\"\n            className=\"input\"\n            value={priority}\n            onChange={(e) => setPriority(e.target.value)}\n            disabled={loading}\n          >\n            <option value=\"LOW\">Low</option>\n            <option value=\"MEDIUM\">Medium</option>\n            <option value=\"HIGH\">High</option>\n            <option value=\"CRITICAL\">Critical</option>\n          </select>\n        </div>\n\n        <button type=\"submit\" className=\"btn btn-primary\" disabled={loading}>\n          {loading ? 'Creating...' : 'Create Ticket'}\n        </button>\n      </form>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IACtB,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACjC,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACzC,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,UACnC,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAS,IAC7B,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAEjC,EAAe,MAAO,IAC1B,EAAE,cAAc,GAChB,EAAS,IACT,GAAW,GAEX,GAAI,CACF,IAAM,EAAQ,aAAa,OAAO,CAAC,eAC7B,EAAM,MAAM,MAAM,kBAAmB,CACzC,OAAQ,OACR,QAAS,CACP,eAAgB,mBAChB,GAAI,EAAQ,CAAE,cAAe,CAAC,OAAO,EAAE,EAAA,CAAO,AAAC,EAAI,CAAC,CAAC,AACvD,EACA,KAAM,KAAK,SAAS,CAAC,SAAE,cAAS,WAAa,CAAS,EACxD,GAEM,EAAO,MAAM,EAAI,IAAI,GAC3B,GAAI,CAAC,EAAK,OAAO,CAAE,CACjB,EAAS,EAAK,KAAK,EAAE,SAAW,2BAChC,EAAW,IACX,MACF,CAEA,EAAO,IAAI,CAAC,CAAC,SAAS,EAAE,EAAK,IAAI,CAAC,EAAE,CAAA,CAAE,CACxC,CAAE,MAAO,EAAK,CACZ,EAAS,gCACT,GAAW,EACb,CACF,EAEA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,YAAY,MAAO,CAAE,QAAS,OAAQ,SAAU,OAAQ,YACrE,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,MAAO,CAAE,SAAU,OAAQ,WAAY,OAAQ,aAAc,MAAO,WAAG,kBAE1E,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,MAAO,CACL,QAAS,UACT,gBAAiB,yBACjB,OAAQ,yBACR,aAAc,SACd,aAAc,OACd,MAAO,cACT,WAEC,IAIL,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,EAAc,UAAU,OAAO,MAAO,CAAE,QAAS,OAAQ,IAAK,MAAO,YACnF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,QAAQ,QAAQ,mBAAU,YAG3C,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,GAAG,UACH,UAAU,QACV,MAAO,EACP,SAAU,AAAC,GAAM,EAAW,EAAE,MAAM,CAAC,KAAK,EAC1C,QAAQ,CAAA,CAAA,EACR,UAAW,EACX,SAAU,OAId,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,QAAQ,QAAQ,uBAAc,gBAG/C,CAAA,EAAA,EAAA,GAAA,EAAC,WAAA,CACC,GAAG,cACH,UAAU,QACV,MAAO,EACP,SAAU,AAAC,GAAM,EAAe,EAAE,MAAM,CAAC,KAAK,EAC9C,QAAQ,CAAA,CAAA,EACR,UAAW,EACX,KAAM,EACN,SAAU,OAId,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,QAAQ,QAAQ,oBAAW,aAG5C,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,GAAG,WACH,UAAU,QACV,MAAO,EACP,SAAU,AAAC,GAAM,EAAY,EAAE,MAAM,CAAC,KAAK,EAC3C,SAAU,YAEV,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,eAAM,QACpB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,kBAAS,WACvB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,gBAAO,SACrB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,oBAAW,mBAI7B,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,KAAK,SAAS,UAAU,kBAAkB,SAAU,WACzD,EAAU,cAAgB,uBAKrC"}