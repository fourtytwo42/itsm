module.exports=[26667,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944);function e(){(0,d.useRouter)();let[a,e]=(0,c.useState)([]),[f,g]=(0,c.useState)(!0),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)({name:"",description:""}),[r,s]=(0,c.useState)({fieldName:"",label:"",fieldType:"text",required:!1,defaultValue:"",placeholder:"",options:[],order:0});(0,c.useEffect)(()=>{t()},[]);let t=async()=>{try{g(!0);let a=localStorage.getItem("accessToken"),b=await fetch("/api/v1/admin/asset-types",{headers:a?{Authorization:`Bearer ${a}`}:{}}),c=await b.json();c.success?e(c.data.assetTypes):i(c.error?.message||"Failed to load asset types")}catch(a){i("An unexpected error occurred")}finally{g(!1)}},u=async a=>{a.preventDefault(),i("");try{let a=localStorage.getItem("accessToken"),b=await fetch("/api/v1/admin/asset-types",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(p)}),c=await b.json();c.success?(k(!1),q({name:"",description:""}),t()):i(c.error?.message||"Failed to create asset type")}catch(a){i("An unexpected error occurred")}},v=async a=>{if(a.preventDefault(),n){i("");try{let a=localStorage.getItem("accessToken"),b=await fetch(`/api/v1/admin/asset-types/${n.id}/fields`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({...r,options:"select"===r.fieldType||"checkbox"===r.fieldType?r.options:void 0})}),c=await b.json();c.success?(m(!1),s({fieldName:"",label:"",fieldType:"text",required:!1,defaultValue:"",placeholder:"",options:[],order:0}),t()):i(c.error?.message||"Failed to create custom field")}catch(a){i("An unexpected error occurred")}}},w=async a=>{if(confirm("Are you sure you want to delete this asset type?"))try{let b=localStorage.getItem("accessToken"),c=await fetch(`/api/v1/admin/asset-types/${a}`,{method:"DELETE",headers:{Authorization:`Bearer ${b}`}}),d=await c.json();d.success?t():i(d.error?.message||"Failed to delete asset type")}catch(a){i("An unexpected error occurred")}},x=async(a,b)=>{if(confirm("Are you sure you want to delete this custom field?"))try{let c=localStorage.getItem("accessToken"),d=await fetch(`/api/v1/admin/asset-types/${a}/fields/${b}`,{method:"DELETE",headers:{Authorization:`Bearer ${c}`}}),e=await d.json();e.success?t():i(e.error?.message||"Failed to delete custom field")}catch(a){i("An unexpected error occurred")}};return f?(0,b.jsx)("div",{style:{padding:"2rem"},children:"Loading asset types..."}):(0,b.jsxs)("div",{style:{padding:"2rem",maxWidth:"1400px",margin:"0 auto"},children:[(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[(0,b.jsx)("h1",{style:{margin:0},children:"Asset Types"}),(0,b.jsx)("button",{onClick:()=>k(!0),style:{padding:"0.5rem 1rem",backgroundColor:"var(--accent-primary)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"New Asset Type"})]}),h&&(0,b.jsx)("div",{style:{padding:"0.75rem",backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid var(--error)",borderRadius:"0.5rem",marginBottom:"1rem",color:"var(--error)"},children:h}),(0,b.jsxs)("div",{style:{display:"grid",gap:"1.5rem"},children:[a.map(a=>(0,b.jsxs)("div",{style:{padding:"1.5rem",border:"1px solid var(--border-color)",borderRadius:"8px",backgroundColor:"var(--bg-secondary)"},children:[(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"1rem"},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{style:{margin:0,marginBottom:"0.25rem"},children:a.name}),a.description&&(0,b.jsx)("p",{style:{margin:"0.5rem 0 0 0",color:"var(--text-secondary)"},children:a.description})]}),(0,b.jsx)("button",{onClick:()=>w(a.id),style:{padding:"0.5rem 1rem",backgroundColor:"rgba(239, 68, 68, 0.1)",color:"var(--error)",border:"1px solid var(--error)",borderRadius:"6px",cursor:"pointer"},children:"Delete"})]}),(0,b.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[(0,b.jsx)("h3",{style:{margin:0,fontSize:"1rem"},children:"Custom Fields"}),(0,b.jsx)("button",{onClick:()=>{o(a),m(!0)},style:{padding:"0.375rem 0.75rem",backgroundColor:"var(--accent-primary)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.875rem"},children:"Add Field"})]}),0===a.customFields.length?(0,b.jsx)("p",{style:{color:"var(--text-secondary)",fontSize:"0.875rem"},children:"No custom fields defined"}):(0,b.jsx)("div",{style:{display:"grid",gap:"0.5rem"},children:a.customFields.map(c=>(0,b.jsxs)("div",{style:{padding:"0.75rem",backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-color)",borderRadius:"6px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{style:{fontWeight:500},children:c.label}),(0,b.jsxs)("div",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:[c.fieldType," ",c.required&&(0,b.jsx)("span",{style:{color:"var(--error)"},children:"*"})]})]}),(0,b.jsx)("button",{onClick:()=>x(a.id,c.id),style:{padding:"0.25rem 0.5rem",backgroundColor:"rgba(239, 68, 68, 0.1)",color:"var(--error)",border:"1px solid var(--error)",borderRadius:"4px",cursor:"pointer",fontSize:"0.75rem"},children:"Delete"})]},c.id))})]})]},a.id)),0===a.length&&(0,b.jsx)("div",{style:{textAlign:"center",padding:"3rem",color:"var(--text-secondary)"},children:(0,b.jsx)("p",{children:"No asset types found. Create one to get started."})})]}),j&&(0,b.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>k(!1),children:(0,b.jsxs)("div",{style:{backgroundColor:"var(--bg-primary)",padding:"2rem",borderRadius:"8px",maxWidth:"500px",width:"90%",maxHeight:"90vh",overflow:"auto"},onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("h2",{style:{marginTop:0,marginBottom:"1.5rem"},children:"Create Asset Type"}),(0,b.jsxs)("form",{onSubmit:u,style:{display:"grid",gap:"1rem"},children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:["Name ",(0,b.jsx)("span",{style:{color:"var(--error)"},children:"*"})]}),(0,b.jsx)("input",{type:"text",className:"input",value:p.name,onChange:a=>q({...p,name:a.target.value}),required:!0,placeholder:"e.g., Laptops, Desktops"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:"Description"}),(0,b.jsx)("textarea",{className:"input",value:p.description,onChange:a=>q({...p,description:a.target.value}),rows:3})]}),(0,b.jsxs)("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[(0,b.jsx)("button",{type:"button",onClick:()=>k(!1),style:{padding:"0.75rem 1.5rem",backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"6px",cursor:"pointer"},children:"Cancel"}),(0,b.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Create"})]})]})]})}),l&&n&&(0,b.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>m(!1),children:(0,b.jsxs)("div",{style:{backgroundColor:"var(--bg-primary)",padding:"2rem",borderRadius:"8px",maxWidth:"600px",width:"90%",maxHeight:"90vh",overflow:"auto"},onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)("h2",{style:{marginTop:0,marginBottom:"1.5rem"},children:["Add Custom Field to ",n.name]}),(0,b.jsxs)("form",{onSubmit:v,style:{display:"grid",gap:"1rem"},children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:["Field Name (Internal) ",(0,b.jsx)("span",{style:{color:"var(--error)"},children:"*"})]}),(0,b.jsx)("input",{type:"text",className:"input",value:r.fieldName,onChange:a=>s({...r,fieldName:a.target.value}),required:!0,placeholder:"e.g., screenSize, ram"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:["Label (Display) ",(0,b.jsx)("span",{style:{color:"var(--error)"},children:"*"})]}),(0,b.jsx)("input",{type:"text",className:"input",value:r.label,onChange:a=>s({...r,label:a.target.value}),required:!0,placeholder:"e.g., Screen Size, RAM"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:["Field Type ",(0,b.jsx)("span",{style:{color:"var(--error)"},children:"*"})]}),(0,b.jsxs)("select",{className:"input",value:r.fieldType,onChange:a=>s({...r,fieldType:a.target.value,options:"select"===a.target.value||"checkbox"===a.target.value?[]:r.options}),required:!0,children:[(0,b.jsx)("option",{value:"text",children:"Text"}),(0,b.jsx)("option",{value:"textarea",children:"Textarea"}),(0,b.jsx)("option",{value:"number",children:"Number"}),(0,b.jsx)("option",{value:"date",children:"Date"}),(0,b.jsx)("option",{value:"select",children:"Select (Dropdown)"}),(0,b.jsx)("option",{value:"checkbox",children:"Checkbox"})]})]}),("select"===r.fieldType||"checkbox"===r.fieldType)&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:"Options (one per line)"}),(0,b.jsx)("textarea",{className:"input",value:r.options.join("\n"),onChange:a=>s({...r,options:a.target.value.split("\n").filter(a=>a.trim())}),rows:4,placeholder:"Option 1 Option 2 Option 3"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:"Placeholder"}),(0,b.jsx)("input",{type:"text",className:"input",value:r.placeholder,onChange:a=>s({...r,placeholder:a.target.value})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:"Default Value"}),(0,b.jsx)("input",{type:"text",className:"input",value:r.defaultValue,onChange:a=>s({...r,defaultValue:a.target.value})})]}),(0,b.jsxs)("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[(0,b.jsx)("input",{type:"checkbox",id:"required",checked:r.required,onChange:a=>s({...r,required:a.target.checked})}),(0,b.jsx)("label",{htmlFor:"required",style:{fontWeight:500},children:"Required Field"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:"Order"}),(0,b.jsx)("input",{type:"number",className:"input",value:r.order,onChange:a=>s({...r,order:parseInt(a.target.value)||0}),min:"0"})]}),(0,b.jsxs)("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[(0,b.jsx)("button",{type:"button",onClick:()=>m(!1),style:{padding:"0.75rem 1.5rem",backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"6px",cursor:"pointer"},children:"Cancel"}),(0,b.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Create Field"})]})]})]})})]})}a.s(["default",()=>e])}];

//# sourceMappingURL=app_admin_asset-types_page_tsx_5c2ee834._.js.map