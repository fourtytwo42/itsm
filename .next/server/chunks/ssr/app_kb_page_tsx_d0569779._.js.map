{"version":3,"sources":["../../../../app/kb/page.tsx"],"sourcesContent":["'use client'\n\nimport Link from 'next/link'\nimport { useEffect, useState } from 'react'\n\ninterface Article {\n  id: string\n  slug: string\n  title: string\n  tags: string[]\n  createdAt: string\n}\n\nexport default function KnowledgeBasePage() {\n  const [articles, setArticles] = useState<Article[]>([])\n  const [query, setQuery] = useState('')\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState('')\n\n  const loadArticles = async () => {\n    setLoading(true)\n    setError('')\n    try {\n      const res = query.trim()\n        ? await fetch('/api/v1/kb/search', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ query }),\n          })\n        : await fetch('/api/v1/kb')\n\n      const data = await res.json()\n      if (!data.success) {\n        setError('Failed to load articles')\n        return\n      }\n      setArticles(data.data)\n    } catch (err) {\n      setError('Failed to load articles')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  useEffect(() => {\n    loadArticles()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const onSearch = async (e: React.FormEvent) => {\n    e.preventDefault()\n    await loadArticles()\n  }\n\n  return (\n    <div className=\"container\" style={{ padding: '2rem', display: 'grid', gap: '1.5rem' }}>\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginTop: '1rem' }}>\n        <h1 style={{ fontSize: '2rem', fontWeight: 'bold' }}>Knowledge Base</h1>\n      </div>\n\n      <form onSubmit={onSearch} style={{ display: 'flex', gap: '0.5rem' }}>\n        <input\n          className=\"input\"\n          placeholder=\"Search articles...\"\n          value={query}\n          onChange={(e) => setQuery(e.target.value)}\n        />\n        <button className=\"btn btn-primary\" type=\"submit\">\n          Search\n        </button>\n      </form>\n\n      {loading && <p>Loading articles...</p>}\n      {error && <p style={{ color: 'var(--error)' }}>{error}</p>}\n\n      {!loading && !error && (\n        <div style={{ display: 'grid', gap: '1rem' }}>\n          {articles.map((article) => (\n            <Link key={article.id} href={`/kb/${article.slug}`} className=\"card\" style={{ textDecoration: 'none', color: 'inherit' }}>\n              <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '0.25rem' }}>\n                <h3 style={{ margin: 0 }}>{article.title}</h3>\n                <span style={{ color: 'var(--text-tertiary)', fontSize: '0.85rem' }}>\n                  {new Date(article.createdAt).toLocaleDateString()}\n                </span>\n              </div>\n              <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', color: 'var(--text-tertiary)', fontSize: '0.85rem' }}>\n                {article.tags.map((tag) => (\n                  <span key={tag} style={{ border: '1px solid var(--border-color)', borderRadius: '0.5rem', padding: '0.15rem 0.5rem' }}>\n                    #{tag}\n                  </span>\n                ))}\n              </div>\n            </Link>\n          ))}\n          {articles.length === 0 && <p>No articles found.</p>}\n        </div>\n      )}\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"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"}