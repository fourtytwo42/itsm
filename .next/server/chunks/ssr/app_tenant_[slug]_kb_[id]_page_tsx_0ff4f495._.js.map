{"version":3,"sources":["../../../../app/tenant/%5Bslug%5D/kb/%5Bid%5D/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { useParams } from 'next/navigation'\nimport Link from 'next/link'\n\ninterface KBArticle {\n  id: string\n  title: string\n  content: string\n  tags: string[]\n  createdAt: string\n  updatedAt: string\n}\n\ninterface Tenant {\n  id: string\n  name: string\n  slug: string\n}\n\nexport default function TenantKBArticlePage() {\n  const params = useParams()\n  const slug = params?.slug as string\n  const articleId = params?.id as string\n\n  const [article, setArticle] = useState<KBArticle | null>(null)\n  const [tenant, setTenant] = useState<Tenant | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState('')\n\n  useEffect(() => {\n    loadArticle()\n  }, [slug, articleId])\n\n  const loadArticle = async () => {\n    try {\n      setLoading(true)\n      \n      // Load tenant first\n      const tenantRes = await fetch(`/api/v1/tenants/${slug}`)\n      const tenantData = await tenantRes.json()\n      if (tenantData.success) {\n        setTenant(tenantData.data)\n      }\n\n      // Load article\n      const token = localStorage.getItem('accessToken')\n      const articleRes = await fetch(`/api/v1/kb/${articleId}`, {\n        headers: token ? { Authorization: `Bearer ${token}` } : {},\n      })\n      const articleData = await articleRes.json()\n\n      if (articleData.success) {\n        setArticle(articleData.data)\n      } else {\n        setError(articleData.error?.message || 'Article not found')\n      }\n    } catch (err) {\n      setError('Failed to load article')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  if (loading) {\n    return (\n      <div style={{ minHeight: '100vh', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n        <p>Loading...</p>\n      </div>\n    )\n  }\n\n  if (error || !article) {\n    return (\n      <div style={{ minHeight: '100vh', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n        <div style={{ textAlign: 'center' }}>\n          <h1 style={{ fontSize: '2rem', marginBottom: '1rem' }}>Article Not Found</h1>\n          <p style={{ color: 'var(--text-secondary)' }}>{error || 'The article you are looking for does not exist.'}</p>\n          {slug && (\n            <Link\n              href={`/tenant/${slug}/kb`}\n              style={{\n                marginTop: '1rem',\n                display: 'inline-block',\n                color: 'var(--accent-primary)',\n                textDecoration: 'none',\n              }}\n            >\n              Back to Knowledge Base\n            </Link>\n          )}\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div style={{ minHeight: '100vh', backgroundColor: 'var(--bg-primary)', color: 'var(--text-primary)' }}>\n      <div style={{ maxWidth: '1200px', margin: '0 auto', padding: '2rem' }}>\n        <Link\n          href={`/tenant/${slug}/kb`}\n          style={{\n            color: 'var(--text-secondary)',\n            textDecoration: 'none',\n            marginBottom: '2rem',\n            display: 'inline-block',\n          }}\n        >\n          ‚Üê Back to Knowledge Base\n        </Link>\n\n        <article\n          style={{\n            backgroundColor: 'var(--bg-secondary)',\n            borderRadius: '12px',\n            padding: '2rem',\n            border: '1px solid var(--border-color)',\n          }}\n        >\n          <h1 style={{ fontSize: '2rem', marginBottom: '1rem' }}>{article.title}</h1>\n          \n          {article.tags.length > 0 && (\n            <div style={{ display: 'flex', gap: '0.5rem', marginBottom: '1.5rem', flexWrap: 'wrap' }}>\n              {article.tags.map((tag) => (\n                <span\n                  key={tag}\n                  style={{\n                    padding: '0.25rem 0.75rem',\n                    backgroundColor: 'var(--bg-tertiary)',\n                    borderRadius: '12px',\n                    fontSize: '0.75rem',\n                    color: 'var(--text-secondary)',\n                  }}\n                >\n                  {tag}\n                </span>\n              ))}\n            </div>\n          )}\n\n          <div\n            style={{\n              lineHeight: '1.75',\n              color: 'var(--text-primary)',\n            }}\n            dangerouslySetInnerHTML={{ __html: article.content }}\n          />\n\n          <div\n            style={{\n              marginTop: '2rem',\n              paddingTop: '1.5rem',\n              borderTop: '1px solid var(--border-color)',\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center',\n              fontSize: '0.875rem',\n              color: 'var(--text-secondary)',\n            }}\n          >\n            <span>Last updated: {new Date(article.updatedAt).toLocaleDateString()}</span>\n          </div>\n        </article>\n      </div>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"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"}