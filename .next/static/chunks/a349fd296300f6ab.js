(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,43645,e=>{"use strict";var r=e.i(43476),t=e.i(71645),i=e.i(18566);function s(){(0,i.useRouter)();let[e,s]=(0,t.useState)([]),[a,o]=(0,t.useState)(!0),[l,n]=(0,t.useState)(""),[d,c]=(0,t.useState)(!1),[p,m]=(0,t.useState)(!1),[u,h]=(0,t.useState)(null),[y,x]=(0,t.useState)({name:"",description:""}),[g,b]=(0,t.useState)({fieldName:"",label:"",fieldType:"text",required:!1,defaultValue:"",placeholder:"",options:[],order:0});(0,t.useEffect)(()=>{v()},[]);let v=async()=>{try{o(!0);let e=localStorage.getItem("accessToken"),r=await fetch("/api/v1/admin/asset-types",{headers:e?{Authorization:`Bearer ${e}`}:{}}),t=await r.json();t.success?s(t.data.assetTypes):n(t.error?.message||"Failed to load asset types")}catch(e){n("An unexpected error occurred")}finally{o(!1)}},j=async e=>{e.preventDefault(),n("");try{let e=localStorage.getItem("accessToken"),r=await fetch("/api/v1/admin/asset-types",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(y)}),t=await r.json();t.success?(c(!1),x({name:"",description:""}),v()):n(t.error?.message||"Failed to create asset type")}catch(e){n("An unexpected error occurred")}},f=async e=>{if(e.preventDefault(),u){n("");try{let e=localStorage.getItem("accessToken"),r=await fetch(`/api/v1/admin/asset-types/${u.id}/fields`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({...g,options:"select"===g.fieldType||"checkbox"===g.fieldType?g.options:void 0})}),t=await r.json();t.success?(m(!1),b({fieldName:"",label:"",fieldType:"text",required:!1,defaultValue:"",placeholder:"",options:[],order:0}),v()):n(t.error?.message||"Failed to create custom field")}catch(e){n("An unexpected error occurred")}}},C=async e=>{if(confirm("Are you sure you want to delete this asset type?"))try{let r=localStorage.getItem("accessToken"),t=await fetch(`/api/v1/admin/asset-types/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${r}`}}),i=await t.json();i.success?v():n(i.error?.message||"Failed to delete asset type")}catch(e){n("An unexpected error occurred")}},k=async(e,r)=>{if(confirm("Are you sure you want to delete this custom field?"))try{let t=localStorage.getItem("accessToken"),i=await fetch(`/api/v1/admin/asset-types/${e}/fields/${r}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}}),s=await i.json();s.success?v():n(s.error?.message||"Failed to delete custom field")}catch(e){n("An unexpected error occurred")}};return a?(0,r.jsx)("div",{style:{padding:"2rem"},children:"Loading asset types..."}):(0,r.jsxs)("div",{style:{padding:"2rem",maxWidth:"1400px",margin:"0 auto"},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[(0,r.jsx)("h1",{style:{margin:0},children:"Asset Types"}),(0,r.jsx)("button",{onClick:()=>c(!0),style:{padding:"0.5rem 1rem",backgroundColor:"var(--accent-primary)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"New Asset Type"})]}),l&&(0,r.jsx)("div",{style:{padding:"0.75rem",backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid var(--error)",borderRadius:"0.5rem",marginBottom:"1rem",color:"var(--error)"},children:l}),(0,r.jsxs)("div",{style:{display:"grid",gap:"1.5rem"},children:[e.map(e=>(0,r.jsxs)("div",{style:{padding:"1.5rem",border:"1px solid var(--border-color)",borderRadius:"8px",backgroundColor:"var(--bg-secondary)"},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"1rem"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{style:{margin:0,marginBottom:"0.25rem"},children:e.name}),e.description&&(0,r.jsx)("p",{style:{margin:"0.5rem 0 0 0",color:"var(--text-secondary)"},children:e.description})]}),(0,r.jsx)("button",{onClick:()=>C(e.id),style:{padding:"0.5rem 1rem",backgroundColor:"rgba(239, 68, 68, 0.1)",color:"var(--error)",border:"1px solid var(--error)",borderRadius:"6px",cursor:"pointer"},children:"Delete"})]}),(0,r.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[(0,r.jsx)("h3",{style:{margin:0,fontSize:"1rem"},children:"Custom Fields"}),(0,r.jsx)("button",{onClick:()=>{h(e),m(!0)},style:{padding:"0.375rem 0.75rem",backgroundColor:"var(--accent-primary)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.875rem"},children:"Add Field"})]}),0===e.customFields.length?(0,r.jsx)("p",{style:{color:"var(--text-secondary)",fontSize:"0.875rem"},children:"No custom fields defined"}):(0,r.jsx)("div",{style:{display:"grid",gap:"0.5rem"},children:e.customFields.map(t=>(0,r.jsxs)("div",{style:{padding:"0.75rem",backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-color)",borderRadius:"6px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{fontWeight:500},children:t.label}),(0,r.jsxs)("div",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:[t.fieldType," ",t.required&&(0,r.jsx)("span",{style:{color:"var(--error)"},children:"*"})]})]}),(0,r.jsx)("button",{onClick:()=>k(e.id,t.id),style:{padding:"0.25rem 0.5rem",backgroundColor:"rgba(239, 68, 68, 0.1)",color:"var(--error)",border:"1px solid var(--error)",borderRadius:"4px",cursor:"pointer",fontSize:"0.75rem"},children:"Delete"})]},t.id))})]})]},e.id)),0===e.length&&(0,r.jsx)("div",{style:{textAlign:"center",padding:"3rem",color:"var(--text-secondary)"},children:(0,r.jsx)("p",{children:"No asset types found. Create one to get started."})})]}),d&&(0,r.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>c(!1),children:(0,r.jsxs)("div",{style:{backgroundColor:"var(--bg-primary)",padding:"2rem",borderRadius:"8px",maxWidth:"500px",width:"90%",maxHeight:"90vh",overflow:"auto"},onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("h2",{style:{marginTop:0,marginBottom:"1.5rem"},children:"Create Asset Type"}),(0,r.jsxs)("form",{onSubmit:j,style:{display:"grid",gap:"1rem"},children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:["Name ",(0,r.jsx)("span",{style:{color:"var(--error)"},children:"*"})]}),(0,r.jsx)("input",{type:"text",className:"input",value:y.name,onChange:e=>x({...y,name:e.target.value}),required:!0,placeholder:"e.g., Laptops, Desktops"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:"Description"}),(0,r.jsx)("textarea",{className:"input",value:y.description,onChange:e=>x({...y,description:e.target.value}),rows:3})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[(0,r.jsx)("button",{type:"button",onClick:()=>c(!1),style:{padding:"0.75rem 1.5rem",backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"6px",cursor:"pointer"},children:"Cancel"}),(0,r.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Create"})]})]})]})}),p&&u&&(0,r.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>m(!1),children:(0,r.jsxs)("div",{style:{backgroundColor:"var(--bg-primary)",padding:"2rem",borderRadius:"8px",maxWidth:"600px",width:"90%",maxHeight:"90vh",overflow:"auto"},onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("h2",{style:{marginTop:0,marginBottom:"1.5rem"},children:["Add Custom Field to ",u.name]}),(0,r.jsxs)("form",{onSubmit:f,style:{display:"grid",gap:"1rem"},children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:["Field Name (Internal) ",(0,r.jsx)("span",{style:{color:"var(--error)"},children:"*"})]}),(0,r.jsx)("input",{type:"text",className:"input",value:g.fieldName,onChange:e=>b({...g,fieldName:e.target.value}),required:!0,placeholder:"e.g., screenSize, ram"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:["Label (Display) ",(0,r.jsx)("span",{style:{color:"var(--error)"},children:"*"})]}),(0,r.jsx)("input",{type:"text",className:"input",value:g.label,onChange:e=>b({...g,label:e.target.value}),required:!0,placeholder:"e.g., Screen Size, RAM"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:["Field Type ",(0,r.jsx)("span",{style:{color:"var(--error)"},children:"*"})]}),(0,r.jsxs)("select",{className:"input",value:g.fieldType,onChange:e=>b({...g,fieldType:e.target.value,options:"select"===e.target.value||"checkbox"===e.target.value?[]:g.options}),required:!0,children:[(0,r.jsx)("option",{value:"text",children:"Text"}),(0,r.jsx)("option",{value:"textarea",children:"Textarea"}),(0,r.jsx)("option",{value:"number",children:"Number"}),(0,r.jsx)("option",{value:"date",children:"Date"}),(0,r.jsx)("option",{value:"select",children:"Select (Dropdown)"}),(0,r.jsx)("option",{value:"checkbox",children:"Checkbox"})]})]}),("select"===g.fieldType||"checkbox"===g.fieldType)&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:"Options (one per line)"}),(0,r.jsx)("textarea",{className:"input",value:g.options.join("\n"),onChange:e=>b({...g,options:e.target.value.split("\n").filter(e=>e.trim())}),rows:4,placeholder:"Option 1 Option 2 Option 3"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:"Placeholder"}),(0,r.jsx)("input",{type:"text",className:"input",value:g.placeholder,onChange:e=>b({...g,placeholder:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:"Default Value"}),(0,r.jsx)("input",{type:"text",className:"input",value:g.defaultValue,onChange:e=>b({...g,defaultValue:e.target.value})})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[(0,r.jsx)("input",{type:"checkbox",id:"required",checked:g.required,onChange:e=>b({...g,required:e.target.checked})}),(0,r.jsx)("label",{htmlFor:"required",style:{fontWeight:500},children:"Required Field"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:"Order"}),(0,r.jsx)("input",{type:"number",className:"input",value:g.order,onChange:e=>b({...g,order:parseInt(e.target.value)||0}),min:"0"})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[(0,r.jsx)("button",{type:"button",onClick:()=>m(!1),style:{padding:"0.75rem 1.5rem",backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"6px",cursor:"pointer"},children:"Cancel"}),(0,r.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Create Field"})]})]})]})})]})}e.s(["default",()=>s])}]);