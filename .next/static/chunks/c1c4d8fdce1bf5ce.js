(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,82594,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(22016);function a(){let[e,a]=(0,r.useState)([]),[d,l]=(0,r.useState)(!0),[n,o]=(0,r.useState)({type:"",status:"",search:""});(0,r.useEffect)(()=>{i()},[n]);let i=async()=>{try{l(!0);let e=localStorage.getItem("accessToken"),t=new URLSearchParams;n.type&&t.append("type",n.type),n.status&&t.append("status",n.status),n.search&&t.append("search",n.search);let r=await fetch(`/api/v1/assets?${t.toString()}`,{headers:e?{Authorization:`Bearer ${e}`}:{}}),s=await r.json();s.success&&a(s.data.assets)}catch(e){console.error("Failed to load assets:",e)}finally{l(!1)}},c=async()=>{try{let e=localStorage.getItem("accessToken"),t=new URLSearchParams;n.type&&t.append("type",n.type),n.status&&t.append("status",n.status),n.search&&t.append("search",n.search),t.append("export","csv");let r=await fetch(`/api/v1/assets?${t.toString()}`,{headers:e?{Authorization:`Bearer ${e}`}:{}}),s=await r.blob(),a=window.URL.createObjectURL(s),d=document.createElement("a");d.href=a,d.download=`assets-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(d),d.click(),window.URL.revokeObjectURL(a),document.body.removeChild(d)}catch(e){console.error("Failed to export assets:",e)}};return(0,t.jsxs)("div",{style:{padding:"2rem",maxWidth:"1400px",margin:"0 auto"},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[(0,t.jsx)("h1",{style:{margin:0},children:"Assets (CMDB)"}),(0,t.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,t.jsx)("button",{onClick:c,style:{padding:"0.5rem 1rem",backgroundColor:"var(--accent-primary)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Export CSV"}),(0,t.jsx)(s.default,{href:"/assets/new",style:{padding:"0.5rem 1rem",backgroundColor:"var(--accent-primary)",color:"white",textDecoration:"none",borderRadius:"6px"},children:"New Asset"})]})]}),(0,t.jsxs)("div",{style:{marginBottom:"2rem",display:"flex",gap:"1rem",flexWrap:"wrap"},children:[(0,t.jsx)("input",{type:"text",placeholder:"Search assets...",value:n.search,onChange:e=>o({...n,search:e.target.value}),style:{padding:"0.5rem",border:"1px solid var(--border-color)",borderRadius:"6px",flex:1,minWidth:"200px"}}),(0,t.jsxs)("select",{value:n.type,onChange:e=>o({...n,type:e.target.value}),style:{padding:"0.5rem",border:"1px solid var(--border-color)",borderRadius:"6px"},children:[(0,t.jsx)("option",{value:"",children:"All Types"}),(0,t.jsx)("option",{value:"HARDWARE",children:"Hardware"}),(0,t.jsx)("option",{value:"SOFTWARE",children:"Software"}),(0,t.jsx)("option",{value:"NETWORK_DEVICE",children:"Network Device"}),(0,t.jsx)("option",{value:"CLOUD_RESOURCE",children:"Cloud Resource"})]}),(0,t.jsxs)("select",{value:n.status,onChange:e=>o({...n,status:e.target.value}),style:{padding:"0.5rem",border:"1px solid var(--border-color)",borderRadius:"6px"},children:[(0,t.jsx)("option",{value:"",children:"All Statuses"}),(0,t.jsx)("option",{value:"ACTIVE",children:"Active"}),(0,t.jsx)("option",{value:"INACTIVE",children:"Inactive"}),(0,t.jsx)("option",{value:"RETIRED",children:"Retired"}),(0,t.jsx)("option",{value:"MAINTENANCE",children:"Maintenance"})]})]}),d?(0,t.jsx)("div",{children:"Loading assets..."}):(0,t.jsx)("div",{style:{border:"1px solid var(--border-color)",borderRadius:"8px",overflow:"hidden"},children:(0,t.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{style:{backgroundColor:"var(--bg-secondary)",borderBottom:"1px solid var(--border-color)"},children:[(0,t.jsx)("th",{style:{padding:"1rem",textAlign:"left"},children:"Asset Number"}),(0,t.jsx)("th",{style:{padding:"1rem",textAlign:"left"},children:"Name"}),(0,t.jsx)("th",{style:{padding:"1rem",textAlign:"left"},children:"Type"}),(0,t.jsx)("th",{style:{padding:"1rem",textAlign:"left"},children:"Status"}),(0,t.jsx)("th",{style:{padding:"1rem",textAlign:"left"},children:"Assigned To"}),(0,t.jsx)("th",{style:{padding:"1rem",textAlign:"left"},children:"Actions"})]})}),(0,t.jsx)("tbody",{children:0===e.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:6,style:{padding:"2rem",textAlign:"center",color:"var(--text-secondary)"},children:"No assets found"})}):e.map(e=>(0,t.jsxs)("tr",{style:{borderBottom:"1px solid var(--border-color)"},children:[(0,t.jsx)("td",{style:{padding:"1rem"},children:e.assetNumber}),(0,t.jsx)("td",{style:{padding:"1rem"},children:e.name}),(0,t.jsx)("td",{style:{padding:"1rem"},children:e.customAssetType?.name||e.type||"N/A"}),(0,t.jsx)("td",{style:{padding:"1rem"},children:e.status}),(0,t.jsx)("td",{style:{padding:"1rem"},children:e.assignedTo?`${e.assignedTo.firstName||""} ${e.assignedTo.lastName||""}`.trim()||e.assignedTo.email:"Unassigned"}),(0,t.jsx)("td",{style:{padding:"1rem"},children:(0,t.jsx)(s.default,{href:`/assets/${e.id}`,style:{color:"var(--accent-primary)",textDecoration:"none"},children:"View"})})]},e.id))})]})})]})}e.s(["default",()=>a])}]);