(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,53110,e=>{"use strict";var r=e.i(43476),t=e.i(71645),l=e.i(22016);function i(){let[e,i]=(0,t.useState)([]),[s,d]=(0,t.useState)(!0),[a,n]=(0,t.useState)({type:"",status:"",priority:"",search:""});(0,t.useEffect)(()=>{o()},[a]);let o=async()=>{try{d(!0);let e=localStorage.getItem("accessToken"),r=new URLSearchParams;a.type&&r.append("type",a.type),a.status&&r.append("status",a.status),a.priority&&r.append("priority",a.priority),a.search&&r.append("search",a.search);let t=await fetch(`/api/v1/changes?${r.toString()}`,{headers:e?{Authorization:`Bearer ${e}`}:{}}),l=await t.json();l.success&&i(l.data.changeRequests)}catch(e){console.error("Failed to load change requests:",e)}finally{d(!1)}};return(0,r.jsxs)("div",{style:{padding:"2rem",maxWidth:"1400px",margin:"0 auto"},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[(0,r.jsx)("h1",{style:{margin:0},children:"Change Management"}),(0,r.jsx)(l.default,{href:"/changes/new",style:{padding:"0.5rem 1rem",backgroundColor:"var(--accent-primary)",color:"white",textDecoration:"none",borderRadius:"6px"},children:"New Change Request"})]}),(0,r.jsxs)("div",{style:{marginBottom:"2rem",display:"flex",gap:"1rem",flexWrap:"wrap"},children:[(0,r.jsx)("input",{type:"text",placeholder:"Search change requests...",value:a.search,onChange:e=>n({...a,search:e.target.value}),style:{padding:"0.5rem",border:"1px solid var(--border-color)",borderRadius:"6px",flex:1,minWidth:"200px"}}),(0,r.jsxs)("select",{value:a.type,onChange:e=>n({...a,type:e.target.value}),style:{padding:"0.5rem",border:"1px solid var(--border-color)",borderRadius:"6px"},children:[(0,r.jsx)("option",{value:"",children:"All Types"}),(0,r.jsx)("option",{value:"STANDARD",children:"Standard"}),(0,r.jsx)("option",{value:"NORMAL",children:"Normal"}),(0,r.jsx)("option",{value:"EMERGENCY",children:"Emergency"})]}),(0,r.jsxs)("select",{value:a.status,onChange:e=>n({...a,status:e.target.value}),style:{padding:"0.5rem",border:"1px solid var(--border-color)",borderRadius:"6px"},children:[(0,r.jsx)("option",{value:"",children:"All Statuses"}),(0,r.jsx)("option",{value:"DRAFT",children:"Draft"}),(0,r.jsx)("option",{value:"SUBMITTED",children:"Submitted"}),(0,r.jsx)("option",{value:"IN_REVIEW",children:"In Review"}),(0,r.jsx)("option",{value:"APPROVED",children:"Approved"}),(0,r.jsx)("option",{value:"REJECTED",children:"Rejected"}),(0,r.jsx)("option",{value:"IMPLEMENTED",children:"Implemented"}),(0,r.jsx)("option",{value:"CLOSED",children:"Closed"})]}),(0,r.jsxs)("select",{value:a.priority,onChange:e=>n({...a,priority:e.target.value}),style:{padding:"0.5rem",border:"1px solid var(--border-color)",borderRadius:"6px"},children:[(0,r.jsx)("option",{value:"",children:"All Priorities"}),(0,r.jsx)("option",{value:"LOW",children:"Low"}),(0,r.jsx)("option",{value:"MEDIUM",children:"Medium"}),(0,r.jsx)("option",{value:"HIGH",children:"High"}),(0,r.jsx)("option",{value:"CRITICAL",children:"Critical"})]})]}),s?(0,r.jsx)("div",{children:"Loading change requests..."}):(0,r.jsx)("div",{style:{border:"1px solid var(--border-color)",borderRadius:"8px",overflow:"hidden"},children:(0,r.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{style:{backgroundColor:"var(--bg-secondary)",borderBottom:"1px solid var(--border-color)"},children:[(0,r.jsx)("th",{style:{padding:"1rem",textAlign:"left"},children:"Change Number"}),(0,r.jsx)("th",{style:{padding:"1rem",textAlign:"left"},children:"Title"}),(0,r.jsx)("th",{style:{padding:"1rem",textAlign:"left"},children:"Type"}),(0,r.jsx)("th",{style:{padding:"1rem",textAlign:"left"},children:"Status"}),(0,r.jsx)("th",{style:{padding:"1rem",textAlign:"left"},children:"Priority"}),(0,r.jsx)("th",{style:{padding:"1rem",textAlign:"left"},children:"Requester"}),(0,r.jsx)("th",{style:{padding:"1rem",textAlign:"left"},children:"Actions"})]})}),(0,r.jsx)("tbody",{children:0===e.length?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:7,style:{padding:"2rem",textAlign:"center",color:"var(--text-secondary)"},children:"No change requests found"})}):e.map(e=>(0,r.jsxs)("tr",{style:{borderBottom:"1px solid var(--border-color)"},children:[(0,r.jsx)("td",{style:{padding:"1rem"},children:e.changeNumber}),(0,r.jsx)("td",{style:{padding:"1rem"},children:e.title}),(0,r.jsx)("td",{style:{padding:"1rem"},children:e.type}),(0,r.jsx)("td",{style:{padding:"1rem"},children:e.status}),(0,r.jsx)("td",{style:{padding:"1rem"},children:e.priority}),(0,r.jsx)("td",{style:{padding:"1rem"},children:`${e.requester.firstName||""} ${e.requester.lastName||""}`.trim()||e.requester.email}),(0,r.jsx)("td",{style:{padding:"1rem"},children:(0,r.jsx)(l.default,{href:`/changes/${e.id}`,style:{color:"var(--accent-primary)",textDecoration:"none"},children:"View"})})]},e.id))})]})})]})}e.s(["default",()=>i])}]);