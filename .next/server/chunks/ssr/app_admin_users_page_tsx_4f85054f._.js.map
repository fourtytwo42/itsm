{"version":3,"sources":["../../../../app/admin/users/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { useRouter } from 'next/navigation'\nimport Link from 'next/link'\nimport { RoleName } from '@prisma/client'\nimport { ChevronUpIcon, ChevronDownIcon } from '@heroicons/react/24/outline'\nimport OrganizationContext from '@/components/OrganizationContext'\n\ninterface User {\n  id: string\n  email: string\n  firstName?: string\n  lastName?: string\n  avatar?: string\n  isActive: boolean\n  emailVerified: boolean\n  role: RoleName // Single role instead of array\n  createdAt: string\n  updatedAt: string\n  tenantAssignments?: TenantAssignment[] // Optional: tenant assignments for display\n}\n\ninterface Tenant {\n  id: string\n  name: string\n  slug: string\n  isActive: boolean\n}\n\ninterface TenantAssignment {\n  id: string\n  tenantId: string\n  tenant: Tenant\n}\n\nexport default function UsersPage() {\n  const router = useRouter()\n  const [users, setUsers] = useState<User[]>([])\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState('')\n  const [showCreateModal, setShowCreateModal] = useState(false)\n  const [showEditModal, setShowEditModal] = useState(false)\n  const [showTenantModal, setShowTenantModal] = useState(false)\n  const [selectedUser, setSelectedUser] = useState<User | null>(null)\n  const [tenants, setTenants] = useState<Tenant[]>([])\n  const [userTenantAssignments, setUserTenantAssignments] = useState<TenantAssignment[]>([])\n  const [selectedTenantIds, setSelectedTenantIds] = useState<string[]>([])\n  const [loadingTenants, setLoadingTenants] = useState(false)\n  const [savingTenants, setSavingTenants] = useState(false)\n  const [userTenantMap, setUserTenantMap] = useState<Record<string, TenantAssignment[]>>({})\n  const [filters, setFilters] = useState({\n    search: '',\n    role: '',\n    isActive: '',\n    tenantId: '',\n  })\n  const [sortField, setSortField] = useState<string>('createdAt')\n  const [sortOrder, setSortOrder] = useState<'asc' | 'desc'>('desc')\n\n  // Form state\n  const [formData, setFormData] = useState({\n    email: '',\n    password: '',\n    firstName: '',\n    lastName: '',\n  })\n\n  useEffect(() => {\n    loadUsers()\n    loadTenants()\n  }, [filters, sortField, sortOrder])\n\n  // Load tenant assignments for all users (for display in table)\n  useEffect(() => {\n    if (users.length > 0) {\n      loadAllUserTenantAssignments()\n    }\n  }, [users])\n\n  const loadUsers = async () => {\n    try {\n      setLoading(true)\n      const token = localStorage.getItem('accessToken')\n      const params = new URLSearchParams()\n      if (filters.search) params.append('search', filters.search)\n      if (filters.role) params.append('role', filters.role)\n      if (filters.isActive !== '') params.append('isActive', filters.isActive)\n      if (filters.tenantId) params.append('tenantId', filters.tenantId)\n      params.append('sort', sortField)\n      params.append('order', sortOrder)\n\n      const response = await fetch(`/api/v1/admin/users?${params.toString()}`, {\n        headers: token ? { Authorization: `Bearer ${token}` } : {},\n      })\n\n      const data = await response.json()\n\n      if (data.success) {\n        // Convert users with roles array to single role\n        const usersWithSingleRole = data.data.users.map((user: any) => ({\n          ...user,\n          role: user.roles && user.roles.length > 0 ? user.roles[0] : RoleName.END_USER,\n        }))\n        setUsers(usersWithSingleRole)\n      } else {\n        setError(data.error?.message || 'Failed to load users')\n      }\n    } catch (err) {\n      setError('An unexpected error occurred')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleCreate = async (e: React.FormEvent) => {\n    e.preventDefault()\n    try {\n      const token = localStorage.getItem('accessToken')\n      const response = await fetch('/api/v1/admin/users', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify({\n          ...formData,\n          roles: [RoleName.END_USER], // Default role for new users\n          isActive: true,\n          emailVerified: false,\n        }),\n      })\n\n      const data = await response.json()\n\n      if (data.success) {\n        setShowCreateModal(false)\n        setFormData({\n          email: '',\n          password: '',\n          firstName: '',\n          lastName: '',\n        })\n        loadUsers()\n      } else {\n        setError(data.error?.message || 'Failed to create user')\n      }\n    } catch (err) {\n      setError('An unexpected error occurred')\n    }\n  }\n\n  const handleUpdate = async (e: React.FormEvent) => {\n    e.preventDefault()\n    if (!selectedUser) return\n\n    try {\n      const token = localStorage.getItem('accessToken')\n      const updateData: any = { ...formData }\n      if (!updateData.password) {\n        delete updateData.password\n      }\n\n      // Update user data\n      const response = await fetch(`/api/v1/admin/users/${selectedUser.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify(updateData),\n      })\n\n      const data = await response.json()\n\n      if (!data.success) {\n        setError(data.error?.message || 'Failed to update user')\n        return\n      }\n\n      setShowEditModal(false)\n      setSelectedUser(null)\n      loadUsers()\n    } catch (err) {\n      setError('An unexpected error occurred')\n    }\n  }\n\n  const handleRoleChange = async (userId: string, newRole: RoleName) => {\n    try {\n      const token = localStorage.getItem('accessToken')\n      const response = await fetch(`/api/v1/admin/users/${userId}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify({ roles: [newRole] }),\n      })\n\n      const data = await response.json()\n\n      if (data.success) {\n        loadUsers()\n      } else {\n        setError(data.error?.message || 'Failed to update user role')\n      }\n    } catch (err) {\n      setError('An unexpected error occurred')\n    }\n  }\n\n  const handleDelete = async (id: string) => {\n    if (!confirm('Are you sure you want to delete this user?')) return\n\n    try {\n      const token = localStorage.getItem('accessToken')\n      const response = await fetch(`/api/v1/admin/users/${id}`, {\n        method: 'DELETE',\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n\n      const data = await response.json()\n\n      if (data.success) {\n        loadUsers()\n      } else {\n        setError(data.error?.message || 'Failed to delete user')\n      }\n    } catch (err) {\n      setError('An unexpected error occurred')\n    }\n  }\n\n  const handleToggleActive = async (id: string, currentStatus: boolean) => {\n    try {\n      const token = localStorage.getItem('accessToken')\n      const response = await fetch(`/api/v1/admin/users/${id}/activate?action=${currentStatus ? 'deactivate' : 'activate'}`, {\n        method: 'POST',\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n\n      const data = await response.json()\n\n      if (data.success) {\n        loadUsers()\n      } else {\n        setError(data.error?.message || 'Failed to update user status')\n      }\n    } catch (err) {\n      setError('An unexpected error occurred')\n    }\n  }\n\n  const loadTenants = async () => {\n    try {\n      setLoadingTenants(true)\n      const token = localStorage.getItem('accessToken')\n      const response = await fetch('/api/v1/admin/tenants', {\n        headers: token ? { Authorization: `Bearer ${token}` } : {},\n      })\n      const data = await response.json()\n      if (data.success) {\n        setTenants(data.data.tenants || data.data || [])\n      }\n    } catch (err) {\n      console.error('Failed to load tenants:', err)\n    } finally {\n      setLoadingTenants(false)\n    }\n  }\n\n  const loadAllUserTenantAssignments = async () => {\n    try {\n      const token = localStorage.getItem('accessToken')\n      const map: Record<string, TenantAssignment[]> = {}\n      \n      // Load assignments for users who can have tenant assignments (not ADMIN)\n      const usersToLoad = users.filter(\n        (u) => u.role !== 'ADMIN' && (u.role === 'AGENT' || u.role === 'IT_MANAGER' || u.role === 'END_USER')\n      )\n\n      await Promise.all(\n        usersToLoad.map(async (user) => {\n          try {\n            const response = await fetch(`/api/v1/admin/users/${user.id}/tenants`, {\n              headers: token ? { Authorization: `Bearer ${token}` } : {},\n            })\n            const data = await response.json()\n            if (data.success) {\n              map[user.id] = data.data\n            }\n          } catch (err) {\n            // Silently fail for individual users\n          }\n        })\n      )\n\n      setUserTenantMap(map)\n    } catch (err) {\n      // Silently fail\n    }\n  }\n\n  const loadUserTenantAssignments = async (userId: string) => {\n    try {\n      const token = localStorage.getItem('accessToken')\n      const response = await fetch(`/api/v1/admin/users/${userId}/tenants`, {\n        headers: token ? { Authorization: `Bearer ${token}` } : {},\n      })\n      const data = await response.json()\n      if (data.success) {\n        setUserTenantAssignments(data.data)\n        setSelectedTenantIds(data.data.map((a: TenantAssignment) => a.tenantId))\n      }\n    } catch (err) {\n      console.error('Failed to load tenant assignments:', err)\n    }\n  }\n\n  const openTenantModal = async (user: User) => {\n    setSelectedUser(user)\n    setSelectedTenantIds([])\n    setUserTenantAssignments([])\n    \n    // Load tenants and user's tenant assignments\n    await Promise.all([\n      loadTenants(),\n      loadUserTenantAssignments(user.id),\n    ])\n    \n    setShowTenantModal(true)\n  }\n\n  // Helper to check if user has a specific role\n  const hasRole = (user: User, role: RoleName) => {\n    return user.role === role\n  }\n\n  const handleSort = (field: string) => {\n    if (sortField === field) {\n      setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc')\n    } else {\n      setSortField(field)\n      setSortOrder('desc')\n    }\n  }\n\n  const SortableHeader = ({ field, label, align = 'left' }: { field: string; label: string; align?: 'left' | 'center' | 'right' }) => (\n    <th\n      style={{\n        padding: '0.875rem 1rem',\n        textAlign: align,\n        fontWeight: 600,\n        fontSize: '0.875rem',\n        color: 'var(--text-secondary)',\n        cursor: 'pointer',\n        userSelect: 'none',\n      }}\n      onClick={() => handleSort(field)}\n    >\n      <div style={{ display: 'flex', alignItems: 'center', gap: '0.25rem', justifyContent: align === 'right' ? 'flex-end' : align === 'center' ? 'center' : 'flex-start' }}>\n        {label}\n        {sortField === field && (\n          sortOrder === 'asc' ? (\n            <ChevronUpIcon style={{ width: '0.875rem', height: '0.875rem' }} />\n          ) : (\n            <ChevronDownIcon style={{ width: '0.875rem', height: '0.875rem' }} />\n          )\n        )}\n      </div>\n    </th>\n  )\n\n  const handleSaveTenantAssignments = async () => {\n    if (!selectedUser) return\n\n    setSavingTenants(true)\n    setError('')\n\n    try {\n      const token = localStorage.getItem('accessToken')\n      const response = await fetch(`/api/v1/admin/users/${selectedUser.id}/tenants`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify({ tenantIds: selectedTenantIds }),\n      })\n\n      const data = await response.json()\n\n      if (data.success) {\n        setShowTenantModal(false)\n        setSelectedUser(null)\n        setSelectedTenantIds([])\n        setUserTenantAssignments([])\n        setError('')\n        // Refresh user list and tenant assignments\n        await loadUsers()\n        await loadAllUserTenantAssignments()\n      } else {\n        setError(data.error?.message || 'Failed to update tenant assignments')\n      }\n    } catch (err) {\n      setError('An unexpected error occurred')\n    } finally {\n      setSavingTenants(false)\n    }\n  }\n\n  const openEditModal = (user: User) => {\n    setSelectedUser(user)\n    setFormData({\n      email: user.email,\n      password: '',\n      firstName: user.firstName || '',\n      lastName: user.lastName || '',\n    })\n    setShowEditModal(true)\n  }\n\n  if (loading) {\n    return <div style={{ padding: '2rem' }}>Loading users...</div>\n  }\n\n  return (\n    <div style={{ padding: '2rem', maxWidth: '1400px', margin: '0 auto' }}>\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '2rem' }}>\n        <h1 style={{ margin: 0 }}>User Management</h1>\n        <button\n          onClick={() => {\n            setFormData({\n              email: '',\n              password: '',\n              firstName: '',\n              lastName: '',\n            })\n            setShowCreateModal(true)\n          }}\n          className=\"btn btn-primary\"\n        >\n          Create User\n        </button>\n      </div>\n\n      {error && (\n        <div style={{\n          padding: '0.75rem',\n          backgroundColor: 'rgba(239, 68, 68, 0.1)',\n          border: '1px solid var(--error)',\n          borderRadius: '0.5rem',\n          marginBottom: '1rem',\n          color: 'var(--error)',\n        }}>\n          {error}\n        </div>\n      )}\n\n      {/* Filters */}\n      <div className=\"card\" style={{ padding: '1rem', marginBottom: '1.5rem' }}>\n        <div style={{ display: 'flex', gap: '0.75rem', flexWrap: 'wrap', alignItems: 'center' }}>\n          <input\n            type=\"text\"\n            placeholder=\"Search by email, name...\"\n            value={filters.search}\n            onChange={(e) => setFilters({ ...filters, search: e.target.value })}\n            className=\"input\"\n            style={{ flex: 1, minWidth: '250px', maxWidth: '400px' }}\n          />\n          <select\n            value={filters.role}\n            onChange={(e) => setFilters({ ...filters, role: e.target.value })}\n            className=\"input\"\n            style={{ minWidth: '120px', maxWidth: '150px' }}\n          >\n            <option value=\"\">All Roles</option>\n            {Object.values(RoleName).filter(r => r !== RoleName.GLOBAL_ADMIN).map((role) => (\n              <option key={role} value={role}>\n                {role.replace('_', ' ')}\n              </option>\n            ))}\n          </select>\n          <select\n            value={filters.isActive}\n            onChange={(e) => setFilters({ ...filters, isActive: e.target.value })}\n            className=\"input\"\n            style={{ minWidth: '120px', maxWidth: '150px' }}\n          >\n            <option value=\"\">All Status</option>\n            <option value=\"true\">Active</option>\n            <option value=\"false\">Inactive</option>\n          </select>\n          <select\n            value={filters.tenantId}\n            onChange={(e) => setFilters({ ...filters, tenantId: e.target.value })}\n            className=\"input\"\n            style={{ minWidth: '150px', maxWidth: '200px' }}\n          >\n            <option value=\"\">All Tenants</option>\n            {tenants.map((tenant) => (\n              <option key={tenant.id} value={tenant.id}>\n                {tenant.name}\n              </option>\n            ))}\n          </select>\n        </div>\n      </div>\n\n      {/* Users Table */}\n      <div className=\"card\" style={{ overflowX: 'auto', padding: 0 }}>\n        {users.length === 0 ? (\n          <div style={{ padding: '3rem', textAlign: 'center', color: 'var(--text-secondary)' }}>\n            <p style={{ margin: 0, fontSize: '1rem' }}>No users found</p>\n            <p style={{ margin: '0.5rem 0 0 0', fontSize: '0.875rem' }}>Try adjusting your filters or create a new user</p>\n          </div>\n        ) : (\n          <table style={{ width: '100%', borderCollapse: 'collapse' }}>\n            <thead>\n              <tr style={{ \n                borderBottom: '2px solid var(--border-color)',\n                backgroundColor: 'var(--bg-secondary)',\n              }}>\n                <SortableHeader field=\"email\" label=\"Email\" />\n                <SortableHeader field=\"firstName\" label=\"Name\" />\n                <SortableHeader field=\"role\" label=\"Role\" />\n                <th style={{ padding: '0.875rem 1rem', textAlign: 'left', fontWeight: 600, fontSize: '0.875rem', color: 'var(--text-secondary)' }}>Tenants</th>\n                <SortableHeader field=\"isActive\" label=\"Status\" />\n                <SortableHeader field=\"emailVerified\" label=\"Verified\" align=\"center\" />\n                <SortableHeader field=\"createdAt\" label=\"Created\" />\n                <th style={{ padding: '0.875rem 1rem', textAlign: 'right', fontWeight: 600, fontSize: '0.875rem', color: 'var(--text-secondary)' }}>Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              {users.map((user, index) => (\n                <tr \n                  key={user.id} \n                  style={{ \n                    borderBottom: '1px solid var(--border-color)',\n                    transition: 'background-color 0.15s ease',\n                  }}\n                  onMouseEnter={(e) => {\n                    e.currentTarget.style.backgroundColor = 'var(--bg-secondary)'\n                  }}\n                  onMouseLeave={(e) => {\n                    e.currentTarget.style.backgroundColor = 'transparent'\n                  }}\n                >\n                  <td style={{ padding: '1rem', fontSize: '0.875rem' }}>\n                    <div style={{ fontWeight: 500, color: 'var(--text-primary)' }}>{user.email}</div>\n                  </td>\n                  <td style={{ padding: '1rem', fontSize: '0.875rem', color: 'var(--text-primary)' }}>\n                    {user.firstName || user.lastName\n                      ? `${user.firstName || ''} ${user.lastName || ''}`.trim()\n                      : <span style={{ color: 'var(--text-secondary)', fontStyle: 'italic' }}>-</span>}\n                  </td>\n                  <td style={{ padding: '1rem' }}>\n                    {user.role === RoleName.ADMIN ? (\n                      <span\n                        style={{\n                          padding: '0.25rem 0.5rem',\n                          backgroundColor: 'var(--bg-tertiary)',\n                          borderRadius: '4px',\n                          fontSize: '0.75rem',\n                          fontWeight: 500,\n                          color: 'var(--text-primary)',\n                        }}\n                      >\n                        {user.role.replace('_', ' ')}\n                      </span>\n                    ) : (\n                      <select\n                        value={user.role}\n                        onChange={(e) => handleRoleChange(user.id, e.target.value as RoleName)}\n                        style={{\n                          padding: '0.375rem 0.625rem',\n                          backgroundColor: 'var(--bg-primary)',\n                          border: '1px solid var(--border-color)',\n                          borderRadius: '4px',\n                          color: 'var(--text-primary)',\n                          fontSize: '0.8125rem',\n                          cursor: 'pointer',\n                          minWidth: '100px',\n                          maxWidth: '140px',\n                          width: 'auto',\n                        }}\n                      >\n                        {Object.values(RoleName).filter(r => r !== RoleName.GLOBAL_ADMIN).map((role) => (\n                          <option key={role} value={role}>\n                            {role.replace('_', ' ')}\n                          </option>\n                        ))}\n                      </select>\n                    )}\n                  </td>\n                  <td style={{ padding: '1rem', maxWidth: '200px' }}>\n                    {hasRole(user, 'ADMIN') ? (\n                      <span style={{ fontSize: '0.8125rem', color: 'var(--text-secondary)' }}>All tenants</span>\n                    ) : hasRole(user, 'AGENT') || hasRole(user, 'IT_MANAGER') || hasRole(user, 'END_USER') ? (\n                      <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>\n                        {userTenantMap[user.id] && userTenantMap[user.id].length > 0 ? (\n                          <>\n                            <div style={{ display: 'flex', flexWrap: 'wrap', gap: '0.25rem' }}>\n                              {userTenantMap[user.id].slice(0, 2).map((assignment) => (\n                                <span\n                                  key={assignment.id}\n                                  style={{\n                                    padding: '0.1875rem 0.5rem',\n                                    backgroundColor: 'var(--bg-tertiary)',\n                                    borderRadius: '4px',\n                                    fontSize: '0.75rem',\n                                    color: 'var(--text-primary)',\n                                    whiteSpace: 'nowrap',\n                                  }}\n                                >\n                                  {assignment.tenant.name}\n                                </span>\n                              ))}\n                              {userTenantMap[user.id].length > 2 && (\n                                <span style={{ fontSize: '0.75rem', color: 'var(--text-secondary)', alignSelf: 'center' }}>\n                                  +{userTenantMap[user.id].length - 2}\n                                </span>\n                              )}\n                            </div>\n                            <button\n                              onClick={() => openTenantModal(user)}\n                              style={{\n                                padding: '0.25rem 0.625rem',\n                                backgroundColor: 'transparent',\n                                border: '1px solid var(--border-color)',\n                                borderRadius: '4px',\n                                cursor: 'pointer',\n                                fontSize: '0.75rem',\n                                color: 'var(--accent-primary)',\n                                alignSelf: 'flex-start',\n                                transition: 'all 0.15s ease',\n                              }}\n                              onMouseEnter={(e) => {\n                                e.currentTarget.style.backgroundColor = 'var(--bg-tertiary)'\n                              }}\n                              onMouseLeave={(e) => {\n                                e.currentTarget.style.backgroundColor = 'transparent'\n                              }}\n                            >\n                              Manage\n                            </button>\n                          </>\n                        ) : (\n                          <>\n                            <span style={{ fontSize: '0.75rem', color: 'var(--text-secondary)', fontStyle: 'italic' }}>\n                              No tenants\n                            </span>\n                            <button\n                              onClick={() => openTenantModal(user)}\n                              style={{\n                                padding: '0.25rem 0.625rem',\n                                backgroundColor: 'transparent',\n                                border: '1px solid var(--border-color)',\n                                borderRadius: '4px',\n                                cursor: 'pointer',\n                                fontSize: '0.75rem',\n                                color: 'var(--accent-primary)',\n                                alignSelf: 'flex-start',\n                                transition: 'all 0.15s ease',\n                              }}\n                              onMouseEnter={(e) => {\n                                e.currentTarget.style.backgroundColor = 'var(--bg-tertiary)'\n                              }}\n                              onMouseLeave={(e) => {\n                                e.currentTarget.style.backgroundColor = 'transparent'\n                              }}\n                            >\n                              Assign\n                            </button>\n                          </>\n                        )}\n                      </div>\n                    ) : (\n                      <span style={{ fontSize: '0.8125rem', color: 'var(--text-secondary)' }}>-</span>\n                    )}\n                  </td>\n                  <td style={{ padding: '1rem' }}>\n                    <span\n                      style={{\n                        padding: '0.25rem 0.625rem',\n                        backgroundColor: user.isActive ? 'rgba(34, 197, 94, 0.15)' : 'rgba(239, 68, 68, 0.15)',\n                        color: user.isActive ? 'rgb(34, 197, 94)' : 'rgb(239, 68, 68)',\n                        borderRadius: '4px',\n                        fontSize: '0.75rem',\n                        fontWeight: 500,\n                        display: 'inline-block',\n                      }}\n                    >\n                      {user.isActive ? 'Active' : 'Inactive'}\n                    </span>\n                  </td>\n                  <td style={{ padding: '1rem', textAlign: 'center' }}>\n                    <span\n                      style={{\n                        fontSize: '1rem',\n                        color: user.emailVerified ? 'rgb(34, 197, 94)' : 'var(--text-secondary)',\n                        fontWeight: user.emailVerified ? 600 : 400,\n                      }}\n                    >\n                      {user.emailVerified ? '✓' : '✗'}\n                    </span>\n                  </td>\n                  <td style={{ padding: '1rem', fontSize: '0.8125rem', color: 'var(--text-secondary)' }}>\n                    {new Date(user.createdAt).toLocaleDateString('en-US', { \n                      month: 'short', \n                      day: 'numeric', \n                      year: 'numeric' \n                    })}\n                  </td>\n                  <td style={{ padding: '1rem', textAlign: 'right' }}>\n                    <div style={{ display: 'flex', gap: '0.375rem', justifyContent: 'flex-end', flexWrap: 'wrap' }}>\n                      <Link\n                        href={`/admin/users/${user.id}`}\n                        className=\"btn btn-secondary\"\n                        style={{ \n                          padding: '0.375rem 0.75rem', \n                          fontSize: '0.8125rem',\n                          minWidth: 'auto',\n                          textDecoration: 'none',\n                        }}\n                        title=\"View user details\"\n                      >\n                        View\n                      </Link>\n                      <button\n                        onClick={() => openEditModal(user)}\n                        className=\"btn btn-secondary\"\n                        style={{ \n                          padding: '0.375rem 0.75rem', \n                          fontSize: '0.8125rem',\n                          minWidth: 'auto',\n                        }}\n                        title=\"Edit user\"\n                      >\n                        Edit\n                      </button>\n                      <button\n                        onClick={() => handleToggleActive(user.id, user.isActive)}\n                        className=\"btn btn-secondary\"\n                        style={{ \n                          padding: '0.375rem 0.75rem', \n                          fontSize: '0.8125rem',\n                          minWidth: 'auto',\n                        }}\n                        title={user.isActive ? 'Deactivate user' : 'Activate user'}\n                      >\n                        {user.isActive ? 'Deactivate' : 'Activate'}\n                      </button>\n                      <button\n                        onClick={() => handleDelete(user.id)}\n                        className=\"btn btn-secondary\"\n                        style={{ \n                          padding: '0.375rem 0.75rem', \n                          fontSize: '0.8125rem',\n                          minWidth: 'auto',\n                          color: 'var(--error)',\n                        }}\n                        title=\"Delete user\"\n                      >\n                        Delete\n                      </button>\n                    </div>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        )}\n      </div>\n\n      {/* Create Modal */}\n      {showCreateModal && (\n        <div style={{\n          position: 'fixed',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          backgroundColor: 'rgba(0, 0, 0, 0.5)',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          zIndex: 1000,\n        }}>\n          <div className=\"card\" style={{ width: '100%', maxWidth: '500px', maxHeight: '90vh', overflowY: 'auto' }}>\n            <h2 style={{ marginTop: 0 }}>Create User</h2>\n            <form onSubmit={handleCreate}>\n              <div style={{ marginBottom: '1rem' }}>\n                <label className=\"label\">Email *</label>\n                <input\n                  type=\"email\"\n                  className=\"input\"\n                  value={formData.email}\n                  onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n                  required\n                />\n              </div>\n              <div style={{ marginBottom: '1rem' }}>\n                <label className=\"label\">Password *</label>\n                <input\n                  type=\"password\"\n                  className=\"input\"\n                  value={formData.password}\n                  onChange={(e) => setFormData({ ...formData, password: e.target.value })}\n                  required\n                  minLength={8}\n                />\n              </div>\n              <div style={{ marginBottom: '1rem' }}>\n                <label className=\"label\">First Name</label>\n                <input\n                  type=\"text\"\n                  className=\"input\"\n                  value={formData.firstName}\n                  onChange={(e) => setFormData({ ...formData, firstName: e.target.value })}\n                />\n              </div>\n              <div style={{ marginBottom: '1rem' }}>\n                <label className=\"label\">Last Name</label>\n                <input\n                  type=\"text\"\n                  className=\"input\"\n                  value={formData.lastName}\n                  onChange={(e) => setFormData({ ...formData, lastName: e.target.value })}\n                />\n              </div>\n              <div style={{ display: 'flex', gap: '1rem', justifyContent: 'flex-end', marginTop: '1.5rem' }}>\n                <button\n                  type=\"button\"\n                  className=\"btn btn-secondary\"\n                  onClick={() => setShowCreateModal(false)}\n                >\n                  Cancel\n                </button>\n                <button type=\"submit\" className=\"btn btn-primary\">\n                  Create User\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {/* Edit Modal */}\n      {showEditModal && selectedUser && (\n        <div style={{\n          position: 'fixed',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          backgroundColor: 'rgba(0, 0, 0, 0.5)',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          zIndex: 1000,\n        }}>\n          <div className=\"card\" style={{ width: '100%', maxWidth: '500px', maxHeight: '90vh', overflowY: 'auto' }}>\n            <h2 style={{ marginTop: 0 }}>Edit User</h2>\n            <form onSubmit={handleUpdate}>\n              <div style={{ marginBottom: '1rem' }}>\n                <label className=\"label\">Email *</label>\n                <input\n                  type=\"email\"\n                  className=\"input\"\n                  value={formData.email}\n                  onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n                  required\n                />\n              </div>\n              <div style={{ marginBottom: '1rem' }}>\n                <label className=\"label\">Password (leave blank to keep current)</label>\n                <input\n                  type=\"password\"\n                  className=\"input\"\n                  value={formData.password}\n                  onChange={(e) => setFormData({ ...formData, password: e.target.value })}\n                  minLength={8}\n                />\n              </div>\n              <div style={{ marginBottom: '1rem' }}>\n                <label className=\"label\">First Name</label>\n                <input\n                  type=\"text\"\n                  className=\"input\"\n                  value={formData.firstName}\n                  onChange={(e) => setFormData({ ...formData, firstName: e.target.value })}\n                />\n              </div>\n              <div style={{ marginBottom: '1rem' }}>\n                <label className=\"label\">Last Name</label>\n                <input\n                  type=\"text\"\n                  className=\"input\"\n                  value={formData.lastName}\n                  onChange={(e) => setFormData({ ...formData, lastName: e.target.value })}\n                />\n              </div>\n              <div style={{ display: 'flex', gap: '1rem', justifyContent: 'flex-end', marginTop: '1.5rem' }}>\n                <button\n                  type=\"button\"\n                  className=\"btn btn-secondary\"\n                  onClick={() => {\n                    setShowEditModal(false)\n                    setSelectedUser(null)\n                  }}\n                >\n                  Cancel\n                </button>\n                <button type=\"submit\" className=\"btn btn-primary\">\n                  Update User\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {/* Tenant Assignment Modal */}\n      {showTenantModal && selectedUser && (\n        <div style={{\n          position: 'fixed',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          backgroundColor: 'rgba(0, 0, 0, 0.5)',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          zIndex: 1000,\n        }}>\n          <div className=\"card\" style={{ width: '100%', maxWidth: '600px', maxHeight: '90vh', overflowY: 'auto' }}>\n            <h2 style={{ marginTop: 0 }}>Manage Tenant Assignments</h2>\n            <p style={{ color: 'var(--text-secondary)', marginBottom: '1.5rem' }}>\n              User: <strong>{selectedUser.email}</strong> ({selectedUser.role})\n            </p>\n\n            {error && (\n              <div style={{\n                padding: '0.75rem',\n                backgroundColor: 'rgba(239, 68, 68, 0.1)',\n                border: '1px solid var(--error)',\n                borderRadius: '0.5rem',\n                marginBottom: '1rem',\n                color: 'var(--error)',\n              }}>\n                {error}\n              </div>\n            )}\n\n            <div style={{ marginBottom: '1.5rem' }}>\n              <label className=\"label\" style={{ marginBottom: '0.75rem' }}>\n                Select Tenants\n                {hasRole(selectedUser, 'ADMIN') && (\n                  <span style={{ fontSize: '0.75rem', color: 'var(--text-secondary)', marginLeft: '0.5rem' }}>\n                    (Admin has access to all tenants, but you can still manage assignments)\n                  </span>\n                )}\n              </label>\n              {loadingTenants ? (\n                <div style={{ color: 'var(--text-secondary)' }}>Loading tenants...</div>\n              ) : tenants.length === 0 ? (\n                <div style={{ color: 'var(--text-secondary)' }}>No tenants available</div>\n              ) : (\n                <div style={{ \n                  display: 'flex', \n                  flexDirection: 'column', \n                  gap: '0.75rem', \n                  maxHeight: '400px', \n                  overflowY: 'auto',\n                  padding: '1rem',\n                  backgroundColor: 'var(--bg-secondary)',\n                  borderRadius: '8px',\n                }}>\n                  {tenants.map((tenant) => (\n                    <label \n                      key={tenant.id} \n                      style={{ \n                        display: 'flex', \n                        alignItems: 'center', \n                        gap: '0.75rem',\n                        padding: '0.75rem',\n                        backgroundColor: selectedTenantIds.includes(tenant.id) ? 'var(--bg-primary)' : 'transparent',\n                        borderRadius: '4px',\n                        cursor: 'pointer',\n                        border: selectedTenantIds.includes(tenant.id) ? '1px solid var(--accent-primary)' : '1px solid transparent',\n                      }}\n                    >\n                      <input\n                        type=\"checkbox\"\n                        checked={selectedTenantIds.includes(tenant.id)}\n                        onChange={(e) => {\n                          if (e.target.checked) {\n                            setSelectedTenantIds([...selectedTenantIds, tenant.id])\n                          } else {\n                            setSelectedTenantIds(selectedTenantIds.filter((id) => id !== tenant.id))\n                          }\n                        }}\n                        style={{ cursor: 'pointer' }}\n                      />\n                      <div style={{ flex: 1 }}>\n                        <span style={{ fontSize: '0.875rem', fontWeight: 500 }}>\n                          {tenant.name}\n                        </span>\n                        {!tenant.isActive && (\n                          <span style={{ fontSize: '0.75rem', color: 'var(--text-secondary)', marginLeft: '0.5rem' }}>\n                            (Inactive)\n                          </span>\n                        )}\n                        <div style={{ fontSize: '0.75rem', color: 'var(--text-secondary)', marginTop: '0.25rem' }}>\n                          {tenant.slug}\n                        </div>\n                      </div>\n                    </label>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            <div style={{ \n              padding: '1rem', \n              backgroundColor: 'var(--bg-secondary)', \n              borderRadius: '8px',\n              marginBottom: '1.5rem',\n            }}>\n              <div style={{ fontSize: '0.875rem', color: 'var(--text-secondary)' }}>\n                <strong>Selected:</strong> {selectedTenantIds.length} tenant{selectedTenantIds.length !== 1 ? 's' : ''}\n              </div>\n            </div>\n\n            <div style={{ display: 'flex', gap: '1rem', justifyContent: 'flex-end' }}>\n              <button\n                type=\"button\"\n                className=\"btn btn-secondary\"\n                onClick={() => {\n                  setShowTenantModal(false)\n                  setSelectedUser(null)\n                  setSelectedTenantIds([])\n                  setUserTenantAssignments([])\n                  setError('')\n                }}\n                disabled={savingTenants}\n              >\n                Cancel\n              </button>\n              <button \n                type=\"button\"\n                className=\"btn btn-primary\"\n                onClick={handleSaveTenantAssignments}\n                disabled={savingTenants}\n              >\n                {savingTenants ? 'Saving...' : 'Save Assignments'}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"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"}