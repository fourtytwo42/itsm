(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,94630,e=>{"use strict";var t=e.i(18050),r=e.i(71645),a=e.i(18566),s=e.i(18228),n=e.i(27217),l=e.i(44452),i=e.i(44735);function o(){(0,a.useRouter)();let[e,o]=(0,r.useState)([]),[d,c]=(0,r.useState)(!0),[m,u]=(0,r.useState)(""),[p,g]=(0,r.useState)(!1),[h,x]=(0,r.useState)(!1),[y,f]=(0,r.useState)(!1),[v,j]=(0,r.useState)(null),[b,N]=(0,r.useState)([]),[S,C]=(0,r.useState)([]),[A,w]=(0,r.useState)(!1),[k,I]=(0,r.useState)(!1),[T,R]=(0,r.useState)({}),[E,z]=(0,r.useState)(null),[B,W]=(0,r.useState)({search:"",role:"",isActive:"",tenantId:""}),[M,$]=(0,r.useState)("createdAt"),[D,L]=(0,r.useState)("desc"),[U,F]=(0,r.useState)({email:"",password:"",firstName:"",lastName:"",role:s.RoleName.AGENT});(0,r.useEffect)(()=>{let e=localStorage.getItem("user");e&&z(JSON.parse(e).id),G(),O()},[B,M,D]),(0,r.useEffect)(()=>{e.length>0&&P()},[e]);let G=async()=>{try{c(!0);let e=localStorage.getItem("accessToken"),t=new URLSearchParams;B.search&&t.append("search",B.search),B.role&&t.append("role",B.role),""!==B.isActive&&t.append("isActive",B.isActive),B.tenantId&&t.append("tenantId",B.tenantId),t.append("sort",M),t.append("order",D);let r=await fetch(`/api/v1/manager/agents?${t.toString()}`,{headers:e?{Authorization:`Bearer ${e}`}:{}}),a=await r.json();if(a.success){let e=(a.data?.users||a.data||[]).map(e=>({...e,role:e.roles&&e.roles.length>0?e.roles[0]:s.RoleName.END_USER}));o(e)}else u(a.error?.message||"Failed to load users")}catch(e){u("An unexpected error occurred")}finally{c(!1)}},O=async()=>{w(!0);try{let e=localStorage.getItem("accessToken"),t=await fetch("/api/v1/manager/tenants",{headers:e?{Authorization:`Bearer ${e}`}:{}}),r=await t.json();r.success?N(r.data.tenants||r.data||[]):console.error("Failed to load tenants:",r.error?.message)}catch(e){console.error("An unexpected error occurred while loading tenants:",e)}finally{w(!1)}},P=async()=>{let t=localStorage.getItem("accessToken"),r={},a=e.filter(e=>e.role!==s.RoleName.ADMIN&&(e.role===s.RoleName.AGENT||e.role===s.RoleName.IT_MANAGER||e.role===s.RoleName.END_USER));await Promise.all(a.map(async e=>{try{let a=e.role===s.RoleName.IT_MANAGER?`/api/v1/admin/users/${e.id}/tenants`:`/api/v1/manager/users/${e.id}/tenants`,n=await fetch(a,{headers:t?{Authorization:`Bearer ${t}`}:{}}),l=await n.json();l.success&&(r[e.id]=l.data)}catch(t){console.error(`Failed to load tenant assignments for user ${e.id}:`,t)}})),R(r)},_=async e=>{e.preventDefault();try{let e=localStorage.getItem("accessToken"),t=await fetch("/api/v1/manager/agents",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({email:U.email,password:U.password,firstName:U.firstName,lastName:U.lastName,roles:[U.role]})}),r=await t.json();r.success?(g(!1),F({email:"",password:"",firstName:"",lastName:"",role:s.RoleName.AGENT}),G()):u(r.error?.message||"Failed to create user")}catch(e){u("An unexpected error occurred")}},J=async e=>{if(e.preventDefault(),v)try{let e=localStorage.getItem("accessToken"),t={email:U.email,firstName:U.firstName,lastName:U.lastName};U.password&&(t.password=U.password);let r=await fetch(`/api/v1/manager/agents/${v.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(t)}),a=await r.json();a.success?(x(!1),j(null),G()):u(a.error?.message||"Failed to update user")}catch(e){u("An unexpected error occurred")}},V=async e=>{if(confirm("Are you sure you want to delete this user?"))try{let t=localStorage.getItem("accessToken"),r=await fetch(`/api/v1/manager/agents/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}}),a=await r.json();a.success?G():u(a.error?.message||"Failed to delete user")}catch(e){u("An unexpected error occurred")}},q=async(e,t)=>{try{let r=localStorage.getItem("accessToken"),a=await fetch(`/api/v1/manager/agents/${e}/disable`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({disabled:t})}),s=await a.json();s.success?G():u(s.error?.message||"Failed to update user status")}catch(e){u("An unexpected error occurred")}},H=({field:e,label:r,align:a="left"})=>(0,t.jsx)("th",{style:{padding:"0.875rem 1rem",textAlign:a,fontWeight:600,fontSize:"0.875rem",color:"var(--text-secondary)",cursor:"pointer",userSelect:"none"},onClick:()=>{M===e?L("asc"===D?"desc":"asc"):($(e),L("desc"))},children:(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",justifyContent:"right"===a?"flex-end":"center"===a?"center":"flex-start"},children:[r,M===e&&("asc"===D?(0,t.jsx)(l.ChevronUpIcon,{style:{width:"0.875rem",height:"0.875rem"}}):(0,t.jsx)(i.ChevronDownIcon,{style:{width:"0.875rem",height:"0.875rem"}}))]})}),X=e=>{j(e),C((T[e.id]||[]).map(e=>e.tenantId)),f(!0)},Y=async()=>{if(v){I(!0),u("");try{let e=localStorage.getItem("accessToken"),t=T[v.id]||[],r=new Set(t.map(e=>e.tenantId)),a=S.filter(e=>!r.has(e)),n=t.filter(e=>!S.includes(e.tenantId)),l=v.role===s.RoleName.IT_MANAGER?`/api/v1/admin/users/${v.id}/tenants`:`/api/v1/manager/users/${v.id}/tenants`;await Promise.all([...a.map(t=>fetch(l,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({tenantId:t})})),...n.map(t=>fetch(`${l}?assignmentId=${t.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}}))]),f(!1),j(null),C([]),P()}catch(e){u("Failed to update tenant assignments."),console.error("Error saving tenant assignments:",e)}finally{I(!1)}}},K=e=>e.role!==s.RoleName.ADMIN&&(!E||e.id!==E);return d?(0,t.jsx)("div",{style:{padding:"2rem"},children:"Loading users..."}):(0,t.jsxs)("div",{style:{padding:"2rem",maxWidth:"1400px",margin:"0 auto"},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[(0,t.jsx)("h1",{style:{margin:0},children:"Agents"}),(0,t.jsx)("button",{onClick:()=>{F({email:"",password:"",firstName:"",lastName:"",role:s.RoleName.AGENT}),g(!0)},className:"btn btn-primary",children:"Register User"})]}),m&&(0,t.jsx)("div",{style:{padding:"0.75rem",backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid var(--error)",borderRadius:"0.5rem",marginBottom:"1rem",color:"var(--error)"},children:m}),(0,t.jsx)("div",{className:"card",style:{padding:"1rem",marginBottom:"1.5rem"},children:(0,t.jsxs)("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap",alignItems:"center"},children:[(0,t.jsx)("input",{type:"text",placeholder:"Search by email, name...",value:B.search,onChange:e=>W({...B,search:e.target.value}),className:"input",style:{flex:1,minWidth:"250px",maxWidth:"400px"}}),(0,t.jsxs)("select",{value:B.role,onChange:e=>W({...B,role:e.target.value}),className:"input",style:{minWidth:"120px",maxWidth:"150px"},children:[(0,t.jsx)("option",{value:"",children:"All Roles"}),Object.values(s.RoleName).filter(e=>e!==s.RoleName.GLOBAL_ADMIN).map(e=>(0,t.jsx)("option",{value:e,children:e.replace("_"," ")},e))]}),(0,t.jsxs)("select",{value:B.isActive,onChange:e=>W({...B,isActive:e.target.value}),className:"input",style:{minWidth:"120px",maxWidth:"150px"},children:[(0,t.jsx)("option",{value:"",children:"All Status"}),(0,t.jsx)("option",{value:"true",children:"Active"}),(0,t.jsx)("option",{value:"false",children:"Inactive"})]}),(0,t.jsxs)("select",{value:B.tenantId,onChange:e=>W({...B,tenantId:e.target.value}),className:"input",style:{minWidth:"150px",maxWidth:"200px"},children:[(0,t.jsx)("option",{value:"",children:"All Tenants"}),b.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]})]})}),(0,t.jsx)("div",{className:"card",style:{overflowX:"auto",padding:0},children:0===e.length?(0,t.jsxs)("div",{style:{padding:"3rem",textAlign:"center",color:"var(--text-secondary)"},children:[(0,t.jsx)("p",{style:{margin:0,fontSize:"1rem"},children:"No users found"}),(0,t.jsx)("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.875rem"},children:"Try adjusting your filters or register a new user"})]}):(0,t.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{style:{borderBottom:"2px solid var(--border-color)",backgroundColor:"var(--bg-secondary)"},children:[(0,t.jsx)(H,{field:"email",label:"Email"}),(0,t.jsx)(H,{field:"firstName",label:"Name"}),(0,t.jsx)(H,{field:"role",label:"Role"}),(0,t.jsx)("th",{style:{padding:"0.875rem 1rem",textAlign:"left",fontWeight:600,fontSize:"0.875rem",color:"var(--text-secondary)"},children:"Tenants"}),(0,t.jsx)(H,{field:"isActive",label:"Status"}),(0,t.jsx)(H,{field:"emailVerified",label:"Verified",align:"center"}),(0,t.jsx)(H,{field:"createdAt",label:"Created"}),(0,t.jsx)("th",{style:{padding:"0.875rem 1rem",textAlign:"right",fontWeight:600,fontSize:"0.875rem",color:"var(--text-secondary)"},children:"Actions"})]})}),(0,t.jsx)("tbody",{children:e.map(e=>{let r=K(e);return(0,t.jsxs)("tr",{style:{borderBottom:"1px solid var(--border-color)",transition:"background-color 0.15s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="var(--bg-secondary)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:[(0,t.jsx)("td",{style:{padding:"1rem",fontSize:"0.875rem"},children:(0,t.jsx)("div",{style:{fontWeight:500,color:"var(--text-primary)"},children:e.email})}),(0,t.jsx)("td",{style:{padding:"1rem",fontSize:"0.875rem",color:"var(--text-primary)"},children:e.firstName||e.lastName?`${e.firstName||""} ${e.lastName||""}`.trim():(0,t.jsx)("span",{style:{color:"var(--text-secondary)",fontStyle:"italic"},children:"-"})}),(0,t.jsx)("td",{style:{padding:"1rem"},children:(0,t.jsx)("span",{style:{padding:"0.25rem 0.5rem",backgroundColor:"var(--bg-tertiary)",borderRadius:"4px",fontSize:"0.75rem",fontWeight:500,color:"var(--text-primary)"},children:e.role.replace("_"," ")})}),(0,t.jsx)("td",{style:{padding:"1rem",maxWidth:"200px"},children:e.role===s.RoleName.ADMIN?(0,t.jsx)("span",{style:{fontSize:"0.8125rem",color:"var(--text-secondary)"},children:"All tenants"}):e.role===s.RoleName.AGENT||e.role===s.RoleName.END_USER||e.role===s.RoleName.IT_MANAGER?(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:T[e.id]&&T[e.id].length>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.25rem"},children:[T[e.id].slice(0,2).map(e=>(0,t.jsx)("span",{style:{padding:"0.1875rem 0.5rem",backgroundColor:"var(--bg-tertiary)",borderRadius:"4px",fontSize:"0.75rem",color:"var(--text-primary)",whiteSpace:"nowrap"},children:e.tenant.name},e.id)),T[e.id].length>2&&(0,t.jsxs)("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",alignSelf:"center"},children:["+",T[e.id].length-2]})]}),r&&(0,t.jsx)("button",{onClick:()=>X(e),style:{padding:"0.25rem 0.625rem",backgroundColor:"transparent",border:"1px solid var(--border-color)",borderRadius:"4px",cursor:"pointer",fontSize:"0.75rem",color:"var(--accent-primary)",alignSelf:"flex-start",transition:"all 0.15s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="var(--bg-tertiary)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:"Manage"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",fontStyle:"italic"},children:"No tenants"}),r&&(0,t.jsx)("button",{onClick:()=>X(e),style:{padding:"0.25rem 0.625rem",backgroundColor:"transparent",border:"1px solid var(--border-color)",borderRadius:"4px",cursor:"pointer",fontSize:"0.75rem",color:"var(--accent-primary)",alignSelf:"flex-start",transition:"all 0.15s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="var(--bg-tertiary)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:"Assign"})]})}):(0,t.jsx)("span",{style:{fontSize:"0.8125rem",color:"var(--text-secondary)"},children:"-"})}),(0,t.jsx)("td",{style:{padding:"1rem"},children:(0,t.jsx)("span",{style:{padding:"0.25rem 0.625rem",backgroundColor:e.isActive?"rgba(34, 197, 94, 0.15)":"rgba(239, 68, 68, 0.15)",color:e.isActive?"rgb(34, 197, 94)":"rgb(239, 68, 68)",borderRadius:"4px",fontSize:"0.75rem",fontWeight:500,display:"inline-block"},children:e.isActive?"Active":"Inactive"})}),(0,t.jsx)("td",{style:{padding:"1rem",textAlign:"center"},children:(0,t.jsx)("span",{style:{fontSize:"1rem",color:e.emailVerified?"rgb(34, 197, 94)":"var(--text-secondary)",fontWeight:e.emailVerified?600:400},children:e.emailVerified?"✓":"✗"})}),(0,t.jsx)("td",{style:{padding:"1rem",fontSize:"0.8125rem",color:"var(--text-secondary)"},children:new Date(e.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),(0,t.jsx)("td",{style:{padding:"1rem",textAlign:"right"},children:r?(0,t.jsxs)("div",{style:{display:"flex",gap:"0.375rem",justifyContent:"flex-end",flexWrap:"wrap"},children:[(0,t.jsx)("button",{onClick:()=>{j(e),F({email:e.email,password:"",firstName:e.firstName||"",lastName:e.lastName||"",role:e.role}),x(!0)},className:"btn btn-secondary",style:{padding:"0.375rem 0.75rem",fontSize:"0.8125rem",minWidth:"auto"},title:"Edit user",children:"Edit"}),(0,t.jsx)("button",{onClick:()=>q(e.id,e.isActive),className:"btn btn-secondary",style:{padding:"0.375rem 0.75rem",fontSize:"0.8125rem",minWidth:"auto"},title:e.isActive?"Deactivate user":"Activate user",children:e.isActive?"Deactivate":"Activate"}),(0,t.jsx)("button",{onClick:()=>V(e.id),className:"btn btn-secondary",style:{padding:"0.375rem 0.75rem",fontSize:"0.8125rem",minWidth:"auto",color:"var(--error)"},title:"Delete user",children:"Delete"})]}):(0,t.jsx)("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",fontStyle:"italic"},children:e.id===E?"Cannot edit self":"Restricted"})})]},e.id)})})]})}),p&&(0,t.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,t.jsxs)("div",{className:"card",style:{width:"100%",maxWidth:"500px",maxHeight:"90vh",overflowY:"auto",padding:"1.5rem"},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[(0,t.jsx)("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:600},children:"Register User"}),(0,t.jsx)("button",{onClick:()=>g(!1),style:{padding:"0.5rem",backgroundColor:"transparent",border:"none",borderRadius:"0.25rem",cursor:"pointer",color:"var(--text-primary)",display:"flex",alignItems:"center",justifyContent:"center",transition:"background-color 0.15s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="var(--bg-tertiary)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:(0,t.jsx)(n.XMarkIcon,{className:"w-6 h-6"})})]}),(0,t.jsxs)("form",{onSubmit:_,children:[(0,t.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,t.jsx)("label",{className:"label",children:"Email *"}),(0,t.jsx)("input",{type:"email",className:"input",value:U.email,onChange:e=>F({...U,email:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,t.jsx)("label",{className:"label",children:"Password *"}),(0,t.jsx)("input",{type:"password",className:"input",value:U.password,onChange:e=>F({...U,password:e.target.value}),required:!0,minLength:8})]}),(0,t.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,t.jsx)("label",{className:"label",children:"First Name"}),(0,t.jsx)("input",{type:"text",className:"input",value:U.firstName,onChange:e=>F({...U,firstName:e.target.value})})]}),(0,t.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,t.jsx)("label",{className:"label",children:"Last Name"}),(0,t.jsx)("input",{type:"text",className:"input",value:U.lastName,onChange:e=>F({...U,lastName:e.target.value})})]}),(0,t.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,t.jsx)("label",{className:"label",children:"Role *"}),(0,t.jsxs)("select",{className:"input",value:U.role,onChange:e=>F({...U,role:e.target.value}),required:!0,children:[(0,t.jsx)("option",{value:s.RoleName.AGENT,children:"Agent"}),(0,t.jsx)("option",{value:s.RoleName.END_USER,children:"End User"})]})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[(0,t.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>g(!1),children:"Cancel"}),(0,t.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Register User"})]})]})]})}),h&&v&&K(v)&&(0,t.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,t.jsxs)("div",{className:"card",style:{width:"100%",maxWidth:"500px",maxHeight:"90vh",overflowY:"auto",padding:"1.5rem"},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[(0,t.jsx)("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:600},children:"Edit User"}),(0,t.jsx)("button",{onClick:()=>x(!1),style:{padding:"0.5rem",backgroundColor:"transparent",border:"none",borderRadius:"0.25rem",cursor:"pointer",color:"var(--text-primary)",display:"flex",alignItems:"center",justifyContent:"center",transition:"background-color 0.15s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="var(--bg-tertiary)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:(0,t.jsx)(n.XMarkIcon,{className:"w-6 h-6"})})]}),(0,t.jsxs)("form",{onSubmit:J,children:[(0,t.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,t.jsx)("label",{className:"label",children:"Email *"}),(0,t.jsx)("input",{type:"email",className:"input",value:U.email,onChange:e=>F({...U,email:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,t.jsx)("label",{className:"label",children:"Password (leave blank to keep current)"}),(0,t.jsx)("input",{type:"password",className:"input",value:U.password,onChange:e=>F({...U,password:e.target.value}),minLength:8})]}),(0,t.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,t.jsx)("label",{className:"label",children:"First Name"}),(0,t.jsx)("input",{type:"text",className:"input",value:U.firstName,onChange:e=>F({...U,firstName:e.target.value})})]}),(0,t.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,t.jsx)("label",{className:"label",children:"Last Name"}),(0,t.jsx)("input",{type:"text",className:"input",value:U.lastName,onChange:e=>F({...U,lastName:e.target.value})})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[(0,t.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{x(!1),j(null)},children:"Cancel"}),(0,t.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Update User"})]})]})]})}),y&&v&&K(v)&&(0,t.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,t.jsxs)("div",{className:"card",style:{width:"100%",maxWidth:"500px",maxHeight:"90vh",overflowY:"auto",padding:"1.5rem"},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[(0,t.jsxs)("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:600},children:["Assign Tenants to ",v.email]}),(0,t.jsx)("button",{onClick:()=>f(!1),style:{padding:"0.5rem",backgroundColor:"transparent",border:"none",borderRadius:"0.25rem",cursor:"pointer",color:"var(--text-primary)",display:"flex",alignItems:"center",justifyContent:"center",transition:"background-color 0.15s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="var(--bg-tertiary)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:(0,t.jsx)(n.XMarkIcon,{className:"w-6 h-6"})})]}),A?(0,t.jsx)("div",{style:{color:"var(--text-secondary)",marginBottom:"1rem"},children:"Loading tenants..."}):0===b.length?(0,t.jsx)("div",{style:{color:"var(--text-secondary)",marginBottom:"1rem"},children:"No tenants available in your organization."}):(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem",maxHeight:"300px",overflowY:"auto",marginBottom:"1.5rem"},children:b.map(e=>(0,t.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,t.jsx)("input",{type:"checkbox",checked:S.includes(e.id),onChange:t=>{t.target.checked?C([...S,e.id]):C(S.filter(t=>t!==e.id))}}),(0,t.jsxs)("span",{style:{fontSize:"0.9rem"},children:[e.name," ",!e.isActive&&(0,t.jsx)("span",{style:{color:"var(--text-secondary)"},children:"(Inactive)"})]})]},e.id))}),(0,t.jsxs)("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[(0,t.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{f(!1),j(null),C([])},children:"Cancel"}),(0,t.jsx)("button",{type:"button",className:"btn btn-primary",onClick:Y,disabled:k,children:k?"Saving...":"Save Assignments"})]})]})})]})}e.s(["default",()=>o])}]);