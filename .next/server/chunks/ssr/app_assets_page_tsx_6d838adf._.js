module.exports=[68211,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246);function e(){let[a,e]=(0,c.useState)([]),[f,g]=(0,c.useState)(!0),[h,i]=(0,c.useState)({type:"",status:"",search:""});(0,c.useEffect)(()=>{j()},[h]);let j=async()=>{try{g(!0);let a=localStorage.getItem("accessToken"),b=new URLSearchParams;h.type&&b.append("type",h.type),h.status&&b.append("status",h.status),h.search&&b.append("search",h.search);let c=await fetch(`/api/v1/assets?${b.toString()}`,{headers:a?{Authorization:`Bearer ${a}`}:{}}),d=await c.json();d.success&&e(d.data.assets)}catch(a){console.error("Failed to load assets:",a)}finally{g(!1)}},k=async()=>{try{let a=localStorage.getItem("accessToken"),b=new URLSearchParams;h.type&&b.append("type",h.type),h.status&&b.append("status",h.status),h.search&&b.append("search",h.search),b.append("export","csv");let c=await fetch(`/api/v1/assets?${b.toString()}`,{headers:a?{Authorization:`Bearer ${a}`}:{}}),d=await c.blob(),e=window.URL.createObjectURL(d),f=document.createElement("a");f.href=e,f.download=`assets-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(f),f.click(),window.URL.revokeObjectURL(e),document.body.removeChild(f)}catch(a){console.error("Failed to export assets:",a)}};return(0,b.jsxs)("div",{style:{padding:"2rem",maxWidth:"1400px",margin:"0 auto"},children:[(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[(0,b.jsx)("h1",{style:{margin:0},children:"Assets (CMDB)"}),(0,b.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,b.jsx)("button",{onClick:k,style:{padding:"0.5rem 1rem",backgroundColor:"var(--accent-primary)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Export CSV"}),(0,b.jsx)(d.default,{href:"/assets/new",style:{padding:"0.5rem 1rem",backgroundColor:"var(--accent-primary)",color:"white",textDecoration:"none",borderRadius:"6px"},children:"New Asset"})]})]}),(0,b.jsxs)("div",{style:{marginBottom:"2rem",display:"flex",gap:"1rem",flexWrap:"wrap"},children:[(0,b.jsx)("input",{type:"text",placeholder:"Search assets...",value:h.search,onChange:a=>i({...h,search:a.target.value}),style:{padding:"0.5rem",border:"1px solid var(--border-color)",borderRadius:"6px",flex:1,minWidth:"200px"}}),(0,b.jsxs)("select",{value:h.type,onChange:a=>i({...h,type:a.target.value}),style:{padding:"0.5rem",border:"1px solid var(--border-color)",borderRadius:"6px"},children:[(0,b.jsx)("option",{value:"",children:"All Types"}),(0,b.jsx)("option",{value:"HARDWARE",children:"Hardware"}),(0,b.jsx)("option",{value:"SOFTWARE",children:"Software"}),(0,b.jsx)("option",{value:"NETWORK_DEVICE",children:"Network Device"}),(0,b.jsx)("option",{value:"CLOUD_RESOURCE",children:"Cloud Resource"})]}),(0,b.jsxs)("select",{value:h.status,onChange:a=>i({...h,status:a.target.value}),style:{padding:"0.5rem",border:"1px solid var(--border-color)",borderRadius:"6px"},children:[(0,b.jsx)("option",{value:"",children:"All Statuses"}),(0,b.jsx)("option",{value:"ACTIVE",children:"Active"}),(0,b.jsx)("option",{value:"INACTIVE",children:"Inactive"}),(0,b.jsx)("option",{value:"RETIRED",children:"Retired"}),(0,b.jsx)("option",{value:"MAINTENANCE",children:"Maintenance"})]})]}),f?(0,b.jsx)("div",{children:"Loading assets..."}):(0,b.jsx)("div",{style:{border:"1px solid var(--border-color)",borderRadius:"8px",overflow:"hidden"},children:(0,b.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{style:{backgroundColor:"var(--bg-secondary)",borderBottom:"1px solid var(--border-color)"},children:[(0,b.jsx)("th",{style:{padding:"1rem",textAlign:"left"},children:"Asset Number"}),(0,b.jsx)("th",{style:{padding:"1rem",textAlign:"left"},children:"Name"}),(0,b.jsx)("th",{style:{padding:"1rem",textAlign:"left"},children:"Type"}),(0,b.jsx)("th",{style:{padding:"1rem",textAlign:"left"},children:"Status"}),(0,b.jsx)("th",{style:{padding:"1rem",textAlign:"left"},children:"Assigned To"}),(0,b.jsx)("th",{style:{padding:"1rem",textAlign:"left"},children:"Actions"})]})}),(0,b.jsx)("tbody",{children:0===a.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:6,style:{padding:"2rem",textAlign:"center",color:"var(--text-secondary)"},children:"No assets found"})}):a.map(a=>(0,b.jsxs)("tr",{style:{borderBottom:"1px solid var(--border-color)"},children:[(0,b.jsx)("td",{style:{padding:"1rem"},children:a.assetNumber}),(0,b.jsx)("td",{style:{padding:"1rem"},children:a.name}),(0,b.jsx)("td",{style:{padding:"1rem"},children:a.type}),(0,b.jsx)("td",{style:{padding:"1rem"},children:a.status}),(0,b.jsx)("td",{style:{padding:"1rem"},children:a.assignedTo?`${a.assignedTo.firstName||""} ${a.assignedTo.lastName||""}`.trim()||a.assignedTo.email:"Unassigned"}),(0,b.jsx)("td",{style:{padding:"1rem"},children:(0,b.jsx)(d.default,{href:`/assets/${a.id}`,style:{color:"var(--accent-primary)",textDecoration:"none"},children:"View"})})]},a.id))})]})})]})}a.s(["default",()=>e])}];

//# sourceMappingURL=app_assets_page_tsx_6d838adf._.js.map