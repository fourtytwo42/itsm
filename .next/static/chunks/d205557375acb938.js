(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,24900,e=>{"use strict";var t=e.i(71645);let r=t.forwardRef(function({title:e,titleId:r,...n},o){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},n),e?t.createElement("title",{id:r},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 6v.75m0 3v.75m0 3v.75m0 3V18m-9-5.25h5.25M7.5 15h3M3.375 5.25c-.621 0-1.125.504-1.125 1.125v3.026a2.999 2.999 0 0 1 0 5.198v3.026c0 .621.504 1.125 1.125 1.125h17.25c.621 0 1.125-.504 1.125-1.125v-3.026a2.999 2.999 0 0 1 0-5.198V6.375c0-.621-.504-1.125-1.125-1.125H3.375Z"}))});e.s(["TicketIcon",0,r],24900)},56713,e=>{"use strict";var t=e.i(18050),r=e.i(71645),n=e.i(18566),o=e.i(22016);let i=r.forwardRef(function({title:e,titleId:t,...n},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))});var a=e.i(24900);let s=r.forwardRef(function({title:e,titleId:t,...n},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"}))}),l=r.forwardRef(function({title:e,titleId:t,...n},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25"}))}),c=r.forwardRef(function({title:e,titleId:t,...n},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}),d=r.forwardRef(function({title:e,titleId:t,...n},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))});var u=e.i(65178);let h=r.forwardRef(function({title:e,titleId:t,...n},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}),f=r.forwardRef(function({title:e,titleId:t,...n},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}),m=r.forwardRef(function({title:e,titleId:t,...n},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}),p=r.forwardRef(function({title:e,titleId:t,...n},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))});var g=e.i(44452),b=e.i(44735);let x=r.forwardRef(function({title:e,titleId:t,...n},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}),v=r.forwardRef(function({title:e,titleId:t,...n},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{d:"M11.47 3.841a.75.75 0 0 1 1.06 0l8.69 8.69a.75.75 0 1 0 1.06-1.061l-8.689-8.69a2.25 2.25 0 0 0-3.182 0l-8.69 8.69a.75.75 0 1 0 1.061 1.06l8.69-8.689Z"}),r.createElement("path",{d:"m12 5.432 8.159 8.159c.03.03.06.058.091.086v6.198c0 1.035-.84 1.875-1.875 1.875H15a.75.75 0 0 1-.75-.75v-4.5a.75.75 0 0 0-.75-.75h-3a.75.75 0 0 0-.75.75V21a.75.75 0 0 1-.75.75H5.625a1.875 1.875 0 0 1-1.875-1.875v-6.198a2.29 2.29 0 0 0 .091-.086L12 5.432Z"}))}),y=r.forwardRef(function({title:e,titleId:t,...n},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{fillRule:"evenodd",d:"M1.5 6.375c0-1.036.84-1.875 1.875-1.875h17.25c1.035 0 1.875.84 1.875 1.875v3.026a.75.75 0 0 1-.375.65 2.249 2.249 0 0 0 0 3.898.75.75 0 0 1 .375.65v3.026c0 1.035-.84 1.875-1.875 1.875H3.375A1.875 1.875 0 0 1 1.5 17.625v-3.026a.75.75 0 0 1 .374-.65 2.249 2.249 0 0 0 0-3.898.75.75 0 0 1-.374-.65V6.375Zm15-1.125a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-1.5 0V6a.75.75 0 0 1 .75-.75Zm.75 4.5a.75.75 0 0 0-1.5 0v.75a.75.75 0 0 0 1.5 0v-.75Zm-.75 3a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-1.5 0v-.75a.75.75 0 0 1 .75-.75Zm.75 4.5a.75.75 0 0 0-1.5 0V18a.75.75 0 0 0 1.5 0v-.75ZM6 12a.75.75 0 0 1 .75-.75H12a.75.75 0 0 1 0 1.5H6.75A.75.75 0 0 1 6 12Zm.75 2.25a.75.75 0 0 0 0 1.5h3a.75.75 0 0 0 0-1.5h-3Z",clipRule:"evenodd"}))}),w=r.forwardRef(function({title:e,titleId:t,...n},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{d:"M11.25 4.533A9.707 9.707 0 0 0 6 3a9.735 9.735 0 0 0-3.25.555.75.75 0 0 0-.5.707v14.25a.75.75 0 0 0 1 .707A8.237 8.237 0 0 1 6 18.75c1.995 0 3.823.707 5.25 1.886V4.533ZM12.75 20.636A8.214 8.214 0 0 1 18 18.75c.966 0 1.89.166 2.75.47a.75.75 0 0 0 1-.708V4.262a.75.75 0 0 0-.5-.707A9.735 9.735 0 0 0 18 3a9.707 9.707 0 0 0-5.25 1.533v16.103Z"}))}),j=r.forwardRef(function({title:e,titleId:t,...n},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{fillRule:"evenodd",d:"M2.25 5.25a3 3 0 0 1 3-3h13.5a3 3 0 0 1 3 3V15a3 3 0 0 1-3 3h-3v.257c0 .597.237 1.17.659 1.591l.621.622a.75.75 0 0 1-.53 1.28h-9a.75.75 0 0 1-.53-1.28l.621-.622a2.25 2.25 0 0 0 .659-1.59V18h-3a3 3 0 0 1-3-3V5.25Zm1.5 0v7.5a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5v-7.5a1.5 1.5 0 0 0-1.5-1.5H5.25a1.5 1.5 0 0 0-1.5 1.5Z",clipRule:"evenodd"}))}),S=r.forwardRef(function({title:e,titleId:t,...n},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{d:"M18.375 2.25c-1.035 0-1.875.84-1.875 1.875v15.75c0 1.035.84 1.875 1.875 1.875h.75c1.035 0 1.875-.84 1.875-1.875V4.125c0-1.036-.84-1.875-1.875-1.875h-.75ZM9.75 8.625c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-.75a1.875 1.875 0 0 1-1.875-1.875V8.625ZM3 13.125c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v6.75c0 1.035-.84 1.875-1.875 1.875h-.75A1.875 1.875 0 0 1 3 19.875v-6.75Z"}))}),k=r.forwardRef(function({title:e,titleId:t,...n},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{d:"M4.5 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM14.25 8.625a3.375 3.375 0 1 1 6.75 0 3.375 3.375 0 0 1-6.75 0ZM1.5 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122ZM17.25 19.128l-.001.144a2.25 2.25 0 0 1-.233.96 10.088 10.088 0 0 0 5.06-1.01.75.75 0 0 0 .42-.643 4.875 4.875 0 0 0-6.957-4.611 8.586 8.586 0 0 1 1.71 5.157v.003Z"}))}),C=r.forwardRef(function({title:e,titleId:t,...n},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{fillRule:"evenodd",d:"M11.078 2.25c-.917 0-1.699.663-1.85 1.567L9.05 4.889c-.02.12-.115.26-.297.348a7.493 7.493 0 0 0-.986.57c-.166.115-.334.126-.45.083L6.3 5.508a1.875 1.875 0 0 0-2.282.819l-.922 1.597a1.875 1.875 0 0 0 .432 2.385l.84.692c.095.078.17.229.154.43a7.598 7.598 0 0 0 0 1.139c.015.2-.059.352-.153.43l-.841.692a1.875 1.875 0 0 0-.432 2.385l.922 1.597a1.875 1.875 0 0 0 2.282.818l1.019-.382c.115-.043.283-.031.45.082.312.214.641.405.985.57.182.088.277.228.297.35l.178 1.071c.151.904.933 1.567 1.85 1.567h1.844c.916 0 1.699-.663 1.85-1.567l.178-1.072c.02-.12.114-.26.297-.349.344-.165.673-.356.985-.57.167-.114.335-.125.45-.082l1.02.382a1.875 1.875 0 0 0 2.28-.819l.923-1.597a1.875 1.875 0 0 0-.432-2.385l-.84-.692c-.095-.078-.17-.229-.154-.43a7.614 7.614 0 0 0 0-1.139c-.016-.2.059-.352.153-.43l.84-.692c.708-.582.891-1.59.433-2.385l-.922-1.597a1.875 1.875 0 0 0-2.282-.818l-1.02.382c-.114.043-.282.031-.449-.083a7.49 7.49 0 0 0-.985-.57c-.183-.087-.277-.227-.297-.348l-.179-1.072a1.875 1.875 0 0 0-1.85-1.567h-1.843ZM12 15.75a3.75 3.75 0 1 0 0-7.5 3.75 3.75 0 0 0 0 7.5Z",clipRule:"evenodd"}))}),E=r.forwardRef(function({title:e,titleId:t,...n},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z",clipRule:"evenodd"}))});function R(){(0,n.useRouter)();let e=(0,n.usePathname)(),[R,_]=(0,r.useState)(null),[T,I]=(0,r.useState)(!1),[N,A]=(0,r.useState)(!1),[z,M]=(0,r.useState)(null),[W,L]=(0,r.useState)(null),[F,O]=(0,r.useState)(!1),D=(0,r.useRef)(null),B=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e=localStorage.getItem("user");if(e)try{_(JSON.parse(e))}catch(e){}"true"===localStorage.getItem("sideNavExpanded")&&(I(!0),A(!0))},[]),(0,r.useEffect)(()=>{if(!F)return;let e=e=>{e.target.closest("[data-user-menu]")||O(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[F]);let $=T?240:72;if((0,r.useEffect)(()=>{document.documentElement.style.setProperty("--side-nav-width",`${$}px`)},[$]),!e||"/"===e||"/login"===e||"/register"===e||"/checkout"===e||e.startsWith("/reset-password")||!localStorage.getItem("accessToken")||!R||R?.roles?.includes("END_USER"))return null;let P=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),window.location.href="/login"},Z=R?.roles?.includes("GLOBAL_ADMIN"),V=R?.roles?.includes("ADMIN"),H=R?.roles?.includes("IT_MANAGER"),U=R?.roles?.includes("AGENT"),J=[{href:"/dashboard",label:"Dashboard",icon:i,iconSolid:v},{href:"/tickets",label:"Tickets",icon:a.TicketIcon,iconSolid:y},{href:"/kb",label:"Knowledge Base",icon:s,iconSolid:w},{href:"/assets",label:"Assets",icon:l,iconSolid:j,roles:["AGENT","IT_MANAGER","ADMIN"]},{href:"/reports",label:"Reports",icon:c,iconSolid:S,roles:["IT_MANAGER","ADMIN"]}],G=[{href:"/admin/users",label:"Users",icon:d,iconSolid:k},{href:"/admin/tenants",label:"Tenants",icon:d,iconSolid:k},{href:"/admin/custom-roles",label:"Custom Roles",icon:d,iconSolid:k},{href:"/admin/asset-types",label:"Asset Types",icon:l,iconSolid:j},{href:"/admin/config",label:"Configuration",icon:u.Cog6ToothIcon,iconSolid:C},{href:"/organization/settings",label:"Organization Settings",icon:u.Cog6ToothIcon,iconSolid:C},{href:"/organization/audit",label:"Audit Logs",icon:h,iconSolid:E}],q=e=>!e.roles||!!R?.roles&&e.roles.some(e=>R.roles.includes(e)),K=J.filter(q),Y=[{href:"/global/organizations",label:"Organizations",icon:d,iconSolid:k,roles:["GLOBAL_ADMIN"]}].filter(q),X=[{href:"/admin/tenants",label:"Tenants",icon:d,iconSolid:k},{href:"/manager/users",label:"Users",icon:d,iconSolid:k,roles:["IT_MANAGER"]},{href:"/admin/custom-roles",label:"Custom Roles",icon:d,iconSolid:k},{href:"/admin/asset-types",label:"Asset Types",icon:l,iconSolid:j}].filter(()=>H),Q=G.filter(q),ee=[{href:"/agent/users",label:"Users",icon:d,iconSolid:k}].filter(()=>U),et=r=>{var n;let i="/dashboard"===(n=r.href)?"/dashboard"===e:e?.startsWith(n),a=i?r.iconSolid:r.icon,s=z===r.href;return(0,t.jsxs)("div",{style:{position:"relative"},children:[(0,t.jsxs)(o.default,{href:r.href,style:{display:"flex",alignItems:"center",width:"100%",padding:"0.75rem 0",textDecoration:"none",color:i?"var(--accent-primary)":"var(--text-primary)",transition:"all 0.2s",position:"relative"},onMouseEnter:e=>{if(!T){M(r.href);let t=e.currentTarget.getBoundingClientRect();L({top:t.top+t.height/2,left:$+12})}},onMouseLeave:()=>{T||(M(null),L(null))},children:[(0,t.jsx)("div",{style:{width:"72px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:(0,t.jsx)(a,{className:"w-5 h-5",style:{width:"20px",height:"20px"}})}),N&&(0,t.jsx)("span",{style:{fontSize:"0.875rem",fontWeight:i?600:400,whiteSpace:"nowrap",paddingRight:"1rem",opacity:1,transition:"opacity 0.2s ease"},children:r.label})]}),!T&&s&&W&&(0,t.jsxs)("div",{style:{position:"fixed",left:`${W.left}px`,top:`${W.top}px`,transform:"translateY(-50%)",padding:"0.5rem 0.75rem",backgroundColor:"var(--bg-tertiary)",color:"var(--text-primary)",borderRadius:"6px",fontSize:"0.875rem",whiteSpace:"nowrap",zIndex:1e4,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",border:"1px solid var(--border-color)",pointerEvents:"none"},children:[r.label,(0,t.jsx)("div",{style:{position:"absolute",right:"100%",top:"50%",transform:"translateY(-50%)",border:"6px solid transparent",borderRightColor:"var(--bg-tertiary)"}})]})]},r.href)};return(0,t.jsxs)("nav",{ref:D,style:{position:"fixed",left:0,top:0,bottom:0,width:`${$}px`,backgroundColor:"var(--bg-secondary)",borderRight:"1px solid var(--border-color)",display:"flex",flexDirection:"column",zIndex:1e3,transition:"width 0.3s ease",overflow:"visible"},children:[(0,t.jsx)("button",{onClick:()=>{let e=!T;I(e),localStorage.setItem("sideNavExpanded",String(e)),e||O(!1),e?A(!0):setTimeout(()=>{A(!1)},300)},style:{position:"absolute",right:"-12px",top:"50%",transform:"translateY(-50%)",width:"24px",height:"24px",borderRadius:"50%",backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-color)",color:"var(--text-primary)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",zIndex:1001,boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="var(--bg-tertiary)",e.currentTarget.style.borderColor="var(--accent-primary)",e.currentTarget.style.transform="translateY(-50%) scale(1.1)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="var(--bg-secondary)",e.currentTarget.style.borderColor="var(--border-color)",e.currentTarget.style.transform="translateY(-50%) scale(1)"},"aria-label":T?"Collapse navigation":"Expand navigation",children:T?(0,t.jsx)(p,{className:"w-4 h-4"}):(0,t.jsx)(m,{className:"w-4 h-4"})}),(0,t.jsx)("div",{style:{height:"64px",borderBottom:"1px solid var(--border-color)",display:"flex",alignItems:"center",width:"100%"},children:(0,t.jsx)(o.default,{href:"/dashboard",style:{display:"flex",alignItems:"center",justifyContent:"center",width:"72px",textDecoration:"none",color:"var(--accent-primary)",flexShrink:0},children:(0,t.jsx)(a.TicketIcon,{className:"w-6 h-6",style:{width:"24px",height:"24px"}})})}),(0,t.jsxs)("div",{style:{flex:1,overflowY:"auto",overflowX:"hidden",padding:"0.5rem 0",display:"flex",flexDirection:"column"},children:[K.map(et),Z&&Y.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{style:{padding:"0.5rem 0",marginTop:"0.5rem",borderTop:"1px solid var(--border-color)"}}),Y.map(et)]}),H&&X.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{style:{padding:"0.5rem 0",marginTop:"0.5rem",borderTop:"1px solid var(--border-color)"}}),X.map(et)]}),V&&Q.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{style:{padding:"0.5rem 0",marginTop:"0.5rem",borderTop:"1px solid var(--border-color)"}}),Q.map(et)]}),U&&ee.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{style:{padding:"0.5rem 0",marginTop:"0.5rem",borderTop:"1px solid var(--border-color)"}}),ee.map(et)]})]}),(0,t.jsx)("div",{"data-user-menu":!0,style:{borderTop:"1px solid var(--border-color)",padding:"0.5rem 0",position:"relative"},children:R&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("button",{onClick:()=>O(!F),style:{width:"100%",display:"flex",alignItems:"center",padding:"0.75rem 0",border:"none",backgroundColor:"transparent",color:"var(--text-primary)",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{F||(e.currentTarget.style.backgroundColor="var(--bg-primary)")},onMouseLeave:e=>{F||(e.currentTarget.style.backgroundColor="transparent")},children:[(0,t.jsx)("div",{style:{width:"72px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:(0,t.jsx)("div",{style:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:"var(--accent-primary)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"0.875rem",fontWeight:600},children:(R.firstName?.[0]||R.email?.[0]||"U").toUpperCase()})}),N&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{style:{flex:1,minWidth:0,paddingRight:"1rem"},children:[(0,t.jsx)("div",{style:{fontSize:"0.875rem",fontWeight:500,color:"var(--text-primary)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:R.firstName&&R.lastName?`${R.firstName} ${R.lastName}`:R.email?.split("@")[0]||"User"}),(0,t.jsx)("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:R.email})]}),T&&(0,t.jsx)("div",{style:{paddingRight:"1rem"},children:F?(0,t.jsx)(g.ChevronUpIcon,{className:"w-4 h-4",style:{color:"var(--text-secondary)"}}):(0,t.jsx)(b.ChevronDownIcon,{className:"w-4 h-4",style:{color:"var(--text-secondary)"}})})]})]}),F&&(0,t.jsx)("div",{ref:e=>{if(B&&(B.current=e),e&&D.current&&!T){let t=D.current.getBoundingClientRect(),r=e.offsetHeight||100,n=t.left+36,o=e.previousElementSibling;if(o){let t=o.getBoundingClientRect();e.style.top=`${t.top-r-8}px`,e.style.left=`${n-16}px`}}},style:{position:T?"absolute":"fixed",bottom:T?"100%":"auto",width:T?"100%":"auto",marginBottom:T?"0.5rem":"0",backgroundColor:"transparent",border:"none",zIndex:1e4,display:"flex",flexDirection:"column",gap:T?"0.25rem":"0.5rem",padding:"0",alignItems:T?"stretch":"center"},children:T?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(o.default,{href:"/profile",onClick:()=>O(!1),style:{display:"flex",alignItems:"center",padding:"0.75rem 0",textDecoration:"none",color:"/profile"===e?"var(--accent-primary)":"var(--text-primary)",transition:"all 0.2s"},children:[(0,t.jsx)("div",{style:{width:"72px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:(0,t.jsx)(x,{className:"w-5 h-5",style:{width:"20px",height:"20px"}})}),(0,t.jsx)("span",{style:{fontSize:"0.875rem",fontWeight:"/profile"===e?600:400,paddingRight:"1rem"},children:"Profile"})]}),(0,t.jsxs)("button",{onClick:()=>{O(!1),P()},style:{display:"flex",alignItems:"center",padding:"0.75rem 0",backgroundColor:"transparent",border:"none",color:"var(--text-primary)",cursor:"pointer",textAlign:"left",transition:"all 0.2s"},children:[(0,t.jsx)("div",{style:{width:"72px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:(0,t.jsx)(f,{className:"w-5 h-5",style:{width:"20px",height:"20px"}})}),(0,t.jsx)("span",{style:{fontSize:"0.875rem",paddingRight:"1rem"},children:"Log out"})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.default,{href:"/profile",onClick:()=>O(!1),style:{display:"flex",alignItems:"center",justifyContent:"center",width:"32px",height:"32px",borderRadius:"8px",textDecoration:"none",color:"var(--text-primary)",transition:"background-color 0.2s",margin:"0 auto"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="var(--bg-tertiary)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},title:"Profile",children:(0,t.jsx)(x,{className:"w-6 h-6"})}),(0,t.jsx)("button",{onClick:()=>{O(!1),P()},style:{display:"flex",alignItems:"center",justifyContent:"center",width:"32px",height:"32px",borderRadius:"8px",backgroundColor:"transparent",border:"none",color:"var(--text-primary)",cursor:"pointer",transition:"background-color 0.2s",margin:"0 auto"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(239, 68, 68, 0.1)",e.currentTarget.style.color="var(--error)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.color="var(--text-primary)"},title:"Log out",children:(0,t.jsx)(f,{className:"w-6 h-6"})})]})})]})})]})}e.s(["default",()=>R],56713)},18503,e=>{"use strict";var t=e.i(18050),r=e.i(71645),n=e.i(18566),o=e.i(42969),i=e.i(27217),a=e.i(16965),s=e.i(82092),l=e.i(60759),c=e.i(18789),d=e.i(42531),u=e.i(30562);let h="ai-chat-messages",f=()=>{try{let e=localStorage.getItem(h);if(e){let t=JSON.parse(e);if(Array.isArray(t)&&t.length>0)return t}}catch(e){console.error("Failed to load chat from localStorage:",e)}return[{role:"assistant",content:"Hi! I'm your IT support assistant. What issue are you experiencing?"}]};function m(){let e=(0,n.usePathname)(),[m,p]=(0,r.useState)(!1),[g,b]=(0,r.useState)(!1),[x,v]=(0,r.useState)(null),[y,w]=(0,r.useState)(f),[j,S]=(0,r.useState)(""),[k,C]=(0,r.useState)(!1),E=(0,r.useRef)(null),R=(0,r.useRef)(null),_=(0,r.useRef)(!1),T=!e||e.startsWith("/tenant/")||"/"===e||"/login"===e||"/register"===e||"/checkout"===e;(0,r.useEffect)(()=>{T||E.current?.scrollIntoView({behavior:"smooth"})},[y,e]),(0,r.useEffect)(()=>{!k&&_.current&&R.current&&setTimeout(()=>{R.current?.focus()},100)},[y,k]);let I=(0,r.useRef)(!1);if((0,r.useEffect)(()=>{if(I.current){I.current=!1;return}if(y.length>0)try{localStorage.setItem(h,JSON.stringify(y))}catch(e){console.error("Failed to save chat to localStorage:",e)}},[y]),T)return null;let N=async()=>{if(!j.trim()||k)return void console.log("[ChatWidget] handleSend: Skipping - input empty or already loading",{input:j.trim(),loading:k});let e=[...y,{role:"user",content:j}];console.log("[ChatWidget] handleSend: Starting",{messageCount:e.length,userMessage:j.substring(0,50)}),w(e),S(""),C(!0);try{let t,r=localStorage.getItem("accessToken"),n={messages:e.map(e=>({role:e.role,content:e.content}))};console.log("[ChatWidget] handleSend: Sending request",{messageCount:n.messages.length,hasToken:!!r});let o=new AbortController,i=setTimeout(()=>{console.error("[ChatWidget] handleSend: Request timeout after 60s"),o.abort()},6e4);try{t=await fetch("/api/v1/ai/chat",{method:"POST",headers:{"Content-Type":"application/json",...r&&{Authorization:`Bearer ${r}`}},body:JSON.stringify(n),signal:o.signal}),clearTimeout(i)}catch(e){if(clearTimeout(i),e instanceof Error&&"AbortError"===e.name)throw Error("Request timeout - the server took too long to respond. Please try again.");throw e}if(console.log("[ChatWidget] handleSend: Response received",{status:t.status,ok:t.ok}),!t.ok){let e=await t.text();throw console.error("[ChatWidget] handleSend: HTTP Error",{status:t.status,statusText:t.statusText,errorText:e.substring(0,200)}),Error(`HTTP ${t.status}: ${t.statusText}`)}let a=await t.json();if(console.log("[ChatWidget] handleSend: Response parsed",{success:a.success,hasReply:!!a.data?.reply,replyLength:a.data?.reply?.length||0}),!a.success)throw console.error("[ChatWidget] handleSend: API Error Response",{error:a.error,errorCode:a.error?.code,errorMessage:a.error?.message}),Error(a.error?.message||"Failed to get response");if(!a.data?.reply)throw console.error("[ChatWidget] handleSend: No reply in response",{data:a}),Error("No reply received from server");a.data.conversationId&&(console.log("[ChatWidget] handleSend: Conversation ID updated",{conversationId:a.data.conversationId}),v(a.data.conversationId));let s={role:"assistant",content:a.data.reply};console.log("[ChatWidget] handleSend: Adding assistant message",{messageLength:s.content.length}),w(e=>{let t=[...e,s];return console.log("[ChatWidget] handleSend: Messages updated",{totalMessages:t.length}),t})}catch(t){console.error("[ChatWidget] handleSend: Exception caught",{error:t,errorMessage:t instanceof Error?t.message:String(t),errorStack:t instanceof Error?t.stack:void 0});let e={role:"assistant",content:`Sorry, I encountered an error. Please try again or create a support ticket. Error: ${t instanceof Error?t.message:"Unknown error"}`};w(t=>[...t,e])}finally{console.log("[ChatWidget] handleSend: Finalizing (setting loading to false)"),C(!1)}};return m?(0,t.jsxs)("div",{style:g?{position:"fixed",top:0,left:0,right:0,bottom:0,width:"100vw",height:"100vh",backgroundColor:"var(--bg-secondary)",border:"none",borderRadius:0,boxShadow:"none",display:"flex",flexDirection:"column",zIndex:9999}:{position:"fixed",bottom:"20px",right:"20px",width:"600px",maxWidth:"calc(100vw - 40px)",height:"800px",maxHeight:"calc(100vh - 40px)",backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"12px",boxShadow:"0 8px 24px var(--shadow)",display:"flex",flexDirection:"column",zIndex:1e3},children:[(0,t.jsxs)("div",{style:{padding:"1rem",borderBottom:"1px solid var(--border-color)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,t.jsx)("h3",{style:{margin:0,fontWeight:"600",fontSize:"0.875rem"},children:"AI Assistant"}),(0,t.jsxs)("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[(0,t.jsx)("button",{onClick:()=>{I.current=!0;try{localStorage.removeItem(h)}catch(e){console.error("Failed to clear chat from localStorage:",e)}v(null);let e=[{role:"assistant",content:"Hi! I'm your IT support assistant. What issue are you experiencing?"}];w(e);try{localStorage.setItem(h,JSON.stringify(e))}catch(e){console.error("Failed to save cleared chat to localStorage:",e)}},style:{background:"none",border:"none",color:"var(--text-secondary)",cursor:"pointer",padding:"0.25rem",display:"flex",alignItems:"center"},"aria-label":"Clear chat",title:"Clear chat",children:(0,t.jsx)(l.TrashIcon,{style:{width:"20px",height:"20px"}})}),(0,t.jsx)("button",{onClick:()=>{b(!g)},style:{background:"none",border:"none",color:"var(--text-secondary)",cursor:"pointer",padding:"0.25rem",display:"flex",alignItems:"center"},"aria-label":g?"Exit fullscreen":"Enter fullscreen",title:g?"Exit fullscreen":"Enter fullscreen",children:g?(0,t.jsx)(s.ArrowsPointingInIcon,{style:{width:"20px",height:"20px"}}):(0,t.jsx)(a.ArrowsPointingOutIcon,{style:{width:"20px",height:"20px"}})}),(0,t.jsx)("button",{onClick:()=>p(!1),style:{background:"none",border:"none",color:"var(--text-secondary)",cursor:"pointer",padding:"0.25rem"},"aria-label":"Close chat",children:(0,t.jsx)(i.XMarkIcon,{style:{width:"20px",height:"20px"}})})]})]}),(0,t.jsxs)("div",{style:{flex:1,overflowY:"auto",padding:"0.75rem",display:"flex",flexDirection:"column",gap:"0.75rem"},children:[y.map((e,r)=>(0,t.jsx)("div",{style:{alignSelf:"user"===e.role?"flex-end":"flex-start",maxWidth:"80%",padding:"0.5rem 0.75rem",borderRadius:"12px",backgroundColor:"user"===e.role?"var(--accent-primary)":"var(--bg-tertiary)",color:"user"===e.role?"white":"var(--text-primary)",wordWrap:"break-word",overflowWrap:"break-word",whiteSpace:"pre-wrap",fontSize:"0.8125rem",lineHeight:1.5},children:"assistant"===e.role?(0,t.jsx)("div",{style:{lineHeight:1.4,fontSize:"0.8125rem"},children:(0,t.jsx)(c.default,{remarkPlugins:[d.default],rehypePlugins:[u.default],components:{p:({children:e})=>(0,t.jsx)("p",{style:{margin:"0 0 0.375rem 0",fontSize:"0.8125rem"},children:e}),ul:({children:e})=>(0,t.jsx)("ul",{style:{margin:"0 0 0.5rem 0",paddingLeft:"1.5rem"},children:e}),ol:({children:e})=>(0,t.jsx)("ol",{style:{margin:"0 0 0.5rem 0",paddingLeft:"1.5rem"},children:e}),li:({children:e})=>(0,t.jsx)("li",{style:{margin:"0.25rem 0"},children:e}),code:({children:e,className:r})=>(0,t.jsx)("code",{style:{backgroundColor:"rgba(0,0,0,0.1)",padding:"0.15rem 0.3rem",borderRadius:"4px",fontSize:"0.75em",fontFamily:"monospace"},children:e}),pre:({children:e})=>(0,t.jsx)("pre",{style:{backgroundColor:"rgba(0,0,0,0.1)",padding:"0.5rem",borderRadius:"8px",overflowX:"auto",margin:"0.375rem 0",fontSize:"0.75em",fontFamily:"monospace"},children:e}),a:({children:e,href:r})=>(0,t.jsx)("a",{href:r,target:"_blank",rel:"noopener noreferrer",style:{color:"inherit",textDecoration:"underline"},children:e}),strong:({children:e})=>(0,t.jsx)("strong",{style:{fontWeight:600},children:e}),em:({children:e})=>(0,t.jsx)("em",{style:{fontStyle:"italic"},children:e})},children:e.content})}):(0,t.jsx)("div",{style:{fontSize:"0.8125rem"},children:e.content})},r)),k&&(0,t.jsx)("div",{style:{alignSelf:"flex-start",padding:"0.5rem 0.75rem",borderRadius:"12px",backgroundColor:"var(--bg-tertiary)",color:"var(--text-secondary)",fontSize:"0.8125rem"},children:"Thinking..."}),(0,t.jsx)("div",{ref:E})]}),(0,t.jsxs)("div",{style:{padding:"0.75rem",borderTop:"1px solid var(--border-color)",display:"flex",gap:"0.5rem"},children:[(0,t.jsx)("input",{ref:R,type:"text",value:j,onChange:e=>S(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),N())},onFocus:()=>{_.current=!0},onBlur:()=>{setTimeout(()=>{document.activeElement!==R.current&&(_.current=!1)},100)},placeholder:"Type your message...",disabled:k,style:{flex:1,padding:"0.5rem 0.75rem",border:"1px solid var(--border-color)",borderRadius:"8px",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",fontSize:"0.75rem"}}),(0,t.jsx)("button",{onClick:N,disabled:k||!j.trim(),style:{padding:"0.5rem 0.75rem",backgroundColor:"var(--accent-primary)",color:"white",border:"none",borderRadius:"8px",cursor:k||!j.trim()?"not-allowed":"pointer",opacity:k||!j.trim()?.5:1},children:(0,t.jsx)(o.PaperAirplaneIcon,{style:{width:"20px",height:"20px"}})})]})]}):(0,t.jsx)("button",{onClick:()=>p(!0),style:{position:"fixed",bottom:"20px",right:"20px",width:"60px",height:"60px",borderRadius:"50%",backgroundColor:"var(--accent-primary)",color:"white",border:"none",cursor:"pointer",boxShadow:"0 4px 12px var(--shadow)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},"aria-label":"Open chat",children:(0,t.jsx)(o.PaperAirplaneIcon,{style:{width:"24px",height:"24px"}})})}e.s(["default",()=>m])},16015,(e,t,r)=>{},98547,(e,t,r)=>{var n=e.i(47167);e.r(16015);var o=e.r(71645),i=o&&"object"==typeof o&&"default"in o?o:{default:o},a=void 0!==n.default&&n.default.env&&!0,s=function(e){return"[object String]"===Object.prototype.toString.call(e)},l=function(){function e(e){var t=void 0===e?{}:e,r=t.name,n=void 0===r?"stylesheet":r,o=t.optimizeForSpeed,i=void 0===o?a:o;c(s(n),"`name` must be a string"),this._name=n,this._deletedRulePlaceholder="#"+n+"-deleted-rule____{}",c("boolean"==typeof i,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=i,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var l="undefined"!=typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=l?l.getAttribute("content"):null}var t,r=e.prototype;return r.setOptimizeForSpeed=function(e){c("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),c(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},r.isOptimizeForSpeed=function(){return this._optimizeForSpeed},r.inject=function(){var e=this;if(c(!this._injected,"sheet already injected"),this._injected=!0,"undefined"!=typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(a||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,r){return"number"==typeof r?e._serverSheet.cssRules[r]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),r},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},r.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},r.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},r.insertRule=function(e,t){if(c(s(e),"`insertRule` accepts only strings"),"undefined"==typeof window)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var r=this.getSheet();"number"!=typeof t&&(t=r.cssRules.length);try{r.insertRule(e,t)}catch(t){return a||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var n=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,n))}return this._rulesCount++},r.replaceRule=function(e,t){if(this._optimizeForSpeed||"undefined"==typeof window){var r="undefined"!=typeof window?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!r.cssRules[e])return e;r.deleteRule(e);try{r.insertRule(t,e)}catch(n){a||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),r.insertRule(this._deletedRulePlaceholder,e)}}else{var n=this._tags[e];c(n,"old rule at index `"+e+"` not found"),n.textContent=t}return e},r.deleteRule=function(e){if("undefined"==typeof window)return void this._serverSheet.deleteRule(e);if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];c(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},r.flush=function(){this._injected=!1,this._rulesCount=0,"undefined"!=typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},r.cssRules=function(){var e=this;return"undefined"==typeof window?this._serverSheet.cssRules:this._tags.reduce(function(t,r){return r?t=t.concat(Array.prototype.map.call(e.getSheetForTag(r).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},r.makeStyleTag=function(e,t,r){t&&c(s(t),"makeStyleTag accepts only strings as second parameter");var n=document.createElement("style");this._nonce&&n.setAttribute("nonce",this._nonce),n.type="text/css",n.setAttribute("data-"+e,""),t&&n.appendChild(document.createTextNode(t));var o=document.head||document.getElementsByTagName("head")[0];return r?o.insertBefore(n,r):o.appendChild(n),n},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}();function c(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var d=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return t>>>0},u={};function h(e,t){if(!t)return"jsx-"+e;var r=String(t),n=e+r;return u[n]||(u[n]="jsx-"+d(e+"-"+r)),u[n]}function f(e,t){"undefined"==typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var r=e+t;return u[r]||(u[r]=t.replace(/__jsx-style-dynamic-selector/g,e)),u[r]}var m=function(){function e(e){var t=void 0===e?{}:e,r=t.styleSheet,n=void 0===r?null:r,o=t.optimizeForSpeed,i=void 0!==o&&o;this._sheet=n||new l({name:"styled-jsx",optimizeForSpeed:i}),this._sheet.inject(),n&&"boolean"==typeof i&&(this._sheet.setOptimizeForSpeed(i),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"undefined"==typeof window||this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var r=this.getIdAndRules(e),n=r.styleId,o=r.rules;if(n in this._instancesCounts){this._instancesCounts[n]+=1;return}var i=o.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[n]=i,this._instancesCounts[n]=1},t.remove=function(e){var t=this,r=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(r in this._instancesCounts,"styleId: `"+r+"` not found"),this._instancesCounts[r]-=1,this._instancesCounts[r]<1){var n=this._fromServer&&this._fromServer[r];n?(n.parentNode.removeChild(n),delete this._fromServer[r]):(this._indices[r].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[r]),delete this._instancesCounts[r]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],r=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return r[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,r;return t=this.cssRules(),void 0===(r=e)&&(r={}),t.map(function(e){var t=e[0],n=e[1];return i.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:r.nonce?r.nonce:void 0,dangerouslySetInnerHTML:{__html:n}})})},t.getIdAndRules=function(e){var t=e.children,r=e.dynamic,n=e.id;if(r){var o=h(n,r);return{styleId:o,rules:Array.isArray(t)?t.map(function(e){return f(o,e)}):[f(o,t)]}}return{styleId:h(n),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),p=o.createContext(null);function g(){return new m}function b(){return o.useContext(p)}p.displayName="StyleSheetContext";var x=i.default.useInsertionEffect||i.default.useLayoutEffect,v="undefined"!=typeof window?g():void 0;function y(e){var t=v||b();return t&&("undefined"==typeof window?t.add(e):x(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)])),null}y.dynamic=function(e){return e.map(function(e){return h(e[0],e[1])}).join(" ")},r.StyleRegistry=function(e){var t=e.registry,r=e.children,n=o.useContext(p),a=o.useState(function(){return n||t||g()})[0];return i.default.createElement(p.Provider,{value:a},r)},r.createStyleRegistry=g,r.style=y,r.useStyleRegistry=b},37902,(e,t,r)=>{t.exports=e.r(98547).style},85219,e=>{"use strict";var t=e.i(18050),r=e.i(37902),n=e.i(71645),o=e.i(18566);let i=n.forwardRef(function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))});var a=e.i(27217),s=e.i(87906),l=e.i(60759),c=e.i(18228);function d(){let e=(0,o.usePathname)(),[d,u]=(0,n.useState)(!1),[h,f]=(0,n.useState)([]),[m,p]=(0,n.useState)(0),[g,b]=(0,n.useState)(!1),x=(0,n.useRef)(null),v=(0,n.useRef)(null),y=!e||"/"===e||"/login"===e||"/register"===e||"/checkout"===e||e.startsWith("/reset-password");(0,n.useEffect)(()=>{if(!y)return S(),w(),()=>{x.current&&x.current.close(),v.current&&clearTimeout(v.current)}},[e]);let w=()=>{let e=localStorage.getItem("accessToken");if(!e)return;let t="https:"===window.location.protocol?"wss:":"ws:",r=`${t}//${window.location.host}/ws?token=${e}`;try{let e=new WebSocket(r);e.onopen=()=>{console.log("WebSocket connected");let t=setInterval(()=>{e.readyState===WebSocket.OPEN?e.send(JSON.stringify({event:"ping"})):clearInterval(t)},3e4)},e.onmessage=e=>{try{let t=JSON.parse(e.data);j(t)}catch(e){console.error("Error parsing WebSocket message:",e)}},e.onerror=e=>{console.error("WebSocket error:",e)},e.onclose=()=>{console.log("WebSocket disconnected, reconnecting..."),v.current=setTimeout(()=>{w()},3e3)},x.current=e}catch(e){console.error("Failed to connect WebSocket:",e)}},j=e=>{"notification:new"===e.event?(f(t=>[e.data.notification,...t]),p(e=>e+1)):("ticket:created"===e.event||"ticket:updated"===e.event)&&S()},S=async()=>{try{b(!0);let e=localStorage.getItem("accessToken");if(!e)return;let t=await fetch("/api/v1/notifications?limit=20",{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw Error("Failed to fetch notifications");let r=await t.json();r.success&&(f(r.data.notifications),p(r.data.unreadCount))}catch(e){console.error("Error fetching notifications:",e)}finally{b(!1)}},k=async e=>{try{let t=localStorage.getItem("accessToken");if(!t)return;(await fetch(`/api/v1/notifications/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({action:"read"})})).ok&&(f(t=>t.map(t=>t.id===e?{...t,status:c.NotificationStatus.READ}:t)),p(e=>Math.max(0,e-1)))}catch(e){console.error("Error marking notification as read:",e)}},C=async()=>{try{let e=localStorage.getItem("accessToken");if(!e)return;(await fetch("/api/v1/notifications",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({action:"markAllAsRead"})})).ok&&(f(e=>e.map(e=>({...e,status:c.NotificationStatus.READ}))),p(0))}catch(e){console.error("Error marking all as read:",e)}},E=async e=>{try{let t=localStorage.getItem("accessToken");if(!t)return;(await fetch(`/api/v1/notifications/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}})).ok&&f(t=>{let r=t.find(t=>t.id===e),n=r?.status===c.NotificationStatus.UNREAD,o=t.filter(t=>t.id!==e);return n&&p(e=>Math.max(0,e-1)),o})}catch(e){console.error("Error deleting notification:",e)}};return y?null:(0,t.jsxs)("div",{className:"jsx-b30b2ebba3d3d78 notification-center",children:[(0,t.jsxs)("button",{onClick:()=>u(!d),"aria-label":"Notifications",className:"jsx-b30b2ebba3d3d78 notification-button",children:[(0,t.jsx)(i,{className:"h-6 w-6"}),m>0&&(0,t.jsx)("span",{className:"jsx-b30b2ebba3d3d78 notification-badge",children:m>9?"9+":m})]}),d&&(0,t.jsxs)("div",{className:"jsx-b30b2ebba3d3d78 notification-panel",children:[(0,t.jsxs)("div",{className:"jsx-b30b2ebba3d3d78 notification-header",children:[(0,t.jsx)("h3",{className:"jsx-b30b2ebba3d3d78",children:"Notifications"}),(0,t.jsxs)("div",{className:"jsx-b30b2ebba3d3d78 notification-actions",children:[m>0&&(0,t.jsx)("button",{onClick:C,title:"Mark all as read",className:"jsx-b30b2ebba3d3d78 notification-action-button",children:(0,t.jsx)(s.CheckIcon,{className:"h-5 w-5"})}),(0,t.jsx)("button",{onClick:()=>u(!1),"aria-label":"Close",className:"jsx-b30b2ebba3d3d78 notification-action-button",children:(0,t.jsx)(a.XMarkIcon,{className:"h-5 w-5"})})]})]}),(0,t.jsx)("div",{className:"jsx-b30b2ebba3d3d78 notification-list",children:g?(0,t.jsx)("div",{className:"jsx-b30b2ebba3d3d78 notification-loading",children:"Loading..."}):0===h.length?(0,t.jsx)("div",{className:"jsx-b30b2ebba3d3d78 notification-empty",children:"No notifications"}):h.map(e=>(0,t.jsxs)("div",{onClick:()=>{e.link&&(window.location.href=e.link),e.status===c.NotificationStatus.UNREAD&&k(e.id)},className:`jsx-b30b2ebba3d3d78 notification-item ${e.status===c.NotificationStatus.UNREAD?"unread":""}`,children:[(0,t.jsxs)("div",{className:"jsx-b30b2ebba3d3d78 notification-content",children:[(0,t.jsx)("div",{className:"jsx-b30b2ebba3d3d78 notification-title",children:e.title}),(0,t.jsx)("div",{className:"jsx-b30b2ebba3d3d78 notification-message",children:e.message}),(0,t.jsx)("div",{className:"jsx-b30b2ebba3d3d78 notification-time",children:(e=>{let t=new Date(e),r=Math.floor((new Date().getTime()-t.getTime())/6e4);if(r<1)return"Just now";if(r<60)return`${r}m ago`;let n=Math.floor(r/60);if(n<24)return`${n}h ago`;let o=Math.floor(n/24);return o<7?`${o}d ago`:t.toLocaleDateString()})(e.createdAt)})]}),(0,t.jsxs)("div",{className:"jsx-b30b2ebba3d3d78 notification-item-actions",children:[e.status===c.NotificationStatus.UNREAD&&(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),k(e.id)},title:"Mark as read",className:"jsx-b30b2ebba3d3d78 notification-item-action",children:(0,t.jsx)(s.CheckIcon,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),E(e.id)},title:"Delete",className:"jsx-b30b2ebba3d3d78 notification-item-action",children:(0,t.jsx)(l.TrashIcon,{className:"h-4 w-4"})})]})]},e.id))})]}),(0,t.jsx)(r.default,{id:"b30b2ebba3d3d78",children:".notification-center.jsx-b30b2ebba3d3d78{position:relative}.notification-button.jsx-b30b2ebba3d3d78{cursor:pointer;color:var(--text-primary);background:0 0;border:none;justify-content:center;align-items:center;padding:.5rem;display:flex;position:relative}.notification-button.jsx-b30b2ebba3d3d78:hover{opacity:.8}.notification-badge.jsx-b30b2ebba3d3d78{background:var(--error-color,#ef4444);color:#fff;border-radius:50%;justify-content:center;align-items:center;width:1.25rem;height:1.25rem;font-size:.75rem;font-weight:700;display:flex;position:absolute;top:0;right:0}.notification-panel.jsx-b30b2ebba3d3d78{background:var(--bg-primary,#fff);border:1px solid var(--border-color,#e5e7eb);z-index:1000;border-radius:.5rem;flex-direction:column;width:24rem;max-height:32rem;margin-top:.5rem;display:flex;position:absolute;top:100%;right:0;box-shadow:0 10px 15px -3px #0000001a}.notification-header.jsx-b30b2ebba3d3d78{border-bottom:1px solid var(--border-color,#e5e7eb);justify-content:space-between;align-items:center;padding:1rem;display:flex}.notification-header.jsx-b30b2ebba3d3d78 h3.jsx-b30b2ebba3d3d78{margin:0;font-size:1.125rem;font-weight:600}.notification-actions.jsx-b30b2ebba3d3d78{gap:.5rem;display:flex}.notification-action-button.jsx-b30b2ebba3d3d78{cursor:pointer;color:var(--text-secondary,#6b7280);background:0 0;border:none;justify-content:center;align-items:center;padding:.25rem;display:flex}.notification-action-button.jsx-b30b2ebba3d3d78:hover{color:var(--text-primary,#111827)}.notification-list.jsx-b30b2ebba3d3d78{max-height:28rem;overflow-y:auto}.notification-loading.jsx-b30b2ebba3d3d78,.notification-empty.jsx-b30b2ebba3d3d78{text-align:center;color:var(--text-secondary,#6b7280);padding:2rem}.notification-item.jsx-b30b2ebba3d3d78{border-bottom:1px solid var(--border-color,#e5e7eb);cursor:pointer;justify-content:space-between;padding:1rem;transition:background-color .2s;display:flex}.notification-item.jsx-b30b2ebba3d3d78:hover{background-color:var(--bg-secondary,#f9fafb)}.notification-item.unread.jsx-b30b2ebba3d3d78{background-color:var(--bg-accent,#eff6ff)}.notification-content.jsx-b30b2ebba3d3d78{flex:1}.notification-title.jsx-b30b2ebba3d3d78{color:var(--text-primary,#111827);margin-bottom:.25rem;font-weight:600}.notification-message.jsx-b30b2ebba3d3d78{color:var(--text-secondary,#6b7280);margin-bottom:.25rem;font-size:.875rem}.notification-time.jsx-b30b2ebba3d3d78{color:var(--text-tertiary,#9ca3af);font-size:.75rem}.notification-item-actions.jsx-b30b2ebba3d3d78{align-items:center;gap:.5rem;display:flex}.notification-item-action.jsx-b30b2ebba3d3d78{cursor:pointer;color:var(--text-secondary,#6b7280);background:0 0;border:none;justify-content:center;align-items:center;padding:.25rem;display:flex}.notification-item-action.jsx-b30b2ebba3d3d78:hover{color:var(--text-primary,#111827)}@media (prefers-color-scheme:dark){.notification-panel.jsx-b30b2ebba3d3d78{background:var(--bg-primary,#1f2937);border-color:var(--border-color,#374151)}.notification-header.jsx-b30b2ebba3d3d78,.notification-item.jsx-b30b2ebba3d3d78{border-bottom-color:var(--border-color,#374151)}.notification-item.jsx-b30b2ebba3d3d78:hover{background-color:var(--bg-secondary,#111827)}.notification-item.unread.jsx-b30b2ebba3d3d78{background-color:var(--bg-accent,#1e3a8a)}}"})]})}e.s(["default",()=>d],85219)},24424,e=>{"use strict";var t=e.i(18050),r=e.i(71645),n=e.i(18566),o=e.i(22016),i=e.i(24900);function a(){let e=(0,n.usePathname)(),[a,s]=(0,r.useState)(null),[l,c]=(0,r.useState)(null),[d,u]=(0,r.useState)(!0),[h,f]=(0,r.useState)(!0);if((0,r.useEffect)(()=>{let e=localStorage.getItem("user");if(e)try{s(JSON.parse(e))}catch(e){}},[]),(0,r.useEffect)(()=>{(async()=>{f(!0);try{if(e?.startsWith("/tenant/")){let t=e.split("/tenant/")[1]?.split("/")[0];if(t){let e=await fetch(`/api/v1/tenants/${t}`),r=await e.json();if(r.success&&r.data){let e=await fetch(`/api/v1/tenants/${t}/organization`);if(e.ok){let t=await e.json();t.success&&c(t.data)}}}}else{let e=localStorage.getItem("accessToken");if(e){let t=await fetch("/api/v1/organizations/me",{headers:{Authorization:`Bearer ${e}`}});if(t.ok){let e=await t.json();c(e.organization)}}}let t=await fetch("/api/v1/config/public");if(t.ok){let e=await t.json();e.success&&u(e.data?.registrationEnabled??!0)}}catch(e){}finally{f(!1)}})()},[e]),!e||"/"===e||"/login"===e||"/register"===e||"/checkout"===e||e.startsWith("/reset-password"))return null;let m=!!a&&!!localStorage.getItem("accessToken"),p=e?.startsWith("/tenant/"),g=p?e.split("/tenant/")[1]?.split("/")[0]:null,b=p?e:"/dashboard";return(0,t.jsxs)("header",{style:{position:"fixed",top:0,left:m?"var(--side-nav-width, 72px)":0,right:0,height:"64px",backgroundColor:"var(--bg-primary)",borderBottom:"1px solid var(--border-color)",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 1.5rem",zIndex:999,transition:"left 0.3s ease"},children:[(0,t.jsxs)(o.default,{href:p&&g?`/tenant/${g}`:"/dashboard",style:{display:"flex",alignItems:"center",gap:"0.5rem",textDecoration:"none",color:"var(--text-primary)"},children:[l?.logo?(0,t.jsx)("img",{src:l.logo,alt:l.name,style:{width:"32px",height:"32px",objectFit:"contain"}}):(0,t.jsx)(i.TicketIcon,{className:"w-6 h-6",style:{color:"var(--accent-primary)"}}),l&&(0,t.jsx)("span",{style:{fontWeight:600,fontSize:"1rem"},children:l.name})]}),(p&&(!m||m&&a?.roles?.includes("END_USER"))||!p&&m&&a?.roles?.includes("END_USER"))&&(0,t.jsx)("nav",{style:{display:"flex",gap:"1.5rem",alignItems:"center"},children:p?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.default,{href:`/tenant/${g}`,style:{color:e===`/tenant/${g}`?"var(--accent-primary)":"var(--text-primary)",textDecoration:"none",fontSize:"0.875rem",fontWeight:e===`/tenant/${g}`?600:400},children:"Home"}),(0,t.jsx)(o.default,{href:`/tenant/${g}/kb`,style:{color:e?.includes("/kb")?"var(--accent-primary)":"var(--text-primary)",textDecoration:"none",fontSize:"0.875rem",fontWeight:e?.includes("/kb")?600:400},children:"Knowledge Base"}),(0,t.jsx)(o.default,{href:`/tenant/${g}/submit`,style:{color:e?.includes("/submit")?"var(--accent-primary)":"var(--text-primary)",textDecoration:"none",fontSize:"0.875rem",fontWeight:e?.includes("/submit")?600:400},children:"Submit Ticket"}),(m||localStorage.getItem("publicToken"))&&(0,t.jsx)(o.default,{href:`/tenant/${g}/tickets`,style:{color:e?.includes("/tickets")?"var(--accent-primary)":"var(--text-primary)",textDecoration:"none",fontSize:"0.875rem",fontWeight:e?.includes("/tickets")?600:400},children:"My Tickets"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.default,{href:"/dashboard",style:{color:"/dashboard"===e?"var(--accent-primary)":"var(--text-primary)",textDecoration:"none",fontSize:"0.875rem",fontWeight:"/dashboard"===e?600:400},children:"Home"}),(0,t.jsx)(o.default,{href:"/kb",style:{color:e?.includes("/kb")?"var(--accent-primary)":"var(--text-primary)",textDecoration:"none",fontSize:"0.875rem",fontWeight:e?.includes("/kb")?600:400},children:"Knowledge Base"}),(0,t.jsx)(o.default,{href:"/tickets/new",style:{color:e?.includes("/tickets/new")?"var(--accent-primary)":"var(--text-primary)",textDecoration:"none",fontSize:"0.875rem",fontWeight:e?.includes("/tickets/new")?600:400},children:"Submit Ticket"}),(0,t.jsx)(o.default,{href:"/tickets",style:{color:"/tickets"===e?"var(--accent-primary)":"var(--text-primary)",textDecoration:"none",fontSize:"0.875rem",fontWeight:"/tickets"===e?600:400},children:"My Tickets"})]})}),m?(0,t.jsx)("div",{style:{position:"relative",display:"flex",alignItems:"center"},children:(0,t.jsxs)("button",{onClick:()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),window.location.href="/login"},style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"6px",color:"var(--text-primary)",cursor:"pointer",fontSize:"0.875rem",fontWeight:500,transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(239, 68, 68, 0.1)",e.currentTarget.style.borderColor="var(--error)",e.currentTarget.style.color="var(--error)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="var(--bg-secondary)",e.currentTarget.style.borderColor="var(--border-color)",e.currentTarget.style.color="var(--text-primary)"},children:[(0,t.jsx)("span",{children:""}),(0,t.jsx)("span",{children:"Logout"})]})}):(0,t.jsxs)("div",{style:{display:"flex",gap:"0.75rem",alignItems:"center"},children:[(0,t.jsx)(o.default,{href:`/login?redirect=${encodeURIComponent(b)}`,style:{padding:"0.5rem 1rem",backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",textDecoration:"none",borderRadius:"6px",fontSize:"0.875rem",fontWeight:500,border:"1px solid var(--border-color)"},children:"Login"}),d&&(0,t.jsx)(o.default,{href:`/register?redirect=${encodeURIComponent(b)}`,style:{padding:"0.5rem 1rem",backgroundColor:"var(--accent-primary)",color:"white",textDecoration:"none",borderRadius:"6px",fontSize:"0.875rem",fontWeight:500},children:"Register"})]})]})}e.s(["default",()=>a])},18751,e=>{"use strict";var t=e.i(18050),r=e.i(71645),n=e.i(18566);function o({children:e}){let o=(0,n.usePathname)(),[i,a]=(0,r.useState)(!1),[s,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{let e=()=>{let e=localStorage.getItem("accessToken"),t=localStorage.getItem("user");a(!!e&&!!t);let r=[];try{t&&(r=JSON.parse(t).roles||[])}catch(e){}l(r.includes("END_USER"))};return e(),d(!0),window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}},[o]),!o||"/"===o||"/login"===o||"/register"===o||"/checkout"===o||o.startsWith("/reset-password")||!c)?(0,t.jsx)("main",{children:e}):(0,t.jsx)("main",{style:{marginLeft:i&&!s?"var(--side-nav-width, 72px)":"0",marginTop:"64px",transition:"margin-left 0.3s ease"},children:e})}e.s(["default",()=>o])}]);