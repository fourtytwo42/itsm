{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///home/hendo420/itsm/components/ChatWidget.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useRef, useEffect } from 'react'\nimport { PaperAirplaneIcon, XMarkIcon } from '@heroicons/react/24/outline'\n\ninterface Message {\n  role: 'user' | 'assistant'\n  content: string\n}\n\nexport default function ChatWidget() {\n  const [isOpen, setIsOpen] = useState(false)\n  const [messages, setMessages] = useState<Message[]>([\n    {\n      role: 'assistant',\n      content: 'Hello! I can help you find answers in our knowledge base or create a support ticket. How can I assist you today?',\n    },\n  ])\n  const [input, setInput] = useState('')\n  const [loading, setLoading] = useState(false)\n  const messagesEndRef = useRef<HTMLDivElement>(null)\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' })\n  }\n\n  useEffect(() => {\n    scrollToBottom()\n  }, [messages])\n\n  const handleSend = async () => {\n    if (!input.trim() || loading) return\n\n    const userMessage: Message = { role: 'user', content: input }\n    setMessages((prev) => [...prev, userMessage])\n    setInput('')\n    setLoading(true)\n\n    try {\n      const token = localStorage.getItem('accessToken')\n      const response = await fetch('/api/v1/ai/chat', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          ...(token && { Authorization: `Bearer ${token}` }),\n        },\n        body: JSON.stringify({\n          messages: [...messages, userMessage].map((m) => ({\n            role: m.role,\n            content: m.content,\n          })),\n        }),\n      })\n\n      const data = await response.json()\n\n      if (!data.success) {\n        throw new Error(data.error?.message || 'Failed to get response')\n      }\n\n      const assistantMessage: Message = {\n        role: 'assistant',\n        content: data.data.reply,\n      }\n\n      setMessages((prev) => [...prev, assistantMessage])\n    } catch (error) {\n      const errorMessage: Message = {\n        role: 'assistant',\n        content: 'Sorry, I encountered an error. Please try again or create a support ticket.',\n      }\n      setMessages((prev) => [...prev, errorMessage])\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault()\n      handleSend()\n    }\n  }\n\n  if (!isOpen) {\n    return (\n      <button\n        onClick={() => setIsOpen(true)}\n        style={{\n          position: 'fixed',\n          bottom: '20px',\n          right: '20px',\n          width: '60px',\n          height: '60px',\n          borderRadius: '50%',\n          backgroundColor: 'var(--accent-primary)',\n          color: 'white',\n          border: 'none',\n          cursor: 'pointer',\n          boxShadow: '0 4px 12px var(--shadow)',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          zIndex: 1000,\n        }}\n        aria-label=\"Open chat\"\n      >\n        <PaperAirplaneIcon style={{ width: '24px', height: '24px' }} />\n      </button>\n    )\n  }\n\n  return (\n    <div\n      style={{\n        position: 'fixed',\n        bottom: '20px',\n        right: '20px',\n        width: '400px',\n        maxWidth: 'calc(100vw - 40px)',\n        height: '600px',\n        maxHeight: 'calc(100vh - 40px)',\n        backgroundColor: 'var(--bg-secondary)',\n        border: '1px solid var(--border-color)',\n        borderRadius: '12px',\n        boxShadow: '0 8px 24px var(--shadow)',\n        display: 'flex',\n        flexDirection: 'column',\n        zIndex: 1000,\n      }}\n    >\n      <div\n        style={{\n          padding: '1rem',\n          borderBottom: '1px solid var(--border-color)',\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n        }}\n      >\n        <h3 style={{ margin: 0, fontWeight: '600' }}>AI Assistant</h3>\n        <button\n          onClick={() => setIsOpen(false)}\n          style={{\n            background: 'none',\n            border: 'none',\n            color: 'var(--text-secondary)',\n            cursor: 'pointer',\n            padding: '0.25rem',\n          }}\n          aria-label=\"Close chat\"\n        >\n          <XMarkIcon style={{ width: '20px', height: '20px' }} />\n        </button>\n      </div>\n\n      <div\n        style={{\n          flex: 1,\n          overflowY: 'auto',\n          padding: '1rem',\n          display: 'flex',\n          flexDirection: 'column',\n          gap: '1rem',\n        }}\n      >\n        {messages.map((msg, idx) => (\n          <div\n            key={idx}\n            style={{\n              alignSelf: msg.role === 'user' ? 'flex-end' : 'flex-start',\n              maxWidth: '80%',\n              padding: '0.75rem 1rem',\n              borderRadius: '12px',\n              backgroundColor:\n                msg.role === 'user'\n                  ? 'var(--accent-primary)'\n                  : 'var(--bg-tertiary)',\n              color:\n                msg.role === 'user'\n                  ? 'white'\n                  : 'var(--text-primary)',\n            }}\n          >\n            {msg.content}\n          </div>\n        ))}\n        {loading && (\n          <div\n            style={{\n              alignSelf: 'flex-start',\n              padding: '0.75rem 1rem',\n              borderRadius: '12px',\n              backgroundColor: 'var(--bg-tertiary)',\n              color: 'var(--text-secondary)',\n            }}\n          >\n            Thinking...\n          </div>\n        )}\n        <div ref={messagesEndRef} />\n      </div>\n\n      <div\n        style={{\n          padding: '1rem',\n          borderTop: '1px solid var(--border-color)',\n          display: 'flex',\n          gap: '0.5rem',\n        }}\n      >\n        <input\n          type=\"text\"\n          value={input}\n          onChange={(e) => setInput(e.target.value)}\n          onKeyPress={handleKeyPress}\n          placeholder=\"Type your message...\"\n          disabled={loading}\n          style={{\n            flex: 1,\n            padding: '0.75rem',\n            border: '1px solid var(--border-color)',\n            borderRadius: '8px',\n            backgroundColor: 'var(--bg-primary)',\n            color: 'var(--text-primary)',\n            fontSize: '0.875rem',\n          }}\n        />\n        <button\n          onClick={handleSend}\n          disabled={loading || !input.trim()}\n          style={{\n            padding: '0.75rem 1rem',\n            backgroundColor: 'var(--accent-primary)',\n            color: 'white',\n            border: 'none',\n            borderRadius: '8px',\n            cursor: loading || !input.trim() ? 'not-allowed' : 'pointer',\n            opacity: loading || !input.trim() ? 0.5 : 1,\n          }}\n        >\n          <PaperAirplaneIcon style={{ width: '20px', height: '20px' }} />\n        </button>\n      </div>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 337, "column": 0}, "map": {"version":3,"sources":["file:///home/hendo420/itsm/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0]}},
    {"offset": {"line": 356, "column": 0}, "map": {"version":3,"sources":["file:///home/hendo420/itsm/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 361, "column": 0}, "map": {"version":3,"sources":["file:///home/hendo420/itsm/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0]}},
    {"offset": {"line": 366, "column": 0}, "map": {"version":3,"sources":["file:///home/hendo420/itsm/node_modules/%40heroicons/react/24/outline/esm/PaperAirplaneIcon.js"],"sourcesContent":["import * as React from \"react\";\nfunction PaperAirplaneIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5\"\n  }));\n}\nconst ForwardRef = React.forwardRef(PaperAirplaneIcon);\nexport default ForwardRef;"],"names":[],"mappings":";;;;AAAA;;AACA,SAAS,kBAAkB,EACzB,KAAK,EACL,OAAO,EACP,GAAG,OACJ,EAAE,MAAM;IACP,OAAO,WAAW,GAAE,sNAAmB,CAAC,OAAO,OAAO,MAAM,CAAC;QAC3D,OAAO;QACP,MAAM;QACN,SAAS;QACT,aAAa;QACb,QAAQ;QACR,eAAe;QACf,aAAa;QACb,KAAK;QACL,mBAAmB;IACrB,GAAG,QAAQ,QAAQ,WAAW,GAAE,sNAAmB,CAAC,SAAS;QAC3D,IAAI;IACN,GAAG,SAAS,MAAM,WAAW,GAAE,sNAAmB,CAAC,QAAQ;QACzD,eAAe;QACf,gBAAgB;QAChB,GAAG;IACL;AACF;AACA,MAAM,aAAa,mNAAgB,CAAC;uCACrB","ignoreList":[0]}},
    {"offset": {"line": 406, "column": 0}, "map": {"version":3,"sources":["file:///home/hendo420/itsm/node_modules/%40heroicons/react/24/outline/esm/XMarkIcon.js"],"sourcesContent":["import * as React from \"react\";\nfunction XMarkIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M6 18 18 6M6 6l12 12\"\n  }));\n}\nconst ForwardRef = React.forwardRef(XMarkIcon);\nexport default ForwardRef;"],"names":[],"mappings":";;;;AAAA;;AACA,SAAS,UAAU,EACjB,KAAK,EACL,OAAO,EACP,GAAG,OACJ,EAAE,MAAM;IACP,OAAO,WAAW,GAAE,sNAAmB,CAAC,OAAO,OAAO,MAAM,CAAC;QAC3D,OAAO;QACP,MAAM;QACN,SAAS;QACT,aAAa;QACb,QAAQ;QACR,eAAe;QACf,aAAa;QACb,KAAK;QACL,mBAAmB;IACrB,GAAG,QAAQ,QAAQ,WAAW,GAAE,sNAAmB,CAAC,SAAS;QAC3D,IAAI;IACN,GAAG,SAAS,MAAM,WAAW,GAAE,sNAAmB,CAAC,QAAQ;QACzD,eAAe;QACf,gBAAgB;QAChB,GAAG;IACL;AACF;AACA,MAAM,aAAa,mNAAgB,CAAC;uCACrB","ignoreList":[0]}}]
}