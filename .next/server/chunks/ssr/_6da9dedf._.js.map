{"version":3,"sources":["../../../../components/TicketsTable.tsx","../../../../node_modules/%40heroicons/react/24/outline/esm/ChevronUpIcon.js","../../../../node_modules/%40heroicons/react/24/outline/esm/ChevronDownIcon.js","../../../../app/dashboard/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport Link from 'next/link'\nimport { TicketStatus, TicketPriority } from '@prisma/client'\nimport { ChevronUpIcon, ChevronDownIcon } from '@heroicons/react/24/outline'\n\ninterface Ticket {\n  id: string\n  ticketNumber: string\n  subject: string\n  description: string\n  status: TicketStatus\n  priority: TicketPriority\n  createdAt: string\n  updatedAt: string\n  requester?: {\n    id: string\n    email: string\n    firstName: string | null\n    lastName: string | null\n  } | null\n  requesterEmail?: string | null\n  requesterName?: string | null\n  assignee?: {\n    id: string\n    email: string\n    firstName: string | null\n    lastName: string | null\n  } | null\n  tenant?: {\n    id: string\n    name: string\n    slug: string\n  } | null\n}\n\ninterface TicketsTableProps {\n  tickets: Ticket[]\n  onStatusChange?: (ticketId: string, newStatus: TicketStatus) => Promise<void>\n  showQuickActions?: boolean\n  onRefresh?: () => void\n  disableClientSort?: boolean // Disable client-side sorting (for server-side sorted data)\n  onSortChange?: (field: string, order: 'asc' | 'desc') => void // Callback for server-side sorting\n  currentSortField?: string // Current sort field (for server-side sorting display)\n  currentSortOrder?: 'asc' | 'desc' // Current sort order (for server-side sorting display)\n}\n\nexport default function TicketsTable({ \n  tickets, \n  onStatusChange, \n  showQuickActions = true, \n  onRefresh,\n  disableClientSort = false,\n  onSortChange,\n  currentSortField: externalSortField,\n  currentSortOrder: externalSortOrder,\n}: TicketsTableProps) {\n  const [internalSortField, setInternalSortField] = useState<string>('createdAt')\n  const [internalSortOrder, setInternalSortOrder] = useState<'asc' | 'desc'>('desc')\n  \n  // Use external sort state if provided, otherwise use internal state\n  const sortField = disableClientSort && externalSortField !== undefined ? externalSortField : internalSortField\n  const sortOrder = disableClientSort && externalSortOrder !== undefined ? externalSortOrder : internalSortOrder\n  const [updatingStatus, setUpdatingStatus] = useState<Record<string, boolean>>({})\n\n  const handleSort = (field: string) => {\n    if (disableClientSort && onSortChange) {\n      // Server-side sorting\n      const newOrder = sortField === field && sortOrder === 'desc' ? 'asc' : 'desc'\n      onSortChange(field, newOrder)\n    } else {\n      // Client-side sorting\n      if (sortField === field) {\n        setInternalSortOrder(internalSortOrder === 'asc' ? 'desc' : 'asc')\n      } else {\n        setInternalSortField(field)\n        setInternalSortOrder('desc')\n      }\n    }\n  }\n\n  const handleStatusChange = async (ticketId: string, newStatus: TicketStatus) => {\n    if (!onStatusChange) return\n\n    setUpdatingStatus(prev => ({ ...prev, [ticketId]: true }))\n    try {\n      await onStatusChange(ticketId, newStatus)\n      if (onRefresh) {\n        onRefresh()\n      }\n    } catch (error) {\n      console.error('Failed to update status:', error)\n    } finally {\n      setUpdatingStatus(prev => ({ ...prev, [ticketId]: false }))\n    }\n  }\n\n  const sortedTickets = disableClientSort ? tickets : [...tickets].sort((a, b) => {\n    let aValue: any\n    let bValue: any\n\n    switch (sortField) {\n      case 'ticketNumber':\n        aValue = a.ticketNumber\n        bValue = b.ticketNumber\n        break\n      case 'subject':\n        aValue = a.subject\n        bValue = b.subject\n        break\n      case 'status':\n        aValue = a.status\n        bValue = b.status\n        break\n      case 'priority':\n        aValue = a.priority\n        bValue = b.priority\n        break\n      case 'createdAt':\n        aValue = new Date(a.createdAt).getTime()\n        bValue = new Date(b.createdAt).getTime()\n        break\n      case 'updatedAt':\n        aValue = new Date(a.updatedAt).getTime()\n        bValue = new Date(b.updatedAt).getTime()\n        break\n      case 'requester':\n        aValue = a.requester?.email || a.requesterEmail || ''\n        bValue = b.requester?.email || b.requesterEmail || ''\n        break\n      case 'assignee':\n        aValue = a.assignee?.email || ''\n        bValue = b.assignee?.email || ''\n        break\n      default:\n        aValue = new Date(a.createdAt).getTime()\n        bValue = new Date(b.createdAt).getTime()\n    }\n\n    if (aValue < bValue) return sortOrder === 'asc' ? -1 : 1\n    if (aValue > bValue) return sortOrder === 'asc' ? 1 : -1\n    return 0\n  })\n\n  const getStatusColor = (status: TicketStatus) => {\n    switch (status) {\n      case 'NEW':\n        return 'rgba(59, 130, 246, 0.15)'\n      case 'IN_PROGRESS':\n        return 'rgba(234, 179, 8, 0.15)'\n      case 'RESOLVED':\n        return 'rgba(34, 197, 94, 0.15)'\n      case 'CLOSED':\n        return 'rgba(107, 114, 128, 0.15)'\n      default:\n        return 'var(--bg-tertiary)'\n    }\n  }\n\n  const getStatusTextColor = (status: TicketStatus) => {\n    switch (status) {\n      case 'NEW':\n        return 'rgb(59, 130, 246)'\n      case 'IN_PROGRESS':\n        return 'rgb(234, 179, 8)'\n      case 'RESOLVED':\n        return 'rgb(34, 197, 94)'\n      case 'CLOSED':\n        return 'rgb(107, 114, 128)'\n      default:\n        return 'var(--text-secondary)'\n    }\n  }\n\n  const getPriorityColor = (priority: TicketPriority) => {\n    switch (priority) {\n      case 'LOW':\n        return 'rgba(34, 197, 94, 0.15)'\n      case 'MEDIUM':\n        return 'rgba(234, 179, 8, 0.15)'\n      case 'HIGH':\n        return 'rgba(251, 146, 60, 0.15)'\n      case 'CRITICAL':\n        return 'rgba(239, 68, 68, 0.15)'\n      default:\n        return 'var(--bg-tertiary)'\n    }\n  }\n\n  const getPriorityTextColor = (priority: TicketPriority) => {\n    switch (priority) {\n      case 'LOW':\n        return 'rgb(34, 197, 94)'\n      case 'MEDIUM':\n        return 'rgb(234, 179, 8)'\n      case 'HIGH':\n        return 'rgb(251, 146, 60)'\n      case 'CRITICAL':\n        return 'rgb(239, 68, 68)'\n      default:\n        return 'var(--text-secondary)'\n    }\n  }\n\n  const getRequesterName = (ticket: Ticket) => {\n    if (ticket.requester) {\n      const name = [ticket.requester.firstName, ticket.requester.lastName].filter(Boolean).join(' ')\n      return name || ticket.requester.email\n    }\n    return ticket.requesterName || ticket.requesterEmail || 'Unknown'\n  }\n\n  const SortableHeader = ({ field, label }: { field: string; label: string }) => (\n    <th\n      style={{\n        padding: '0.875rem 1rem',\n        textAlign: 'left',\n        fontWeight: 600,\n        fontSize: '0.875rem',\n        cursor: 'pointer',\n        userSelect: 'none',\n        position: 'relative',\n      }}\n      onClick={() => handleSort(field)}\n    >\n      <div style={{ display: 'flex', alignItems: 'center', gap: '0.25rem' }}>\n        {label}\n        {sortField === field && (\n          sortOrder === 'asc' ? (\n            <ChevronUpIcon style={{ width: '0.875rem', height: '0.875rem' }} />\n          ) : (\n            <ChevronDownIcon style={{ width: '0.875rem', height: '0.875rem' }} />\n          )\n        )}\n      </div>\n    </th>\n  )\n\n  if (tickets.length === 0) {\n    return (\n      <div className=\"card\" style={{ padding: '3rem', textAlign: 'center', color: 'var(--text-secondary)' }}>\n        No tickets found.\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"card\" style={{ overflowX: 'auto', padding: 0 }}>\n      <table style={{ width: '100%', borderCollapse: 'collapse' }}>\n        <thead>\n          <tr style={{ borderBottom: '2px solid var(--border-color)', backgroundColor: 'var(--bg-secondary)' }}>\n            <SortableHeader field=\"ticketNumber\" label=\"Ticket #\" />\n            <SortableHeader field=\"subject\" label=\"Subject\" />\n            <SortableHeader field=\"requester\" label=\"Requester\" />\n            <SortableHeader field=\"assignee\" label=\"Assignee\" />\n            <SortableHeader field=\"status\" label=\"Status\" />\n            <SortableHeader field=\"priority\" label=\"Priority\" />\n            <SortableHeader field=\"createdAt\" label=\"Created\" />\n            {showQuickActions && (\n              <th style={{ padding: '0.875rem 1rem', textAlign: 'right', fontWeight: 600, fontSize: '0.875rem' }}>\n                Actions\n              </th>\n            )}\n          </tr>\n        </thead>\n        <tbody>\n          {sortedTickets.map((ticket) => (\n            <tr key={ticket.id} style={{ borderBottom: '1px solid var(--border-color)' }}>\n              <td style={{ padding: '1rem' }}>\n                <Link\n                  href={`/tickets/${ticket.id}`}\n                  style={{ color: 'var(--accent-primary)', textDecoration: 'none', fontWeight: 500 }}\n                >\n                  {ticket.ticketNumber}\n                </Link>\n              </td>\n              <td style={{ padding: '1rem' }}>\n                <Link\n                  href={`/tickets/${ticket.id}`}\n                  style={{ color: 'var(--text-primary)', textDecoration: 'none' }}\n                >\n                  {ticket.subject}\n                </Link>\n              </td>\n              <td style={{ padding: '1rem', color: 'var(--text-secondary)' }}>\n                {getRequesterName(ticket)}\n              </td>\n              <td style={{ padding: '1rem', color: 'var(--text-secondary)' }}>\n                {ticket.assignee\n                  ? [ticket.assignee.firstName, ticket.assignee.lastName].filter(Boolean).join(' ') || ticket.assignee.email\n                  : 'Unassigned'}\n              </td>\n              <td style={{ padding: '1rem' }}>\n                <span\n                  style={{\n                    padding: '0.25rem 0.75rem',\n                    backgroundColor: getStatusColor(ticket.status),\n                    color: getStatusTextColor(ticket.status),\n                    borderRadius: '4px',\n                    fontSize: '0.75rem',\n                    fontWeight: 500,\n                    textTransform: 'capitalize',\n                  }}\n                >\n                  {ticket.status.replace('_', ' ')}\n                </span>\n              </td>\n              <td style={{ padding: '1rem' }}>\n                <span\n                  style={{\n                    padding: '0.25rem 0.75rem',\n                    backgroundColor: getPriorityColor(ticket.priority),\n                    color: getPriorityTextColor(ticket.priority),\n                    borderRadius: '4px',\n                    fontSize: '0.75rem',\n                    fontWeight: 500,\n                    textTransform: 'capitalize',\n                  }}\n                >\n                  {ticket.priority}\n                </span>\n              </td>\n              <td style={{ padding: '1rem', color: 'var(--text-secondary)', fontSize: '0.875rem' }}>\n                {new Date(ticket.createdAt).toLocaleDateString()} {new Date(ticket.createdAt).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n              </td>\n              {showQuickActions && (\n                <td style={{ padding: '1rem', textAlign: 'right' }}>\n                  {onStatusChange && (\n                    <select\n                      value={ticket.status}\n                      onChange={(e) => handleStatusChange(ticket.id, e.target.value as TicketStatus)}\n                      disabled={updatingStatus[ticket.id]}\n                      style={{\n                        padding: '0.375rem 0.75rem',\n                        border: '1px solid var(--border-color)',\n                        borderRadius: '4px',\n                        backgroundColor: 'var(--bg-primary)',\n                        color: 'var(--text-primary)',\n                        cursor: updatingStatus[ticket.id] ? 'not-allowed' : 'pointer',\n                        fontSize: '0.875rem',\n                      }}\n                    >\n                      <option value=\"NEW\">New</option>\n                      <option value=\"IN_PROGRESS\">In Progress</option>\n                      <option value=\"RESOLVED\">Resolved</option>\n                      <option value=\"CLOSED\">Closed</option>\n                    </select>\n                  )}\n                </td>\n              )}\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  )\n}\n\n","import * as React from \"react\";\nfunction ChevronUpIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m4.5 15.75 7.5-7.5 7.5 7.5\"\n  }));\n}\nconst ForwardRef = React.forwardRef(ChevronUpIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ChevronDownIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m19.5 8.25-7.5 7.5-7.5-7.5\"\n  }));\n}\nconst ForwardRef = React.forwardRef(ChevronDownIcon);\nexport default ForwardRef;","'use client'\n\nimport { useState, useEffect } from 'react'\nimport Link from 'next/link'\nimport { TicketStatus, TicketPriority } from '@prisma/client'\nimport TicketsTable from '@/components/TicketsTable'\n\ninterface DashboardMetrics {\n  totalTickets: number\n  openTickets: number\n  resolvedTickets: number\n  closedTickets: number\n  averageResolutionTime: number\n  slaCompliance: number\n  ticketsByPriority: Record<string, number>\n  ticketsByStatus: Record<string, number>\n}\n\ninterface Ticket {\n  id: string\n  ticketNumber: string\n  subject: string\n  description: string\n  status: TicketStatus\n  priority: TicketPriority\n  createdAt: string\n  updatedAt: string\n  requester?: {\n    id: string\n    email: string\n    firstName: string | null\n    lastName: string | null\n  } | null\n  requesterEmail?: string | null\n  requesterName?: string | null\n  assignee?: {\n    id: string\n    email: string\n    firstName: string | null\n    lastName: string | null\n  } | null\n  tenant?: {\n    id: string\n    name: string\n    slug: string\n  } | null\n}\n\ninterface KBArticle {\n  id: string\n  slug: string\n  title: string\n  content: string\n  status: string\n  createdAt: string\n  updatedAt: string\n}\n\nexport default function DashboardPage() {\n  const [metrics, setMetrics] = useState<DashboardMetrics | null>(null)\n  const [mttr, setMttr] = useState<number | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [tickets, setTickets] = useState<Ticket[]>([])\n  const [ticketsLoading, setTicketsLoading] = useState(false)\n  const [kbArticles, setKbArticles] = useState<KBArticle[]>([])\n  const [kbLoading, setKbLoading] = useState(false)\n  const [user, setUser] = useState<any>(null)\n\n  useEffect(() => {\n    const storedUser = localStorage.getItem('user')\n    if (storedUser) {\n      try {\n        const userData = JSON.parse(storedUser)\n        setUser(userData)\n      } catch (e) {\n        console.error('Failed to parse user data')\n      }\n    }\n    loadDashboardData()\n  }, [])\n\n  useEffect(() => {\n    if (user) {\n      const isAgent = user.roles?.some((r: string) => ['AGENT', 'IT_MANAGER', 'ADMIN'].includes(r))\n      if (isAgent) {\n        loadAssignedTickets()\n        loadRecentKBArticles()\n      }\n    }\n  }, [user])\n\n  const loadDashboardData = async () => {\n    try {\n      setLoading(true)\n      const token = localStorage.getItem('accessToken')\n\n      const [metricsRes, mttrRes] = await Promise.all([\n        fetch('/api/v1/analytics/metrics', {\n          headers: token ? { Authorization: `Bearer ${token}` } : {},\n        }),\n        fetch('/api/v1/analytics/mttr', {\n          headers: token ? { Authorization: `Bearer ${token}` } : {},\n        }),\n      ])\n\n      const metricsData = await metricsRes.json()\n      const mttrData = await mttrRes.json()\n\n      if (metricsData.success) {\n        setMetrics(metricsData.data.metrics)\n      }\n\n      if (mttrData.success) {\n        setMttr(mttrData.data.mttr)\n      }\n    } catch (error) {\n      console.error('Failed to load dashboard data:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const loadAssignedTickets = async () => {\n    try {\n      setTicketsLoading(true)\n      const token = localStorage.getItem('accessToken')\n      const response = await fetch(\n        `/api/v1/tickets?onlyAssignedToMe=true&excludeStatuses=CLOSED,RESOLVED&limit=20`,\n        {\n          headers: token ? { Authorization: `Bearer ${token}` } : {},\n        }\n      )\n\n      const data = await response.json()\n      if (data.success) {\n        setTickets(data.data || [])\n      }\n    } catch (error) {\n      console.error('Failed to load assigned tickets:', error)\n    } finally {\n      setTicketsLoading(false)\n    }\n  }\n\n  const loadRecentKBArticles = async () => {\n    try {\n      setKbLoading(true)\n      const token = localStorage.getItem('accessToken')\n      const response = await fetch('/api/v1/kb?limit=5', {\n        headers: token ? { Authorization: `Bearer ${token}` } : {},\n      })\n\n      const data = await response.json()\n      if (data.success && Array.isArray(data.data)) {\n        setKbArticles(data.data.slice(0, 5))\n      }\n    } catch (error) {\n      console.error('Failed to load KB articles:', error)\n    } finally {\n      setKbLoading(false)\n    }\n  }\n\n  const handleStatusChange = async (ticketId: string, newStatus: TicketStatus) => {\n    const token = localStorage.getItem('accessToken')\n    try {\n      const response = await fetch(`/api/v1/tickets/${ticketId}`, {\n        method: 'PATCH',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify({ status: newStatus }),\n      })\n\n      const data = await response.json()\n      if (!data.success) {\n        throw new Error(data.error?.message || 'Failed to update status')\n      }\n\n      // If status is CLOSED or RESOLVED, remove from dashboard\n      if (newStatus === 'CLOSED' || newStatus === 'RESOLVED') {\n        setTickets(prev => prev.filter(t => t.id !== ticketId))\n      } else {\n        // Update the ticket status in the list\n        setTickets(prev => prev.map(t => t.id === ticketId ? { ...t, status: newStatus } : t))\n      }\n    } catch (error) {\n      console.error('Failed to update ticket status:', error)\n      throw error\n    }\n  }\n\n  const handleExport = async (type: string) => {\n    try {\n      const token = localStorage.getItem('accessToken')\n      const response = await fetch(`/api/v1/analytics/export?type=${type}&format=csv`, {\n        headers: token ? { Authorization: `Bearer ${token}` } : {},\n      })\n\n      const blob = await response.blob()\n      const url = window.URL.createObjectURL(blob)\n      const a = document.createElement('a')\n      a.href = url\n      a.download = `${type}-report-${new Date().toISOString().split('T')[0]}.csv`\n      document.body.appendChild(a)\n      a.click()\n      window.URL.revokeObjectURL(url)\n      document.body.removeChild(a)\n    } catch (error) {\n      console.error('Failed to export report:', error)\n    }\n  }\n\n  const isAgent = user?.roles?.some((r: string) => ['AGENT', 'IT_MANAGER', 'ADMIN'].includes(r))\n\n  if (loading) {\n    return <div style={{ padding: '2rem' }}>Loading dashboard...</div>\n  }\n\n  return (\n    <div style={{ padding: '2rem', maxWidth: '1400px', margin: '0 auto' }}>\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '2rem' }}>\n        <h1 style={{ margin: 0 }}>Dashboard</h1>\n        <div style={{ display: 'flex', gap: '1rem' }}>\n          <button\n            onClick={() => handleExport('tickets')}\n            style={{\n              padding: '0.5rem 1rem',\n              backgroundColor: 'var(--accent-primary)',\n              color: 'white',\n              border: 'none',\n              borderRadius: '6px',\n              cursor: 'pointer',\n            }}\n          >\n            Export Tickets CSV\n          </button>\n          <Link\n            href=\"/reports\"\n            style={{\n              padding: '0.5rem 1rem',\n              backgroundColor: 'var(--accent-primary)',\n              color: 'white',\n              textDecoration: 'none',\n              borderRadius: '6px',\n            }}\n          >\n            View Reports\n          </Link>\n        </div>\n      </div>\n\n      {metrics && (\n        <>\n          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '1rem', marginBottom: '2rem' }}>\n            <div\n              style={{\n                padding: '1.5rem',\n                border: '1px solid var(--border-color)',\n                borderRadius: '8px',\n                backgroundColor: 'var(--bg-secondary)',\n              }}\n            >\n              <h3 style={{ marginTop: 0, marginBottom: '0.5rem', fontSize: '0.875rem', color: 'var(--text-secondary)' }}>\n                Total Tickets\n              </h3>\n              <div style={{ fontSize: '2rem', fontWeight: 'bold' }}>{metrics.totalTickets}</div>\n            </div>\n\n            <div\n              style={{\n                padding: '1.5rem',\n                border: '1px solid var(--border-color)',\n                borderRadius: '8px',\n                backgroundColor: 'var(--bg-secondary)',\n              }}\n            >\n              <h3 style={{ marginTop: 0, marginBottom: '0.5rem', fontSize: '0.875rem', color: 'var(--text-secondary)' }}>\n                Open Tickets\n              </h3>\n              <div style={{ fontSize: '2rem', fontWeight: 'bold', color: 'orange' }}>{metrics.openTickets}</div>\n            </div>\n\n            <div\n              style={{\n                padding: '1.5rem',\n                border: '1px solid var(--border-color)',\n                borderRadius: '8px',\n                backgroundColor: 'var(--bg-secondary)',\n              }}\n            >\n              <h3 style={{ marginTop: 0, marginBottom: '0.5rem', fontSize: '0.875rem', color: 'var(--text-secondary)' }}>\n                Resolved Tickets\n              </h3>\n              <div style={{ fontSize: '2rem', fontWeight: 'bold', color: 'green' }}>{metrics.resolvedTickets}</div>\n            </div>\n\n            <div\n              style={{\n                padding: '1.5rem',\n                border: '1px solid var(--border-color)',\n                borderRadius: '8px',\n                backgroundColor: 'var(--bg-secondary)',\n              }}\n            >\n              <h3 style={{ marginTop: 0, marginBottom: '0.5rem', fontSize: '0.875rem', color: 'var(--text-secondary)' }}>\n                SLA Compliance\n              </h3>\n              <div\n                style={{\n                  fontSize: '2rem',\n                  fontWeight: 'bold',\n                  color: metrics.slaCompliance >= 90 ? 'green' : metrics.slaCompliance >= 75 ? 'orange' : 'red',\n                }}\n              >\n                {metrics.slaCompliance.toFixed(1)}%\n              </div>\n            </div>\n\n            {mttr !== null && (\n              <div\n                style={{\n                  padding: '1.5rem',\n                  border: '1px solid var(--border-color)',\n                  borderRadius: '8px',\n                  backgroundColor: 'var(--bg-secondary)',\n                }}\n              >\n                <h3 style={{ marginTop: 0, marginBottom: '0.5rem', fontSize: '0.875rem', color: 'var(--text-secondary)' }}>\n                  MTTR (Minutes)\n                </h3>\n                <div style={{ fontSize: '2rem', fontWeight: 'bold' }}>{mttr}</div>\n              </div>\n            )}\n\n            <div\n              style={{\n                padding: '1.5rem',\n                border: '1px solid var(--border-color)',\n                borderRadius: '8px',\n                backgroundColor: 'var(--bg-secondary)',\n              }}\n            >\n              <h3 style={{ marginTop: 0, marginBottom: '0.5rem', fontSize: '0.875rem', color: 'var(--text-secondary)' }}>\n                Avg Resolution Time\n              </h3>\n              <div style={{ fontSize: '2rem', fontWeight: 'bold' }}>{metrics.averageResolutionTime} min</div>\n            </div>\n          </div>\n\n          <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '2rem', marginBottom: '2rem' }}>\n            <div\n              style={{\n                padding: '1.5rem',\n                border: '1px solid var(--border-color)',\n                borderRadius: '8px',\n                backgroundColor: 'var(--bg-secondary)',\n              }}\n            >\n              <h2 style={{ marginTop: 0, marginBottom: '1rem' }}>Tickets by Priority</h2>\n              <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>\n                {Object.entries(metrics.ticketsByPriority).map(([priority, count]) => (\n                  <div key={priority} style={{ display: 'flex', justifyContent: 'space-between' }}>\n                    <span>{priority}:</span>\n                    <strong>{count}</strong>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            <div\n              style={{\n                padding: '1.5rem',\n                border: '1px solid var(--border-color)',\n                borderRadius: '8px',\n                backgroundColor: 'var(--bg-secondary)',\n              }}\n            >\n              <h2 style={{ marginTop: 0, marginBottom: '1rem' }}>Tickets by Status</h2>\n              <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>\n                {Object.entries(metrics.ticketsByStatus).map(([status, count]) => (\n                  <div key={status} style={{ display: 'flex', justifyContent: 'space-between' }}>\n                    <span>{status}:</span>\n                    <strong>{count}</strong>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        </>\n      )}\n\n      {isAgent && (\n        <>\n          <div style={{ marginBottom: '2rem' }}>\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem' }}>\n              <h2 style={{ margin: 0 }}>My Assigned Tickets</h2>\n              <Link href=\"/tickets\" className=\"btn btn-secondary\" style={{ fontSize: '0.875rem' }}>\n                View All Tickets\n              </Link>\n            </div>\n            {ticketsLoading ? (\n              <div style={{ padding: '2rem', textAlign: 'center' }}>Loading tickets...</div>\n            ) : (\n              <TicketsTable\n                tickets={tickets}\n                onStatusChange={handleStatusChange}\n                showQuickActions={true}\n                onRefresh={loadAssignedTickets}\n              />\n            )}\n          </div>\n\n          <div style={{ marginBottom: '2rem' }}>\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem' }}>\n              <h2 style={{ margin: 0 }}>Recent Knowledge Base Articles</h2>\n              <Link href=\"/kb\" className=\"btn btn-secondary\" style={{ fontSize: '0.875rem' }}>\n                View All Articles\n              </Link>\n            </div>\n            {kbLoading ? (\n              <div style={{ padding: '2rem', textAlign: 'center' }}>Loading articles...</div>\n            ) : kbArticles.length > 0 ? (\n              <div className=\"card\" style={{ padding: 0 }}>\n                <div style={{ display: 'flex', flexDirection: 'column' }}>\n                  {kbArticles.map((article) => (\n                    <Link\n                      key={article.id}\n                      href={`/kb/${article.slug}`}\n                      style={{\n                        padding: '1rem',\n                        borderBottom: '1px solid var(--border-color)',\n                        textDecoration: 'none',\n                        color: 'inherit',\n                        display: 'block',\n                      }}\n                    >\n                      <h3 style={{ margin: 0, marginBottom: '0.5rem', fontSize: '1rem' }}>{article.title}</h3>\n                      <div style={{ fontSize: '0.875rem', color: 'var(--text-secondary)' }}>\n                        Updated: {new Date(article.updatedAt).toLocaleDateString()}\n                      </div>\n                    </Link>\n                  ))}\n                </div>\n              </div>\n            ) : (\n              <div className=\"card\" style={{ padding: '2rem', textAlign: 'center', color: 'var(--text-secondary)' }}>\n                No knowledge base articles found.\n              </div>\n            )}\n          </div>\n        </>\n      )}\n\n      <div style={{ marginTop: '2rem' }}>\n        <h2 style={{ marginBottom: '1rem' }}>Quick Links</h2>\n        <div style={{ display: 'flex', gap: '1rem', flexWrap: 'wrap' }}>\n          <Link\n            href=\"/tickets\"\n            style={{\n              padding: '0.75rem 1.5rem',\n              backgroundColor: 'var(--bg-secondary)',\n              border: '1px solid var(--border-color)',\n              borderRadius: '6px',\n              textDecoration: 'none',\n              color: 'var(--text-primary)',\n            }}\n          >\n            View Tickets\n          </Link>\n          <Link\n            href=\"/assets\"\n            style={{\n              padding: '0.75rem 1.5rem',\n              backgroundColor: 'var(--bg-secondary)',\n              border: '1px solid var(--border-color)',\n              borderRadius: '6px',\n              textDecoration: 'none',\n              color: 'var(--text-primary)',\n            }}\n          >\n            View Assets\n          </Link>\n          <Link\n            href=\"/changes\"\n            style={{\n              padding: '0.75rem 1.5rem',\n              backgroundColor: 'var(--bg-secondary)',\n              border: '1px solid var(--border-color)',\n              borderRadius: '6px',\n              textDecoration: 'none',\n              color: 'var(--text-primary)',\n            }}\n          >\n            View Changes\n          </Link>\n          <Link\n            href=\"/kb\"\n            style={{\n              padding: '0.75rem 1.5rem',\n              backgroundColor: 'var(--bg-secondary)',\n              border: '1px solid var(--border-color)',\n              borderRadius: '6px',\n              textDecoration: 'none',\n              color: 'var(--text-primary)',\n            }}\n          >\n            Knowledge Base\n          </Link>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","ignoreList":[1,2]}