(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,62896,e=>{"use strict";var t=e.i(43476),r=e.i(71645);function a(){let[e,a]=(0,r.useState)([]),[d,n]=(0,r.useState)(!0),[o,s]=(0,r.useState)({startDate:"",endDate:""});(0,r.useEffect)(()=>{l()},[o]);let l=async()=>{try{n(!0);let e=localStorage.getItem("accessToken"),t=new URLSearchParams;o.startDate&&t.append("startDate",o.startDate),o.endDate&&t.append("endDate",o.endDate);let r=await fetch(`/api/v1/analytics/agents?${t.toString()}`,{headers:e?{Authorization:`Bearer ${e}`}:{}}),d=await r.json();d.success&&a(d.data.agents)}catch(e){console.error("Failed to load agent performance:",e)}finally{n(!1)}},i=async e=>{try{let t=localStorage.getItem("accessToken"),r=new URLSearchParams;r.append("type",e),r.append("format","csv"),o.startDate&&r.append("startDate",o.startDate),o.endDate&&r.append("endDate",o.endDate);let a=await fetch(`/api/v1/analytics/export?${r.toString()}`,{headers:t?{Authorization:`Bearer ${t}`}:{}}),d=await a.blob(),n=window.URL.createObjectURL(d),s=document.createElement("a");s.href=n,s.download=`${e}-report-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(s),s.click(),window.URL.revokeObjectURL(n),document.body.removeChild(s)}catch(e){console.error("Failed to export report:",e)}};return(0,t.jsxs)("div",{style:{padding:"2rem",maxWidth:"1400px",margin:"0 auto"},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[(0,t.jsx)("h1",{style:{margin:0},children:"Reports"}),(0,t.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,t.jsx)("button",{onClick:()=>i("tickets"),style:{padding:"0.5rem 1rem",backgroundColor:"var(--accent-primary)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Export Tickets"}),(0,t.jsx)("button",{onClick:()=>i("agents"),style:{padding:"0.5rem 1rem",backgroundColor:"var(--accent-primary)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Export Agents"})]})]}),(0,t.jsxs)("div",{style:{marginBottom:"2rem",display:"flex",gap:"1rem",flexWrap:"wrap"},children:[(0,t.jsx)("input",{type:"date",placeholder:"Start Date",value:o.startDate,onChange:e=>s({...o,startDate:e.target.value}),style:{padding:"0.5rem",border:"1px solid var(--border-color)",borderRadius:"6px"}}),(0,t.jsx)("input",{type:"date",placeholder:"End Date",value:o.endDate,onChange:e=>s({...o,endDate:e.target.value}),style:{padding:"0.5rem",border:"1px solid var(--border-color)",borderRadius:"6px"}})]}),(0,t.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,t.jsx)("h2",{style:{marginBottom:"1rem"},children:"Agent Performance"}),d?(0,t.jsx)("div",{children:"Loading agent performance..."}):(0,t.jsx)("div",{style:{border:"1px solid var(--border-color)",borderRadius:"8px",overflow:"hidden"},children:(0,t.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{style:{backgroundColor:"var(--bg-secondary)",borderBottom:"1px solid var(--border-color)"},children:[(0,t.jsx)("th",{style:{padding:"1rem",textAlign:"left"},children:"Agent"}),(0,t.jsx)("th",{style:{padding:"1rem",textAlign:"left"},children:"Tickets Resolved"}),(0,t.jsx)("th",{style:{padding:"1rem",textAlign:"left"},children:"Tickets Assigned"}),(0,t.jsx)("th",{style:{padding:"1rem",textAlign:"left"},children:"Avg Resolution (min)"}),(0,t.jsx)("th",{style:{padding:"1rem",textAlign:"left"},children:"Avg First Response (min)"})]})}),(0,t.jsx)("tbody",{children:0===e.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:5,style:{padding:"2rem",textAlign:"center",color:"var(--text-secondary)"},children:"No agent performance data found"})}):e.map(e=>(0,t.jsxs)("tr",{style:{borderBottom:"1px solid var(--border-color)"},children:[(0,t.jsx)("td",{style:{padding:"1rem"},children:e.name}),(0,t.jsx)("td",{style:{padding:"1rem"},children:e.ticketsResolved}),(0,t.jsx)("td",{style:{padding:"1rem"},children:e.ticketsAssigned}),(0,t.jsx)("td",{style:{padding:"1rem"},children:e.averageResolutionTime}),(0,t.jsx)("td",{style:{padding:"1rem"},children:e.firstResponseTime})]},e.id))})]})})]})]})}e.s(["default",()=>a])}]);