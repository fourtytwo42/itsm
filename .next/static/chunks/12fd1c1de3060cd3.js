(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,27873,e=>{"use strict";var t=e.i(18050),r=e.i(71645),i=e.i(18566);function a(){let e=(0,i.useRouter)(),[a,s]=(0,r.useState)(""),[l,n]=(0,r.useState)(""),[o,c]=(0,r.useState)("MEDIUM"),[d,u]=(0,r.useState)(""),[h,m]=(0,r.useState)(!1),p=async t=>{t.preventDefault(),u(""),m(!0);try{let t=localStorage.getItem("accessToken"),r=await fetch("/api/v1/tickets",{method:"POST",headers:{"Content-Type":"application/json",...t?{Authorization:`Bearer ${t}`}:{}},body:JSON.stringify({subject:a,description:l,priority:o})}),i=await r.json();if(!i.success){u(i.error?.message||"Failed to create ticket"),m(!1);return}e.push(`/tickets/${i.data.id}`)}catch(e){u("An unexpected error occurred"),m(!1)}};return(0,t.jsxs)("div",{className:"container",style:{padding:"2rem",maxWidth:"720px"},children:[(0,t.jsx)("h1",{style:{fontSize:"2rem",fontWeight:"bold",marginBottom:"1rem"},children:"Create Ticket"}),d&&(0,t.jsx)("div",{style:{padding:"0.75rem",backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid var(--error)",borderRadius:"0.5rem",marginBottom:"1rem",color:"var(--error)"},children:d}),(0,t.jsxs)("form",{onSubmit:p,className:"card",style:{display:"grid",gap:"1rem"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",htmlFor:"subject",children:"Subject"}),(0,t.jsx)("input",{id:"subject",className:"input",value:a,onChange:e=>s(e.target.value),required:!0,minLength:3,disabled:h})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",htmlFor:"description",children:"Description"}),(0,t.jsx)("textarea",{id:"description",className:"input",value:l,onChange:e=>n(e.target.value),required:!0,minLength:3,rows:6,disabled:h})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",htmlFor:"priority",children:"Priority"}),(0,t.jsxs)("select",{id:"priority",className:"input",value:o,onChange:e=>c(e.target.value),disabled:h,children:[(0,t.jsx)("option",{value:"LOW",children:"Low"}),(0,t.jsx)("option",{value:"MEDIUM",children:"Medium"}),(0,t.jsx)("option",{value:"HIGH",children:"High"}),(0,t.jsx)("option",{value:"CRITICAL",children:"Critical"})]})]}),(0,t.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:h,children:h?"Creating...":"Create Ticket"})]})]})}e.s(["default",()=>a])}]);