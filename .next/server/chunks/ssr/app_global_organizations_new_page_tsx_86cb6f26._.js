module.exports=[14772,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246);function f(){(0,d.useRouter)();let[a,f]=(0,c.useState)({name:"",slug:"",description:"",isActive:!0}),[g,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)(null),m=async b=>{b.preventDefault(),j(""),h(!0);try{let b=localStorage.getItem("accessToken"),c=await fetch("/api/v1/global/organizations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`},body:JSON.stringify(a)}),d=await c.json();if(!c.ok)throw Error(d.error||"Failed to create organization");l({email:d.orgAdmin.email,defaultPassword:d.orgAdmin.defaultPassword})}catch(a){j(a.message)}finally{h(!1)}};return k?(0,b.jsx)("div",{style:{padding:"2rem",maxWidth:"600px",margin:"0 auto"},children:(0,b.jsxs)("div",{className:"card",style:{padding:"2rem"},children:[(0,b.jsx)("h1",{style:{marginBottom:"1rem"},children:"Organization Created"}),(0,b.jsxs)("p",{style:{marginBottom:"1.5rem"},children:["Organization ",(0,b.jsx)("strong",{children:a.name})," has been created successfully."]}),(0,b.jsxs)("div",{style:{backgroundColor:"var(--bg-secondary)",padding:"1rem",borderRadius:"0.5rem",marginBottom:"1.5rem"},children:[(0,b.jsx)("h3",{style:{marginBottom:"0.5rem"},children:"Organization Admin Credentials"}),(0,b.jsxs)("p",{style:{margin:0,marginBottom:"0.5rem"},children:[(0,b.jsx)("strong",{children:"Email:"})," ",k.email]}),(0,b.jsxs)("p",{style:{margin:0},children:[(0,b.jsx)("strong",{children:"Default Password:"})," ",k.defaultPassword]}),(0,b.jsx)("p",{style:{marginTop:"0.5rem",fontSize:"0.875rem",color:"var(--text-secondary)"},children:"Please save these credentials. The admin will be required to change their password on first login."})]}),(0,b.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,b.jsx)(e.default,{href:"/global/organizations",className:"btn btn-primary",children:"View Organizations"}),(0,b.jsx)("button",{className:"btn",onClick:()=>{l(null),f({name:"",slug:"",description:"",isActive:!0})},children:"Create Another"})]})]})}):(0,b.jsxs)("div",{style:{padding:"2rem",maxWidth:"600px",margin:"0 auto"},children:[(0,b.jsx)("div",{style:{marginBottom:"1.5rem"},children:(0,b.jsx)(e.default,{href:"/global/organizations",className:"btn",children:"â† Back to Organizations"})}),(0,b.jsxs)("div",{className:"card",style:{padding:"2rem"},children:[(0,b.jsx)("h1",{style:{marginBottom:"1.5rem"},children:"Create Organization"}),i&&(0,b.jsx)("div",{style:{padding:"0.75rem",backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid var(--error)",borderRadius:"0.5rem",marginBottom:"1rem",color:"var(--error)"},children:i}),(0,b.jsxs)("form",{onSubmit:m,children:[(0,b.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,b.jsx)("label",{className:"label",htmlFor:"name",children:"Organization Name *"}),(0,b.jsx)("input",{id:"name",type:"text",className:"input",value:a.name,onChange:b=>f({...a,name:b.target.value}),required:!0,disabled:g})]}),(0,b.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,b.jsx)("label",{className:"label",htmlFor:"slug",children:"Slug *"}),(0,b.jsx)("input",{id:"slug",type:"text",className:"input",value:a.slug,onChange:b=>{let c=b.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"");f({...a,slug:c})},required:!0,pattern:"[a-z0-9-]+",disabled:g}),(0,b.jsx)("p",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",marginTop:"0.25rem"},children:"Lowercase letters, numbers, and hyphens only. Used for organization admin email: admin@[slug].demo"})]}),(0,b.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,b.jsx)("label",{className:"label",htmlFor:"description",children:"Description"}),(0,b.jsx)("textarea",{id:"description",className:"input",value:a.description,onChange:b=>f({...a,description:b.target.value}),rows:3,disabled:g})]}),(0,b.jsx)("div",{style:{marginBottom:"1.5rem"},children:(0,b.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,b.jsx)("input",{type:"checkbox",checked:a.isActive,onChange:b=>f({...a,isActive:b.target.checked}),disabled:g}),(0,b.jsx)("span",{children:"Active"})]})}),(0,b.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,b.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:g,children:g?"Creating...":"Create Organization"}),(0,b.jsx)(e.default,{href:"/global/organizations",className:"btn",children:"Cancel"})]})]})]})]})}a.s(["default",()=>f])}];

//# sourceMappingURL=app_global_organizations_new_page_tsx_86cb6f26._.js.map