module.exports=[4122,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246);function f(){let a=(0,d.useRouter)(),[f,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(!0),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)("");(0,c.useEffect)(()=>{n()},[]);let n=async()=>{try{i(!0);let a=localStorage.getItem("accessToken"),b=await fetch("/api/v1/manager/agents",{headers:a?{Authorization:`Bearer ${a}`}:{}}),c=await b.json();c.success?g(c.data.agents||c.data||[]):k(c.error?.message||"Failed to load agents")}catch(a){k("An unexpected error occurred")}finally{i(!1)}},o=async(a,b)=>{if(confirm(`Are you sure you want to ${b?"disable":"enable"} this agent?`))try{let c=localStorage.getItem("accessToken"),d=await fetch(`/api/v1/manager/agents/${a}/disable`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`},body:JSON.stringify({disabled:b})}),e=await d.json();e.success?n():k(e.error?.message||"Failed to update agent")}catch(a){k("An unexpected error occurred")}},p=async a=>{if(confirm("Are you sure you want to delete this agent? This action cannot be undone."))try{let b=localStorage.getItem("accessToken"),c=await fetch(`/api/v1/manager/agents/${a}`,{method:"DELETE",headers:{Authorization:`Bearer ${b}`}}),d=await c.json();d.success?n():k(d.error?.message||"Failed to delete agent")}catch(a){k("An unexpected error occurred")}},q=f.filter(a=>{if(!l)return!0;let b=l.toLowerCase();return a.email.toLowerCase().includes(b)||a.firstName?.toLowerCase().includes(b)||a.lastName?.toLowerCase().includes(b)});return h?(0,b.jsx)("div",{style:{padding:"2rem"},children:(0,b.jsx)("p",{children:"Loading agents..."})}):(0,b.jsxs)("div",{style:{padding:"2rem",maxWidth:"1400px",margin:"0 auto"},children:[(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[(0,b.jsx)("h1",{style:{fontSize:"2rem",margin:0},children:"My Agents"}),(0,b.jsx)("button",{onClick:()=>a.push("/manager/agents/new"),style:{padding:"0.75rem 1.5rem",backgroundColor:"var(--accent-primary)",color:"white",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontSize:"1rem"},children:"Register Agent"})]}),j&&(0,b.jsx)("div",{style:{padding:"1rem",backgroundColor:"var(--error-bg)",color:"var(--error-text)",borderRadius:"0.5rem",marginBottom:"1rem"},children:j}),(0,b.jsx)("div",{style:{marginBottom:"2rem"},children:(0,b.jsx)("input",{type:"text",placeholder:"Search agents...",value:l,onChange:a=>m(a.target.value),style:{width:"100%",maxWidth:"400px",padding:"0.75rem",border:"1px solid var(--border-color)",borderRadius:"0.5rem",backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)"}})}),0===q.length?(0,b.jsx)("div",{style:{textAlign:"center",padding:"3rem",color:"var(--text-secondary)"},children:(0,b.jsx)("p",{children:"No agents found. Register your first agent to get started."})}):(0,b.jsx)("div",{style:{display:"grid",gap:"1rem"},children:q.map(a=>(0,b.jsxs)("div",{style:{padding:"1.5rem",backgroundColor:"var(--bg-secondary)",borderRadius:"0.5rem",border:"1px solid var(--border-color)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,b.jsxs)("div",{style:{flex:1},children:[(0,b.jsx)("h3",{style:{margin:0,fontSize:"1.125rem",marginBottom:"0.5rem"},children:a.firstName||a.lastName?`${a.firstName||""} ${a.lastName||""}`.trim():a.email}),(0,b.jsx)("p",{style:{margin:0,color:"var(--text-secondary)",fontSize:"0.875rem"},children:a.email}),(0,b.jsxs)("div",{style:{display:"flex",gap:"1rem",marginTop:"0.5rem",fontSize:"0.875rem"},children:[(0,b.jsx)("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"1rem",backgroundColor:a.isActive?"var(--success-bg)":"var(--error-bg)",color:a.isActive?"var(--success-text)":"var(--error-text)"},children:a.isActive?"Active":"Inactive"}),(0,b.jsx)("span",{style:{color:"var(--text-secondary)"},children:a.roles.join(", ")}),a.tenantAssignments&&a.tenantAssignments.length>0&&(0,b.jsxs)("span",{style:{color:"var(--text-secondary)"},children:[a.tenantAssignments.length," tenant(s)"]})]})]}),(0,b.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,b.jsx)(e.default,{href:`/manager/agents/${a.id}`,style:{padding:"0.5rem 1rem",backgroundColor:"var(--accent-primary)",color:"white",textDecoration:"none",borderRadius:"0.5rem",fontSize:"0.875rem"},children:"Manage"}),(0,b.jsx)("button",{onClick:()=>o(a.id,a.isActive),style:{padding:"0.5rem 1rem",backgroundColor:a.isActive?"var(--warning-bg)":"var(--success-bg)",color:a.isActive?"var(--warning-text)":"var(--success-text)",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontSize:"0.875rem"},children:a.isActive?"Disable":"Enable"}),(0,b.jsx)("button",{onClick:()=>p(a.id),style:{padding:"0.5rem 1rem",backgroundColor:"var(--error-bg)",color:"var(--error-text)",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontSize:"0.875rem"},children:"Delete"})]})]},a.id))})]})}a.s(["default",()=>f])}];

//# sourceMappingURL=app_manager_agents_page_tsx_95b7005e._.js.map